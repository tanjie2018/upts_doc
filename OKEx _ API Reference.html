<!DOCTYPE html>
<!-- saved from url=(0047)https://www.okex.com/docs/zh/#summary-yan-zheng -->
<html lang="zh-hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        
        <title>OKEx | API Reference</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="./OKEx _ API Reference_files/style.css">

    
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/style(1).css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/expand-chapter-anchor.css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/language-picker.css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/website.css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/search.css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/website(1).css">
                
            
                
                <link rel="stylesheet" href="./OKEx _ API Reference_files/theme-api.css">
                
            
        

    

    
        
    
        
    

    <link rel="stylesheet" href="./OKEx _ API Reference_files/website(2).css">

        
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.okex.com/docs/gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="https://www.okex.com/docs/favicon.png?_st=20181207184454" type="image/x-icon">

    </head>
    <body>
        
<div class="book without-animation with-summary font-size-2 font-family-1 two-columns">
    <div class="book-summary">
        
    <div class="book-logo"><a href="https://www.okex.com/"><img src="./OKEx _ API Reference_files/logo.png"></a></div>
    
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter expanded" data-level="1.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#README">
            
                    
                    入门指引
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-README">
            
                    
                    API概述
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter expanded" data-level="1.2.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-match">
            
                    
                    撮合引擎
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-fees">
            
                    
                    费用
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-servers">
            
                    
                    服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-requests">
            
                    
                    请求
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-pages">
            
                    
                    分页
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-rules">
            
                    
                    标准规范
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-ports">
            
                    
                    接口类型
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.2.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-limit">
            
                    
                    访问限制
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded active" data-level="1.2.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#summary-yan-zheng">
            
                    
                    验证
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-README">
            
                    
                    钱包API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter expanded" data-level="1.3.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-currencies">
            
                    
                    获取币种列表
            
                </a>
            

            
        </li>
    
        <li class="chapter expanded" data-level="1.3.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-information">
            
                    
                    钱包账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-singleness">
            
                    
                    单一币种账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-transfer">
            
                    
                    资金划转
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-extract">
            
                    
                    提币
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-charge">
            
                    
                    提币手续费
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-cha-xun-zui-jin-suo-you-bi-zhong-de-ti-bi-ji-lu">
            
                    
                    查询最近所有币种的提币记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-cha-xun-dan-ge-bi-zhong-ti-bi-ji-lu">
            
                    
                    查询单个币种提币记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-query">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-huo-qu-chong-zhi-di-zhi">
            
                    
                    获取充值地址
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-huo-qu-suo-you-bi-zhong-chong-zhi-ji-lu">
            
                    
                    获取所有币种充值记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-huo-qu-dan-ge-bi-zhong-chong-zhi-ji-lu">
            
                    
                    获取单个币种充值记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.3.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#account-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-README">
            
                    
                    币币API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.4.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-account_information">
            
                    
                    币币账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-singleness">
            
                    
                    单一币种账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-query">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-orders">
            
                    
                    下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-batch">
            
                    
                    批量下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-revocation">
            
                    
                    撤销指定订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-repeal">
            
                    
                    批量撤销订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-list">
            
                    
                    获取订单列表
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-huo-qu-wei-wan-cheng-ding-dan">
            
                    
                    获取所有未成交订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-order_information">
            
                    
                    获取订单信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-detail">
            
                    
                    获取成交明细
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-currency">
            
                    
                    获取币对信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-data">
            
                    
                    获取深度数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.14" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-all">
            
                    
                    获取全部ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.15" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-some">
            
                    
                    获取某个ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.16" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-deal_information">
            
                    
                    获取成交数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.17" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-line">
            
                    
                    获取K线数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.4.18" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-README">
            
                    
                    币币杠杆API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.5.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-account_information">
            
                    
                    币币杠杆账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-singleness">
            
                    
                    单一币对账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-query">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-configuration_information">
            
                    
                    杠杆配置信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-some_information">
            
                    
                    某个杠杆配置信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-record">
            
                    
                    获取借币记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-some_record">
            
                    
                    某账户借币记录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-borrow">
            
                    
                    借币
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-repay">
            
                    
                    还币
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-orders">
            
                    
                    下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-batch">
            
                    
                    批量下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-revocation">
            
                    
                    撤销指定订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-repeal">
            
                    
                    批量撤销订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.14" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-list">
            
                    
                    获取订单列表
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.15" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-order_information">
            
                    
                    获取订单信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.16" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-huo-qu-wei-wan-cheng-ding-dan">
            
                    
                    获取所有未成交订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.17" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-detail">
            
                    
                    获取成交明细
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.18" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-market">
            
                    
                    币币杠杆行情
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.5.19" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#spot_leverage-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-README">
            
                    
                    合约API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.6.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-hold_information">
            
                    
                    合约持仓信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-only">
            
                    
                    单个合约持仓信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-singleness">
            
                    
                    所有币种合约账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-singleness-single">
            
                    
                    单个币种合约账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-huo-qu-he-yue-bi-zhong-gang-gan-bei-shu">
            
                    
                    获取合约币种杠杆倍数
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-she-ding-he-yue-bi-zhong-gang-gan-bei-shu">
            
                    
                    设定合约币种杠杆倍数
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-query">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-orders">
            
                    
                    下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-batch">
            
                    
                    批量下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-revocation">
            
                    
                    撤销指定订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-repeal">
            
                    
                    批量撤销订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-list">
            
                    
                    获取订单列表
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-order_information">
            
                    
                    获取订单信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.14" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-futuresdetail">
            
                    
                    获取成交明细
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.15" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-contract_information">
            
                    
                    获取合约信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.16" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-data">
            
                    
                    获取深度数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.17" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-all">
            
                    
                    获取全部ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.18" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-some">
            
                    
                    获取某个ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.19" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-deal_data">
            
                    
                    获取成交数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.20" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-line">
            
                    
                    获取K线数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.21" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-index_information">
            
                    
                    获取指数信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.22" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-rate">
            
                    
                    获取法币汇率
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.23" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-price">
            
                    
                    获取预估交割价
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.24" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-total">
            
                    
                    获取平台总持仓量
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.25" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-current">
            
                    
                    获取当前限价
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.26" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-huo-qu-bao-cang-dan">
            
                    
                    获取爆仓单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.27" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-hold_amount">
            
                    
                    获取合约挂单冻结数量
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.6.28" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#futures-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-README">
            
                    
                    永续合约API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.7.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---only">
            
                    
                    单个合约持仓信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---singleness">
            
                    
                    所有币种合约账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---singleness-single">
            
                    
                    单个币种合约账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---huo-qu-he-yue-bi-zhong-gang-gan-bei-shu">
            
                    
                    获取某个合约的用户配置
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---she-ding-he-yue-bi-zhong-gang-gan-bei-shu">
            
                    
                    设定某个合约的杠杆
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---query">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---orders">
            
                    
                    下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---batch">
            
                    
                    批量下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---revocation">
            
                    
                    撤单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---repeal">
            
                    
                    批量撤单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---list">
            
                    
                    获取所有订单列表
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---hold_information">
            
                    
                    获取订单信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---futuresdetail">
            
                    
                    获取成交明细
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.14" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---contract_information">
            
                    
                    获取合约信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.15" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---data">
            
                    
                    获取深度数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.16" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---all">
            
                    
                    获取全部ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.17" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---some">
            
                    
                    获取某个ticker信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.18" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---deal_data">
            
                    
                    获取成交数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.19" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---line">
            
                    
                    获取K线数据
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.20" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---index_information">
            
                    
                    获取指数信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.21" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---rate">
            
                    
                    获取法币汇率
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.22" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---total">
            
                    
                    获取平台总持仓量
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.23" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---current">
            
                    
                    获取当前限价
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.24" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---huo-qu-bao-cang-dan">
            
                    
                    获取爆仓单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.25" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---hold_amount">
            
                    
                    获取合约挂单冻结数量
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.26" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---jiesuanshijianhahaha">
            
                    
                    获取合约下一次结算时间
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.27" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---markprice">
            
                    
                    获取合约标记价格
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.28" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---zijinfeilvhahaha">
            
                    
                    获取合约历史资金费率
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.7.29" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap-swap---error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-README">
            
                    
                    ETT API
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.8.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-account_information">
            
                    
                    组合账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-query">
            
                    
                    单一币种账户信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-singleness">
            
                    
                    账单流水查询
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-orders">
            
                    
                    下单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-revocation">
            
                    
                    撤销指定订单
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-list">
            
                    
                    获取订单列表
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-order_information">
            
                    
                    获取订单信息
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-combination">
            
                    
                    获取组合成分
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.8.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#ett-history_price">
            
                    
                    获取ETT清算历史定价
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#error-Error_Code">
            
                    
                    RestAPI 错误码
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.9.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#error-public">
            
                    
                    公共错误码
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.9.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#error-futures">
            
                    
                    交割合约错误码
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.9.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#error-spot">
            
                    
                    币币和杠杆错误码
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.9.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#error-account">
            
                    
                    钱包错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-README">
            
                    
                    WebsocketAPI
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.10.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-all">
            
                    
                    永续合约
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.10.1.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-general">
            
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-format">
            
                    
                    指令格式
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-sub">
            
                    
                    订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-unsub">
            
                    
                    取消订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-login">
            
                    
                    登录
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-limit">
            
                    
                    连接限制
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-checksum">
            
                    
                    校验和机制
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-channel">
            
                    
                    频道说明
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.9" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-ticker">
            
                    
                    ticker频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.10" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-candel">
            
                    
                    K线频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-trade">
            
                    
                    交易频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-fee">
            
                    
                    资金费率频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.13" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-range">
            
                    
                    限价频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.14" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-depth5">
            
                    
                    深度5频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.15" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-depth">
            
                    
                    深度频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.16" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-mark">
            
                    
                    标记价格频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.17" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-position">
            
                    
                    用户持仓频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.18" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-account">
            
                    
                    用户账户频道
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.1.19" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-order">
            
                    
                    用户交易频道
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.10.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#index-README">
            
                    
                    WS公共指数频道
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.10.2.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#index-ticker">
            
                    
                    指数行情
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.2.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#index-candel">
            
                    
                    指数K线
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.10.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#WebSocketAPI">
            
                    
                    现货/交割合约WS说明
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.10.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#swap_ws-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.11" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-README">
            
                    
                    更新日志
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.11.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-summarize">
            
                    
                    API概述
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-wallet">
            
                    
                    钱包
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.3" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-token_trading">
            
                    
                    币币
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.4" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-margin_trading">
            
                    
                    币币杠杆
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.5" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-futures_trading">
            
                    
                    交割合约
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.6" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-ett">
            
                    
                    ETT
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.7" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-error_code">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.8" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-README">
            
                    
                    Websocket更新日志
            
                <i class="exc-trigger fa"></i></a>
            

            
            <ul class="articles">
                
    
        <li class="chapter" data-level="1.11.8.1" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-swap">
            
                    
                    永续合约
            
                </a>
            

            
        </li>
    
        <li class="chapter" data-level="1.11.8.2" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#change-swap_errorcode">
            
                    
                    错误码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter" data-level="1.12" data-path="./">
            
                <a href="https://www.okex.com/docs/zh/#support-README">
            
                    
                    问题反馈
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com/" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <a class="btn pull-left js-toolbar-action" aria-label="" href="https://www.okex.com/docs/zh/#"><i class="fa fa-align-justify"></i></a><a class="btn pull-left js-toolbar-action" aria-label="Change Layout" href="https://www.okex.com/docs/zh/#"><i class="fa fa-columns"></i></a><div class="dropdown pull-left font-settings js-toolbar-action"><a class="btn toggle-dropdown" aria-label="Font Settings" href="https://www.okex.com/docs/zh/#"><i class="fa fa-font"></i></a><div class="dropdown-menu dropdown-right"><div class="dropdown-caret"><span class="caret-outer"></span><span class="caret-inner"></span></div><div class="buttons"><button class="button size-2 font-reduce">A</button><button class="button size-2 font-enlarge">A</button></div><div class="buttons"><button class="button size-2 ">Serif</button><button class="button size-2 ">Sans</button></div><div class="buttons"><button class="button size-2 ">Light</button><button class="button size-2 ">Dark</button></div></div></div><a class="btn pull-right lang-switcher js-toolbar-action" aria-label="" href="https://www.okex.com/docs/zh/#" style="display: inline;"> PYTHON</a><a class="btn pull-right lang-switcher js-toolbar-action" aria-label="" href="https://www.okex.com/docs/zh/#" style="display: inline;"> C++</a><a class="btn pull-right lang-switcher js-toolbar-action" aria-label="" href="https://www.okex.com/docs/zh/#" style="display: inline;"> GO</a><a class="btn pull-right lang-switcher active js-toolbar-action" aria-label="" href="https://www.okex.com/docs/zh/#" style="display: inline;"> JAVA</a><h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="https://www.okex.com/docs/zh/">入门指引</a>
    </h1>
    <div class="lang-picker">
        <span>
        
            中文
        
        </span>
        <ul>
            <li class="current"><a href="https://www.okex.com/docs/zh/">中文</a></li>
            <li><a href="https://www.okex.com/docs/en/">English</a></li>
        </ul>
    </div>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
    
                                <h3 id="README">入门指引</h3>
<hr>
<h5 id="欢迎使用okex开发者文档。此文档目前为v3-beta版，会继续更新，请大家及时关注。">欢迎使用OKEx开发者文档。此文档目前为V3 Beta版，会继续更新，请大家及时关注。</h5>
<p>此文档为用户提供了一整套简单而又强大的开发工具，旨在帮助用户快速、高效地将OKEx交易功能整合到自己的应用当中。<br>OKEx接口是提供服务的基础，API分为账户、交易和行情三类。开发者在OKEx网站创建账号后，可以根据自身需求建立不同权限的API，并利用API进行自动交易或者提现。<br>账户和交易API需要身份验证，提供下单、撤单，查询订单和帐户信息等功能。行情API提供市场的行情数据，所有行情接口都是公开的。</p>
<h4 id="使用流程">使用流程</h4>
<p>步骤：开发者如需使用API ，请先申请v3API key等信息 <a class="with-root" href="https://www.okex.com/account/users/myApi" target="_blank">点击申请API key</a>，然后根据此文档详情进行开发交易，使用过程中如有问题或者建议请及时反馈。</p>
<h4 id="接口调用方式说明">接口调用方式说明</h4>
<p>OKEx为用户提供两种调用接口的方式，开发者可根据自己的使用场景和偏好选择适合自己的方式来查询行情、进行交易或提现。
<a href="https://github.com/okcoin-okex/open-api-v3-sdk" target="_blank">可参考SDK(点击跳转SDK详情页面)</a></p>
<h5 id="rest-api">REST API</h5>
<p>REST，即Representational State Transfer的缩写，是目前最流行的一种互联网软件架构。它结构清晰、符合标准、易于理解、扩展方便，正得到越来越多网站的采用。其优点如下：</p>
<ul>
<li>在RESTful架构中，每一个URL代表一种资源；</li>
<li>客户端和服务器之间，传递这种资源的某种表现层；</li>
<li>客户端通过四个HTTP指令，对服务器端资源进行操作，实现“表现层状态转化”。
建议开发者使用REST API进行币币交易或者资产提现等操作。</li>
</ul>
<h5 id="websocket-api">WebSocket API</h5>
<p>WebSocket是HTML5一种新的协议(Protocol)。它实现了客户端与服务器全双工通信，使得数据可以快速地双向传播。通过一次简单的握手就可以建立客户端和服务器连接，服务器根据业务规则可以主动推送信息给客户端。其优点如下：</p>
<ul>
<li>客户端和服务器进行数据传输时，请求头信息比较小，大概2个字节;</li>
<li>客户端和服务器皆可以主动地发送数据给对方；</li>
<li>不需要多次创建TCP请求和销毁，节约宽带和服务器的资源。
强烈建议开发者使用WebSocket API获取市场行情和买卖深度等信息。</li>
</ul>
<h4 id="联系我们">联系我们</h4>
<p>如需帮助请添加微信号：okoverseasusers  备注：API+OKEx，拉你进API问题交流群</p>
<h3 id="summary-README">API概述</h3>
<p>市场概况和基础信息</p>
<h3 id="summary-match">撮合引擎</h3>
<p>本章节主要为撮合引擎的细节分以下四个方面：</p>
<ul>
<li>成交价</li>
<li>订单生命周期</li>
<li>币币交易限价规则</li>
<li>合约交易限价规则</li>
</ul>
<h4 id="成交价">成交价</h4>
<p>OKEx撮合系统撮合订单的优先级按照价格优于时间的优先级来撮合，优先撮合价格更有优势的订单。当价格一致时按照下单时间顺序撮合，先下单的先撮合。</p>
<p>比如深度列表中目前有3笔挂单等待成交，分别为1: 9900USDT买1BTC，2: 10100USDT买2BTC，3: 9900USDT买1.5BTC。他们是按时间顺序1-2-3进入撮合系统的，根据价格优先，系统优先撮合订单2，根据时间优先，1跟3优先撮合1。所以系统撮合顺序是2-1-3。</p>
<p>订单撮合时成交价将按maker挂单价格成交，而非taker吃单价格。</p>
<p>例如：A用户在10000USDT挂了1BTC的买单，然后B用户以8000USDT的价格下了1BTC的卖单，因为A用户的订单先进入撮合系统挂在深度列表上，所以以A的价格为准，最终这笔订单最终以10000USDT成交。</p>
<h4 id="订单生命周期">订单生命周期</h4>
<p>订单进入撮合引擎后是"未成交"状态；</p>
<p>如果一个订单被撮合而全部成交，那么它会变成"已成交"状态；</p>
<p>一个订单被撮合可能出现部分成交，那么他的状态会变成"部分成交"状态，并且继续留在撮合队列中进行撮合；</p>
<p>一个留在撮合队伍中等待撮合的订单被撤销，那么他的状态会变成"已撤销"状态；</p>
<p>发起撤消到完成撤消的过程中有一个过程状态"撤单中"；</p>
<p>被撤消或者全部成交的订单将被从撮合队列中剔除。</p>
<h4 id="币币交易限价规则">币币交易限价规则</h4>
<p>为了防止用户下错大单造成市场异常波动和个人资金损失，OKEx币币交易设置了FOK限价规则：如果用户在币币交易所下的市价单/限价单可以与当前买卖盘内订单直接成交，那么系统会判断成交深度对应的价格与同方向盘口价的偏差是否超出30%。如果超过，则此订单将被系统立即全数撤销，否则此订单正常进行撮合。</p>
<p>例如：某用户在XRP/BTC交易区下了100BTC的市价买单(此时卖一价为0.00012)，系统判断订单完成成交后最新成交价为0.0002。此时，(0.0002-0.00012)/0.00012=66.7%&gt;30%，用户的这笔市价买单将被立即撤销，不会和买卖盘内订单进行撮合。</p>
<h4 id="合约交易限价规则">合约交易限价规则</h4>
<p>限价是保护投资者，防止市场被操控的重要风控手段之一。如果没有限价规则，少数交易者可以使用少量资金和高杠杆倍数，使合约价格大幅波动，人为制造大额分摊。另一方面，如果限价规则过于简单，会导致市场缺乏活力，与币币没有溢价，失去了合约交易本身的意义。为了更好地起到风控效果，限价的具体规则是不完全公开的，OKEx会综合市场的交易量、成交量、持仓量、偏离指数的百分比等十几个参数，动态地计算风控规则。同时为了方便用户更好地了解限价和交易便利。</p>
<p>限价规则：该限价规则适合所有币种的合约。</p>
<p>新合约生成10分钟内：最高价=现货指数（1+5%），最低价=现货指数（1-5%）。</p>
<p>合约生成了10分钟后：最高价=近10分钟溢价平均值+现货指数（1+3%）,最低价=近10分钟溢价均值+现货指数（1-3%），溢价=合约价格-现货价格。</p>
<p>若计算后的价格超过最高偏离度的现货指数25%或价格小于0，则最高价=现货指数（1+25%），最低价=现货指数（1-25%）。</p>
<p>以上规则，开平仓都受限制，若开多或平空，当委托价高于最高价，则将触发限价；若开空或平多，当委托价低于最新价，则将触发限价。</p>
<h3 id="summary-fees">费用</h3>
<p>本章节主要为费用的细节分以下两个方面：</p>
<ul>
<li>交易费用</li>
<li>充/提币费用</li>
</ul>
<h4 id="交易费用">交易费用</h4>
<p>OKEx采用maker-taker收费规则，为鼓励挂单，maker挂单成交的手续费会比taker吃单成交的手续费低。<br>同时，为了鼓励成交，OKEx推出阶梯手续费政策，根据你前30天的累计交易量划分不同的手续费等级，成交量越高，手续费等级越高，手续费越低。<br>除了手续费优惠，OKEx还为提供流动性的专业用户提供了市商计划。参与市商计划后，只要您能够提供稳定的深度以及盘口点差，即可获得Maker手续费返还。<br><a href="https://www.okex.com/pages/products/fees.html" target="_blank">详情请查看(点击跳转至费率详情页面)</a></p>
<h4 id="充提币费用">充/提币费用</h4>
<p>OKEx不收取任何充币/提币费用，在OKCoin币行、OKCoin国际站和OKEx这3个站账户之间进行资金划转不需要支付矿工手续费，并且实时到账。但是提币到这3个站账户之外的数字货币地址的过程中产生的矿工手续费需要用户自己承担。</p>
<h3 id="summary-servers">服务器</h3>
<p>OKEx的数据库和服务器运行在香港。为了最大限度地减少API访问延迟，建议您使用与香港通讯通畅的服务器。</p>
<h3 id="summary-requests">请求</h3>
<p>本章节主要为请求的细节分以下三个方面：</p>
<ul>
<li>介绍</li>
<li>错误</li>
<li>成功</li>
</ul>
<h4 id="介绍">介绍</h4>
<p>REST API提供账户管理、行情查询和交易功能。</p>
<p>REST API终端URL <code>https://www.okex.com/</code></p>
<p>同时OKEx还提供了WebSocket流，订阅WebSocket可以获取行情数据的推送。</p>
<p>所有请求基于Https协议，请求头信息中contentType需要统一设置为:’application/json’</p>
<h4 id="错误">错误</h4>
<p>除非特殊说明，错误请求都通过HTTP 4xx或者状态码进行返回，返回内容还将包含错误原因、参数信息。您的HTTP库应配置为非2xx请求提供消息主体，以便您可以从主体读取消息字段。</p>
<h5 id="常见错误码">常见错误码</h5>
<table>
<thead>
<tr>
<th style="text-align:center">400</th>
<th style="text-align:center">Bad Request — Invalid request fotmat</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>401</strong></td>
<td style="text-align:center"><strong>Unauthorized — Invalid API Key</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>403</strong></td>
<td style="text-align:center"><strong>Forbidden — You do not have access to the requested resource</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>404</strong></td>
<td style="text-align:center"><strong>Not Found</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>500</strong></td>
<td style="text-align:center"><strong>Intermal Server Error — We had a problem with our server</strong></td>
</tr>
</tbody>
</table>
<h4 id="成功">成功</h4>
<p>HTTP状态码200表示成功响应，并可能包含内容。如果响应含有内容，则将显示在相应的返回内容里面。</p>
<h3 id="summary-pages">分页</h3>
<p>OKEx为所有返回数据集的REST请求使用分页。分页允许在结果的当前页面之前和之后获取结果，并且非常适合于实时数据。像/ trades，/ fill，/ orders这样默认返回最新内容的请求。根据当前的返回结果，后续请求可以在他的基础之上指定请求数据的方向，可以请求在这之前的，也可以请求在这之后的数据。</p>
<p>from和to可通过响应头OK-FROM和OK-TO使用。在请求初始请求页面之后，请求应使用这些值。</p>
<p>From游标指向的是返回结果页的第一条内容，To游标指向的是返回结果页的最后一条内容。(页面内容是按照最新的排在最上面的顺序)</p>
<p>如果你希望请求当前返回结果页最后的新数据，需要用from参数。你的第一个请求可以省略这个参数来获得默认的第一页。</p>
<p>返回结果将会包含一个OK-FROM头这里会包含当前返回结果页里面最新的一条的数据的ID。</p>
<p>返回结果将会包含一个OK-TO头这里会包含当前返回结果页里面最后的一条的数据的ID。</p>
<p>举例如果你请求返回的结果每一条内容的id是111，112，113，114，115，116，117，118，119，120</p>
<p>那么在返回结果里面这些内容的排列顺序是120，119，118，117，116，115，114，113，112，111</p>
<p>这时OK-FROM记录的ID是111，OK-TO记录的ID是120，如果你想访问更新的数据，如120以后的数据那么你需要使用from参数，如：orders?from=120&amp;limit=5,则返回的是120以后的5条数据，且排列顺序为：125，124，123，122，121</p>
<h5 id="参数">参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">from</td>
<td style="text-align:center">请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td style="text-align:center">to</td>
<td style="text-align:center">请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td style="text-align:center">limit</td>
<td style="text-align:center">分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<h5 id=""> </h5>
<h5 id="例子">例子</h5>
<p>GET /orders?from=2&amp;limit=30</p>
<h3 id="summary-rules">标准规范</h3>
<p>本章节主要为标准规范的细节分以下三个方面：</p>
<ul>
<li>时间戳</li>
<li>数字</li>
<li>ID</li>
</ul>
<h4 id="时间戳">时间戳</h4>
<p>除非另外指定，API中的所有时间戳均以毫秒为单位返回，符合ISO 8601标准。请确保您可以解析ISO 8601格式。</p>
<h5 id="例子">例子</h5>
<p>2014-11-06T10:34:47.123Z</p>
<h4 id="数字">数字</h4>
<p>为了保持跨平台时精度的完整性，十进制数字作为字符串返回。建议您在发起请求时也将数字转换为字符串以避免截断和精度错误。</p>
<p>整数（如交易编号和顺序）不加引号。</p>
<h4 id="id">ID</h4>
<p>除非另有说明，大多数标识符是UUID。当提出一个需要UUID的请求时，以下两个形式（有和没有破折号）都被接受。</p>
<p>132fb6ae-456b-4654-b4e0-d681ac05cea1或者132fb6ae456b4654b4e0d681ac05cea1</p>
<h3 id="summary-ports">接口类型</h3>
<p>本章节主要为接口类型的细节分以下两个方面：</p>
<ul>
<li>公共接口</li>
<li>私有接口</li>
</ul>
<h4 id="公共接口">公共接口</h4>
<p>公共接口可用于获取配置信息和行情数据。公共请求无需认证即可调用。</p>
<h4 id="私有接口">私有接口</h4>
<p>私有接口可用于订单管理和账户管理。每个私有请求必须使用规范的验证形式进行签名。</p>
<p>私有接口需要使用您的API key进行验证。您可以在这里生成API key。</p>
<h3 id="summary-limit">访问限制</h3>
<p>本章节主要为访问限制的细节分以下两个方面：</p>
<ul>
<li>REST API</li>
<li>WebSocket</li>
</ul>
<p>当访问超过频率限制时，将返回429状态：请求太频繁。</p>
<h4 id="rest-api">REST API</h4>
<p>如果传入有效的API key 用user id限速；如果没有则拿公网IP限速。</p>
<p>限速规则：各个接口上有单独的说明，如果没有一般接口限速为 6次/秒。</p>
<h4 id="websocket">WebSocket</h4>
<p>WebSocket将每个命令类型限制为每秒50条命令。</p>
<h3 id="summary-yan-zheng">验证</h3>
<p>本章节主要为验证的细节分以下五个方面：</p>
<ul>
<li>生成API Key</li>
<li>发起请求</li>
<li>签名</li>
<li>时间戳</li>
<li>获取服务器时间</li>
</ul>
<h4 id="生成api-key">生成API Key</h4>
<p>在对任何请求进行签名之前，您必须通过OKEx网站创建一个API Key。创建API Key后，您将获得3个必须记住的信息：</p>
<p>API Key<br>Secret<br>Passphrase<br>API Key和Secret将由OKEx随机生成和提供，Passphrase将由您提供以确保API访问的安全性。OKEx将存储Passphrase加密后的哈希值进行验证，但如果您忘记Passphrase，则无法恢复，请您通过OKEx网站重新生成新的API Key。</p>
<h4 id="发起请求">发起请求</h4>
<p>所有REST请求头都必须包含以下内容：</p>
<p>OK-ACCESS-KEY字符串类型的API Key。</p>
<p>OK-ACCESS-SIGN使用base64编码签名(请参阅签名)。</p>
<p>OK-ACCESS-TIMESTAMP发起请求的时间戳。</p>
<p>OK-ACCESS-PASSPHRASE您在创建API密钥时指定的Passphrase。</p>
<p>所有请求都应该含有application/json类型内容，并且是有效的JSON。</p>
<div class="api-method"><div class="api-method-definition"><h4 id="签名">签名</h4>
<p>OK-ACCESS-SIGN的请求头是对timestamp + method + requestPath + body字符串(+表示字符串连接)，以及secretKey，使用HMAC SHA256方法加密，通过BASE64编码输出而得到的。</p>
<p>例如： sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/users/self/verify', secretKey))</p>
<p>其中，timestamp的值与OK-ACCESS-TIMESTAMP请求头相同，必须是UTC时区Unix时间戳的十进制秒数格式或ISO8601标准的时间格式，精确到毫秒。。</p>
<p>method是请求方法，字母全部大写：GET/POST。</p>
<p>requestPath是请求接口路径。例如：/orders?before=2&amp;limit=30</p>
<p>body是指请求主体的字符串，如果请求没有主体(通常为GET请求)则body可省略。例如：{"product_id":"BTC-USD-0309","order_id":"377454671037440"}</p>
<p>secretKey为用户申请API Key时所生成。例如：prehash string：2018-03-08T10:59:25.789ZPOST/orders?before=2&amp;limit=30{"product_id":"BTC-USD-0309","order_id":"377454671037440"}</p>
</div><div class="api-method-code"><div class="api-method-example"></div><div class="api-method-sample" data-lang="Java" data-name="JAVA"><pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> ContentTypeEnum {

    APPLICATION_JSON(<span class="hljs-string">"application/json"</span>),
    APPLICATION_JSON_UTF8(<span class="hljs-string">"application/json; charset=UTF-8"</span>),
    <span class="hljs-comment">// The server does not support types</span>
    APPLICATION_FORM(<span class="hljs-string">"application/x-www-form-urlencoded; charset=UTF-8"</span>),;


    <span class="hljs-keyword">private</span> String contentType;

    ContentTypeEnum(String contentType) {
        <span class="hljs-keyword">this</span>.contentType = contentType;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">contentType</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> contentType;
    }
}


<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> HttpHeadersEnum {

    OK_ACCESS_KEY(<span class="hljs-string">"OK-ACCESS-KEY"</span>),
    OK_ACCESS_SIGN(<span class="hljs-string">"OK-ACCESS-SIGN"</span>),
    OK_ACCESS_TIMESTAMP(<span class="hljs-string">"OK-ACCESS-TIMESTAMP"</span>),
    OK_ACCESS_PASSPHRASE(<span class="hljs-string">"OK-ACCESS-PASSPHRASE"</span>),

    OK_FROM(<span class="hljs-string">"OK-FROM"</span>),
    OK_TO(<span class="hljs-string">"OK-TO"</span>),
    OK_LIMIT(<span class="hljs-string">"OK-LIMIT"</span>),;

    <span class="hljs-keyword">private</span> String header;

    HttpHeadersEnum(String header) {
        <span class="hljs-keyword">this</span>.header = header;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">header</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> header;
    }
}

<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.config.APIConfiguration;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.constant.APIConstants;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.enums.ContentTypeEnum;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.enums.HttpHeadersEnum;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.exception.APIException;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.utils.DateUtils;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.utils.HmacSHA256Base64Utils;
<span class="hljs-keyword">import</span> okhttp3.*;
<span class="hljs-keyword">import</span> okio.Buffer;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">APIHttpClient</span> </span>{

    <span class="hljs-keyword">private</span> APIConfiguration config;
    <span class="hljs-keyword">private</span> APICredentials credentials;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">APIHttpClient</span><span class="hljs-params">(APIConfiguration config, APICredentials credentials)</span> </span>{
        <span class="hljs-keyword">this</span>.config = config;
        <span class="hljs-keyword">this</span>.credentials = credentials;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> OkHttpClient <span class="hljs-title">client</span><span class="hljs-params">()</span> </span>{
        OkHttpClient.Builder clientBuilder = <span class="hljs-keyword">new</span> OkHttpClient.Builder();
        clientBuilder.connectTimeout(<span class="hljs-keyword">this</span>.config.getConnectTimeout(), TimeUnit.SECONDS);
        clientBuilder.readTimeout(<span class="hljs-keyword">this</span>.config.getReadTimeout(), TimeUnit.SECONDS);
        clientBuilder.writeTimeout(<span class="hljs-keyword">this</span>.config.getWriteTimeout(), TimeUnit.SECONDS);
        clientBuilder.retryOnConnectionFailure(<span class="hljs-keyword">this</span>.config.isRetryOnConnectionFailure());
        clientBuilder.addInterceptor((Interceptor.Chain chain) -&gt; {
            Request.Builder requestBuilder = chain.request().newBuilder();
            String timestamp = DateUtils.getUnixTime();
            requestBuilder.headers(headers(chain.request(), timestamp));
            Request request = requestBuilder.build();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.config.isPrint()) {
                printRequest(request, timestamp);
            }
            <span class="hljs-keyword">return</span> chain.proceed(request);
        });
        <span class="hljs-keyword">return</span> clientBuilder.build();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> Headers <span class="hljs-title">headers</span><span class="hljs-params">(Request request, String timestamp)</span> </span>{
        Headers.Builder builder = <span class="hljs-keyword">new</span> Headers.Builder();
        builder.add(APIConstants.ACCEPT, ContentTypeEnum.APPLICATION_JSON.contentType());
        builder.add(APIConstants.CONTENT_TYPE, ContentTypeEnum.APPLICATION_JSON_UTF8.contentType());
        builder.add(APIConstants.COOKIE, getCookie());
        <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(<span class="hljs-keyword">this</span>.credentials.getSecretKey())) {
            builder.add(HttpHeadersEnum.OK_ACCESS_KEY.header(), <span class="hljs-keyword">this</span>.credentials.getApiKey());
            builder.add(HttpHeadersEnum.OK_ACCESS_SIGN.header(), sign(request, timestamp));
            builder.add(HttpHeadersEnum.OK_ACCESS_TIMESTAMP.header(), timestamp);
            builder.add(HttpHeadersEnum.OK_ACCESS_PASSPHRASE.header(), <span class="hljs-keyword">this</span>.credentials.getPassphrase());
        }
        <span class="hljs-keyword">return</span> builder.build();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">getCookie</span><span class="hljs-params">()</span> </span>{
        StringBuilder cookie = <span class="hljs-keyword">new</span> StringBuilder();
        cookie.append(APIConstants.LOCALE).append(<span class="hljs-keyword">this</span>.config.getI18n().i18n());
        <span class="hljs-keyword">return</span> cookie.toString();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">sign</span><span class="hljs-params">(Request request, String timestamp)</span> </span>{
        String sign;
        <span class="hljs-keyword">try</span> {
            sign = HmacSHA256Base64Utils.sign(timestamp, method(request), requestPath(request),
                    queryString(request), body(request), <span class="hljs-keyword">this</span>.credentials.getSecretKey());
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(<span class="hljs-string">"Request get body io exception."</span>, e);
        } <span class="hljs-keyword">catch</span> (CloneNotSupportedException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(<span class="hljs-string">"Hmac SHA256 Base64 Signature clone not supported exception."</span>, e);
        } <span class="hljs-keyword">catch</span> (InvalidKeyException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(<span class="hljs-string">"Hmac SHA256 Base64 Signature invalid key exception."</span>, e);
        }
        <span class="hljs-keyword">return</span> sign;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">url</span><span class="hljs-params">(Request request)</span> </span>{
        <span class="hljs-keyword">return</span> request.url().toString();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">method</span><span class="hljs-params">(Request request)</span> </span>{
        <span class="hljs-keyword">return</span> request.method().toUpperCase();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">requestPath</span><span class="hljs-params">(Request request)</span> </span>{
        String url = url(request);
        url = url.replace(<span class="hljs-keyword">this</span>.config.getEndpoint(), APIConstants.EMPTY);
        String requestPath = url;
        <span class="hljs-keyword">if</span> (requestPath.contains(APIConstants.QUESTION)) {
            requestPath = requestPath.substring(<span class="hljs-number">0</span>, url.lastIndexOf(APIConstants.QUESTION));
        }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.config.getEndpoint().endsWith(APIConstants.SLASH)){
            requestPath = APIConstants.SLASH + requestPath;
        }
        <span class="hljs-keyword">return</span> requestPath;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">queryString</span><span class="hljs-params">(Request request)</span> </span>{
        String url = url(request);
        String queryString = APIConstants.EMPTY;
        <span class="hljs-keyword">if</span> (url.contains(APIConstants.QUESTION)) {
            queryString = url.substring(url.lastIndexOf(APIConstants.QUESTION) + <span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">return</span> queryString;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">body</span><span class="hljs-params">(Request request)</span> <span class="hljs-keyword">throws</span> IOException </span>{
        RequestBody requestBody = request.body();
        String body = APIConstants.EMPTY;
        <span class="hljs-keyword">if</span> (requestBody != <span class="hljs-keyword">null</span>) {
            Buffer buffer = <span class="hljs-keyword">new</span> Buffer();
            requestBody.writeTo(buffer);
            body = buffer.readString(APIConstants.UTF_8);
        }
        <span class="hljs-keyword">return</span> body;
    }
}



<span class="hljs-keyword">import</span> retrofit2.Call;
<span class="hljs-keyword">import</span> retrofit2.http.GET;
<span class="hljs-keyword">import</span> retrofit2.http.Path;
<span class="hljs-keyword">import</span> retrofit2.http.Query;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">FuturesMarketAPI</span> </span>{

    <span class="hljs-meta">@GET</span>(<span class="hljs-string">"/api/futures/v3/products/{instrument_id}/candles"</span>)
    <span class="hljs-function">Call&lt;JSONArray&gt; <span class="hljs-title">getProductCandles</span><span class="hljs-params">(@Path(<span class="hljs-string">"instrument_id"</span>)</span> String productId, @<span class="hljs-title">Query</span><span class="hljs-params">(<span class="hljs-string">"start"</span>)</span> String start, @<span class="hljs-title">Query</span><span class="hljs-params">(<span class="hljs-string">"end"</span>)</span> String end, @<span class="hljs-title">Query</span><span class="hljs-params">(<span class="hljs-string">"granularity"</span>)</span> String granularity)</span>;

}

<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSONArray;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.bean.futures.result.*;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.client.APIClient;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.config.APIConfiguration;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.service.futures.FuturesMarketAPIService;



<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FuturesMarketAPIServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">FuturesMarketAPIService</span> </span>{

    <span class="hljs-keyword">private</span> APIClient client;
    <span class="hljs-keyword">private</span> FuturesMarketAPI api;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">FuturesMarketAPIServiceImpl</span><span class="hljs-params">(APIConfiguration config)</span> </span>{
        <span class="hljs-keyword">this</span>.client = <span class="hljs-keyword">new</span> APIClient(config);
        <span class="hljs-keyword">this</span>.api = client.createService(FuturesMarketAPI.class);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> JSONArray <span class="hljs-title">getProductCandles</span><span class="hljs-params">(String productId, <span class="hljs-keyword">long</span> start, <span class="hljs-keyword">long</span> end, <span class="hljs-keyword">long</span> granularity)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.client.executeSync(<span class="hljs-keyword">this</span>.api.getProductCandles(productId, String.valueOf(start), String.valueOf(end), String.valueOf(granularity)));
    }

}

<span class="hljs-keyword">import</span> okhttp3.Headers;
<span class="hljs-keyword">import</span> okhttp3.OkHttpClient;
<span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;
<span class="hljs-keyword">import</span> retrofit2.Call;
<span class="hljs-keyword">import</span> retrofit2.Response;
<span class="hljs-keyword">import</span> retrofit2.Retrofit;

<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">APIClient</span> </span>{

    <span class="hljs-comment">/**
     * Synchronous send request
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">T <span class="hljs-title">executeSync</span><span class="hljs-params">(Call&lt;T&gt; call)</span> </span>{
        <span class="hljs-keyword">try</span> {
            Response&lt;T&gt; response = call.execute();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.config.isPrint()) {
                printResponse(response);
            }
            <span class="hljs-keyword">int</span> status = response.code();
            String message = <span class="hljs-keyword">new</span> StringBuilder().append(response.code()).append(<span class="hljs-string">" / "</span>).append(response.message()).toString();
            <span class="hljs-keyword">if</span> (response.isSuccessful()) {
                <span class="hljs-keyword">return</span> response.body();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (APIConstants.resultStatusArray.contains(status)) {
                HttpResult result = JSON.parseObject(<span class="hljs-keyword">new</span> String(response.errorBody().bytes()), HttpResult.class);
                result.setStatusCode(status);
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(result.message());
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(message);
            }
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> APIException(<span class="hljs-string">"APIClient executeSync exception."</span>, e);
        }
    }

}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FuturesAPIBaseTests</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseTests</span> </span>{

    <span class="hljs-function"><span class="hljs-keyword">public</span> APIConfiguration <span class="hljs-title">config</span><span class="hljs-params">()</span> </span>{
        APIConfiguration config = <span class="hljs-keyword">new</span> APIConfiguration();

        config.setEndpoint(<span class="hljs-string">"https://www.okex.com/"</span>);
        config.setApiKey(<span class="hljs-string">""</span>);
        config.setSecretKey(<span class="hljs-string">""</span>);

        config.setPassphrase(<span class="hljs-string">""</span>);
        config.setPrint(<span class="hljs-keyword">true</span>);
        config.setI18n(I18nEnum.ENGLISH);

        <span class="hljs-keyword">return</span> config;
    }

    String productId = <span class="hljs-string">"BTC-USD-180928"</span>;
}



<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSON;
<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSONArray;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.bean.futures.result.*;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.service.futures.FuturesMarketAPIService;
<span class="hljs-keyword">import</span> com.okcoin.commons.okex.open.api.service.futures.impl.FuturesMarketAPIServiceImpl;
<span class="hljs-keyword">import</span> org.junit.Before;
<span class="hljs-keyword">import</span> org.junit.Test;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FuturesMarketAPITests</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FuturesAPIBaseTests</span> </span>{

    <span class="hljs-keyword">private</span> FuturesMarketAPIService marketAPIService;

    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span> </span>{
        config = config();
        marketAPIService = <span class="hljs-keyword">new</span> FuturesMarketAPIServiceImpl(config);
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testGetProductCandles</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();
        <span class="hljs-keyword">long</span> end = System.currentTimeMillis() + <span class="hljs-number">2000L</span>;
        JSONArray array = marketAPIService.getProductCandles(productId, <span class="hljs-number">1530323640000L</span>, <span class="hljs-number">0</span>, <span class="hljs-number">180L</span>);
        toResultString(LOG, <span class="hljs-string">"Product-Candles"</span>, array);
    }


}
</code></pre>
</div><div class="api-method-sample hidden" data-lang="Go" data-name="GO"><pre><code class="lang-go"><span class="hljs-keyword">package</span> okex

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"bytes"</span>
    <span class="hljs-string">"errors"</span>
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"io/ioutil"</span>
    <span class="hljs-string">"net/http"</span>
    <span class="hljs-string">"strconv"</span>
    <span class="hljs-string">"strings"</span>
    <span class="hljs-string">"time"</span>
)

<span class="hljs-keyword">type</span> Client <span class="hljs-keyword">struct</span> {
    Config     Config
    HttpClient *http.Client
}

<span class="hljs-keyword">type</span> ApiMessage <span class="hljs-keyword">struct</span> {
    Message <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"message"`</span>
}

<span class="hljs-comment">/*
 Get a http client
*/</span>
<span class="hljs-keyword">func</span> NewClient(config Config) *Client {
    <span class="hljs-keyword">var</span> client Client
    client.Config = config
    timeout := config.TimeoutSecond
    <span class="hljs-keyword">if</span> timeout &lt;= <span class="hljs-number">0</span> {
        timeout = <span class="hljs-number">30</span>
    }
    client.HttpClient = &amp;http.Client{
        Timeout: time.Duration(timeout) * time.Second,
    }
    <span class="hljs-keyword">return</span> &amp;client
}

<span class="hljs-comment">/*
 Send a http request to remote server and get a response data
*/</span>
<span class="hljs-keyword">func</span> (client *Client) Request(method <span class="hljs-keyword">string</span>, requestPath <span class="hljs-keyword">string</span>,
    params, result <span class="hljs-keyword">interface</span>{}) (response *http.Response, err error) {
    config := client.Config
    <span class="hljs-comment">// uri</span>
    endpoint := config.Endpoint
    <span class="hljs-keyword">if</span> strings.HasSuffix(config.Endpoint, <span class="hljs-string">"/"</span>) {
        endpoint = config.Endpoint[<span class="hljs-number">0</span>:<span class="hljs-built_in">len</span>(config.Endpoint)<span class="hljs-number">-1</span>]
    }
    url := endpoint + requestPath

    <span class="hljs-comment">// get json and bin styles request body</span>
    <span class="hljs-keyword">var</span> jsonBody <span class="hljs-keyword">string</span>
    <span class="hljs-keyword">var</span> binBody = bytes.NewReader(<span class="hljs-built_in">make</span>([]<span class="hljs-keyword">byte</span>, <span class="hljs-number">0</span>))
    <span class="hljs-keyword">if</span> params != <span class="hljs-literal">nil</span> {
        jsonBody, binBody, err = ParseRequestParams(params)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> response, err
        }
    }

    <span class="hljs-comment">// get a http request</span>
    request, err := http.NewRequest(method, url, binBody)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> response, err
    }

    <span class="hljs-comment">// Sign and set request headers</span>
    timestamp := IsoTime()
    preHash := PreHashString(timestamp, method, requestPath, jsonBody)
    sign, err := HmacSha256Base64Signer(preHash, config.SecretKey)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> response, err
    }
    Headers(request, config, timestamp, sign)

    <span class="hljs-keyword">if</span> config.IsPrint {
        printRequest(config, request, jsonBody, preHash)
    }

    <span class="hljs-comment">// send a request to remote server, and get a response</span>
    response, err = client.HttpClient.Do(request)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> response, err
    }
    <span class="hljs-keyword">defer</span> response.Body.Close()

    <span class="hljs-comment">// get a response results and parse</span>
    status := response.StatusCode
    message := response.Status
    body, err := ioutil.ReadAll(response.Body)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> response, err
    }

    <span class="hljs-keyword">if</span> config.IsPrint {
        printResponse(status, message, body)
    }

    response.Header.Add(ResultJsonString, <span class="hljs-keyword">string</span>(body))

    <span class="hljs-keyword">if</span> status &gt;= <span class="hljs-number">200</span> &amp;&amp; status &lt; <span class="hljs-number">300</span> {
        <span class="hljs-keyword">if</span> body != <span class="hljs-literal">nil</span> &amp;&amp; result != <span class="hljs-literal">nil</span> {
            err := JsonBytes2Struct(body, result)
            <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
                <span class="hljs-keyword">return</span> response, err
            }
        }
        <span class="hljs-keyword">return</span> response, <span class="hljs-literal">nil</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> status == <span class="hljs-number">400</span> || status == <span class="hljs-number">401</span> || status == <span class="hljs-number">500</span> {
        <span class="hljs-keyword">if</span> body != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">var</span> apiMessage ApiMessage
            err := JsonBytes2Struct(body, &amp;apiMessage)
            <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
                <span class="hljs-keyword">return</span> response, err
            }
            message = strconv.Itoa(status) + <span class="hljs-string">" "</span> + apiMessage.Message
        }
        <span class="hljs-keyword">return</span> response, errors.New(message)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> response, errors.New(message)
    }
    <span class="hljs-keyword">return</span> response, <span class="hljs-literal">nil</span>
}

<span class="hljs-keyword">type</span> Config <span class="hljs-keyword">struct</span> {
    <span class="hljs-comment">// Rest api endpoint url. eg: http://www.okex.com/</span>
    Endpoint <span class="hljs-keyword">string</span>
    <span class="hljs-comment">// The user's api key provided by OKEx.</span>
    ApiKey <span class="hljs-keyword">string</span>
    <span class="hljs-comment">// The user's secret key provided by OKEx. The secret key used to sign your request data.</span>
    SecretKey <span class="hljs-keyword">string</span>
    <span class="hljs-comment">// The Passphrase will be provided by you to further secure your API access.</span>
    Passphrase <span class="hljs-keyword">string</span>
    <span class="hljs-comment">// Http request timeout.</span>
    TimeoutSecond <span class="hljs-keyword">int</span>
    <span class="hljs-comment">// Whether to print API information</span>
    IsPrint <span class="hljs-keyword">bool</span>
    <span class="hljs-comment">// Internationalization @see file: constants.go</span>
    I18n <span class="hljs-keyword">string</span>
}

<span class="hljs-keyword">func</span> (client *Client) GetFuturesProductCandles(productId <span class="hljs-keyword">string</span>, start, end, granularity <span class="hljs-keyword">int64</span>) ([][] <span class="hljs-keyword">float64</span>, error) {
    <span class="hljs-keyword">var</span> candles [][] <span class="hljs-keyword">float64</span>
    params := NewParams()
    params[<span class="hljs-string">"start"</span>] = Int642String(start)
    params[<span class="hljs-string">"end"</span>] = Int642String(end)
    params[<span class="hljs-string">"granularity"</span>] = Int642String(granularity)
    requestPath := BuildParams(FuturesPathPrefix+<span class="hljs-string">"products/"</span>+productId+<span class="hljs-string">"/candles"</span>, params)
    _, err := client.Request(GET, requestPath, <span class="hljs-literal">nil</span>, &amp;candles)
    <span class="hljs-keyword">return</span> candles, err
}


<span class="hljs-keyword">func</span> NewTestClient() *Client {
    <span class="hljs-comment">// Set OKEX API's config</span>
    <span class="hljs-keyword">var</span> config Config
    config.Endpoint = <span class="hljs-string">"https://www.okex.com/"</span>
    config.ApiKey = <span class="hljs-string">""</span>
    config.SecretKey = <span class="hljs-string">""</span>
    config.Passphrase = <span class="hljs-string">""</span>
    config.TimeoutSecond = <span class="hljs-number">45</span>
    config.IsPrint = <span class="hljs-literal">false</span>
    config.I18n = ENGLISH

    client := NewClient(config)
    <span class="hljs-keyword">return</span> client
}



<span class="hljs-keyword">import</span> <span class="hljs-string">"testing"</span>

<span class="hljs-keyword">const</span> (
    productId = <span class="hljs-string">"BTC-USD-180928"</span>
    currency  = <span class="hljs-string">"BTC"</span>
)

<span class="hljs-keyword">func</span> TestGetFuturesProductCandles(t *testing.T) {
    start := <span class="hljs-keyword">int64</span>(<span class="hljs-number">0</span>)
    end := <span class="hljs-keyword">int64</span>(<span class="hljs-number">0</span>)
    candles, err := NewTestClient().GetFuturesProductCandles(productId, start, end, <span class="hljs-number">180</span>)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        t.Error(err)
    }
    FmtPrintln(GUnitTest+<span class="hljs-string">"Futures product candles: "</span>, candles)
}
</code></pre>
</div><div class="api-method-sample hidden" data-lang="C++" data-name="C++"><pre><code class="lang-c++"><span class="hljs-built_in">string</span> OKEXAPI::GetSign(<span class="hljs-built_in">string</span> timestamp, <span class="hljs-built_in">string</span> method, <span class="hljs-built_in">string</span> requestPath, <span class="hljs-built_in">string</span> body) {
    <span class="hljs-built_in">string</span> sign;
    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> * mac = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">int</span> mac_length = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">string</span> data = timestamp + method + requestPath + body;
    <span class="hljs-built_in">string</span> key = m_config.SecretKey;
    <span class="hljs-keyword">int</span> ret = HmacEncode(<span class="hljs-string">"sha256"</span>, key.c_str(), key.length(), data.c_str(), data.length(), mac, mac_length);
    sign = base64_encode(mac, mac_length);
    <span class="hljs-keyword">return</span> sign;
}

<span class="hljs-built_in">string</span> OKEXAPI::Request(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp;method, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp;requestPath, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> &amp;params) {
    <span class="hljs-comment">/************************** set request method ***************************/</span>
    http_request request;
    request.set_method(method);
    <span class="hljs-comment">/************************** set request uri ***************************/</span>
    uri_builder builder;
    builder.append_path(requestPath);
    request.set_request_uri(builder.to_uri());

    <span class="hljs-comment">/************************** set request headers ***************************/</span>
    <span class="hljs-keyword">char</span> * timestamp = <span class="hljs-keyword">new</span> <span class="hljs-keyword">char</span>[<span class="hljs-number">32</span>];
    timestamp = GetTimestamp(timestamp, <span class="hljs-number">32</span>);
    <span class="hljs-built_in">string</span> sign = GetSign(timestamp, method, builder.to_string(), params);
    request.headers().clear();
    request.headers().add(U(<span class="hljs-string">"OK-ACCESS-KEY"</span>), m_config.ApiKey);
    request.headers().add(U(<span class="hljs-string">"OK-ACCESS-SIGN"</span>), sign);
    request.headers().add(U(<span class="hljs-string">"OK-ACCESS-TIMESTAMP"</span>), timestamp);
    request.headers().add(U(<span class="hljs-string">"OK-ACCESS-PASSPHRASE"</span>), m_config.Passphrase);
    request.headers().add(U(<span class="hljs-string">"Accept"</span>), U(<span class="hljs-string">"application/json"</span>));
    request.headers().set_content_type(U(<span class="hljs-string">"application/json; charset=UTF-8"</span>));
    request.headers().add(U(<span class="hljs-string">"Cookie"</span>),U(<span class="hljs-string">"locale="</span>+m_config.I18n));

    <span class="hljs-comment">/************************** set request body ***************************/</span>
    request.set_body(params,<span class="hljs-string">"application/json; charset=UTF-8"</span>);

    <span class="hljs-comment">/************************** get response ***************************/</span>
    http_response response;
    <span class="hljs-built_in">string</span> str;
    <span class="hljs-function">http_client <span class="hljs-title">client</span><span class="hljs-params">(m_config.Endpoint)</span></span>;
    response = client.request(request).get();
    str = response.extract_string(<span class="hljs-literal">true</span>).get();

    <span class="hljs-keyword">delete</span> []timestamp;
    <span class="hljs-keyword">return</span> str;
}


<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">GetSpotOrdersExample</span><span class="hljs-params">()</span> </span>{
    OKEXAPI okexapi;
    <span class="hljs-comment">/************************** set config **********************/</span>
    <span class="hljs-keyword">struct</span> Config config;
    config.Endpoint = <span class="hljs-string">"https://www.okex.com"</span>;
    config.SecretKey = <span class="hljs-string">""</span>;
    config.ApiKey = <span class="hljs-string">""</span>;
    config.Passphrase = <span class="hljs-string">""</span>;
    okapi.SetConfig(config);

    <span class="hljs-comment">/************************** set parameters **********************/</span>
    <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">method</span><span class="hljs-params">(GET)</span></span>;
    <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt; m;
    m.insert(make_pair(<span class="hljs-string">"productId"</span>, <span class="hljs-string">"BTC-USD"</span>));
    m.insert(make_pair(<span class="hljs-string">"status"</span>, <span class="hljs-string">"all"</span>));

    <span class="hljs-comment">/************************** request and response **********************/</span>
    <span class="hljs-built_in">string</span> request_path = BuildParams(<span class="hljs-string">"/api/spot/v3/orders"</span>, m);
    <span class="hljs-keyword">return</span> okexapi.Request(method, request_path);
}

<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">AddSpotOrderExample</span><span class="hljs-params">()</span> </span>{
    OKEXAPI okexapi;
    <span class="hljs-comment">/************************** set config **********************/</span>
    <span class="hljs-keyword">struct</span> Config config;
    config.Endpoint = <span class="hljs-string">"https://www.okex.com"</span>;
    config.SecretKey = <span class="hljs-string">""</span>;
    config.ApiKey = <span class="hljs-string">""</span>;
    config.Passphrase = <span class="hljs-string">""</span>;
    okapi.SetConfig(config);

    <span class="hljs-comment">/************************** set parameters **********************/</span>
    value obj;
    obj[<span class="hljs-string">"size"</span>] = value::number(<span class="hljs-number">1</span>);
    obj[<span class="hljs-string">"price"</span>] = value::number(<span class="hljs-number">8</span>);
    obj[<span class="hljs-string">"side"</span>] = value::<span class="hljs-built_in">string</span>(<span class="hljs-string">"buy"</span>);
    obj[<span class="hljs-string">"instrument_id"</span>] = value::<span class="hljs-built_in">string</span>(<span class="hljs-string">"BTC-USD"</span>);

    <span class="hljs-comment">/************************** request and response **********************/</span>
    <span class="hljs-built_in">string</span> params = obj.serialize();
    <span class="hljs-keyword">return</span> okexapi.Request(POST, <span class="hljs-string">"/api/spot/v3/orders"</span>, params);
}
}
</code></pre>
</div><div class="api-method-sample hidden" data-lang="Python" data-name="PYTHON"><pre><code class="lang-python"><span class="hljs-keyword">import</span> hmac
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

CONTENT_TYPE = <span class="hljs-string">'Content-Type'</span>
OK_ACCESS_KEY = <span class="hljs-string">'OK-ACCESS-KEY'</span>
OK_ACCESS_SIGN = <span class="hljs-string">'OK-ACCESS-SIGN'</span>
OK_ACCESS_TIMESTAMP = <span class="hljs-string">'OK-ACCESS-TIMESTAMP'</span>
OK_ACCESS_PASSPHRASE = <span class="hljs-string">'OK-ACCESS-PASSPHRASE'</span>
APPLICATION_JSON = <span class="hljs-string">'application/json'</span>


<span class="hljs-comment"># signature</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signature</span><span class="hljs-params">(timestamp, method, request_path, body, secret_key)</span>:</span>
    <span class="hljs-keyword">if</span> str(body) == <span class="hljs-string">'{}'</span> <span class="hljs-keyword">or</span> str(body) == <span class="hljs-string">'None'</span>:
        body = <span class="hljs-string">''</span>
    message = str(timestamp) + str.upper(method) + request_path + str(body)
    mac = hmac.new(bytes(secret_key, encoding=<span class="hljs-string">'utf8'</span>), bytes(message, encoding=<span class="hljs-string">'utf-8'</span>), digestmod=<span class="hljs-string">'sha256'</span>)
    d = mac.digest()
    <span class="hljs-keyword">return</span> base64.b64encode(d)


<span class="hljs-comment"># set request header</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_header</span><span class="hljs-params">(api_key, sign, timestamp, passphrase)</span>:</span>
    header = dict()
    header[CONTENT_TYPE] = APPLICATION_JSON
    header[OK_ACCESS_KEY] = api_key
    header[OK_ACCESS_SIGN] = sign
    header[OK_ACCESS_TIMESTAMP] = str(timestamp)
    header[OK_ACCESS_PASSPHRASE] = passphrase
    <span class="hljs-keyword">return</span> header


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse_params_to_str</span><span class="hljs-params">(params)</span>:</span>
    url = <span class="hljs-string">'?'</span>
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> params.items():
        url = url + str(key) + <span class="hljs-string">'='</span> + str(value) + <span class="hljs-string">'&amp;'</span>

    <span class="hljs-keyword">return</span> url[<span class="hljs-number">0</span>:<span class="hljs-number">-1</span>]


<span class="hljs-comment"># request example</span>
<span class="hljs-comment"># set the request url</span>
base_url = <span class="hljs-string">'https://www.okex.com'</span>
request_path = <span class="hljs-string">'/api/account/v3/currencies'</span>
<span class="hljs-comment"># set request header</span>
header = get_header(<span class="hljs-string">'your_api_key'</span>, signature(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'GET'</span>, request_path, <span class="hljs-string">'your_secret_key'</span>), <span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'your_passphrase'</span>)
<span class="hljs-comment"># do request</span>
response = requests.get(base_url + request_path, headers=header)
<span class="hljs-comment"># json</span>
print(response.json())

<span class="hljs-comment"># [{</span>
<span class="hljs-comment">#     "id": "BTC",</span>
<span class="hljs-comment">#     "name": “Bitcoin”，</span>
<span class="hljs-comment">#      "deposit": "1",</span>
<span class="hljs-comment">#      "withdraw": “1”,</span>
<span class="hljs-comment">#       “withdraw_min”:”0.000001btc”</span>
<span class="hljs-comment"># }, {</span>
<span class="hljs-comment">#     "id": "ETH",</span>
<span class="hljs-comment">#     "name": “Ethereum”,</span>
<span class="hljs-comment">#     "deposit": "1",</span>
<span class="hljs-comment">#      "withdraw": “1”，</span>
<span class="hljs-comment">#      “withdraw_min”:”0.0001eth”</span>
<span class="hljs-comment">#     }</span>
<span class="hljs-comment">#  …</span>
<span class="hljs-comment"># ]</span>


<span class="hljs-comment">########################################################</span>
<span class="hljs-comment"># take order</span>
base_url = <span class="hljs-string">'https://www.okex.com'</span>
request_path = <span class="hljs-string">'/api/spot/v3/orders'</span>

<span class="hljs-comment"># request params</span>
params = {<span class="hljs-string">'type'</span>: <span class="hljs-string">'market'</span>, <span class="hljs-string">'side'</span>: <span class="hljs-string">'buy'</span>, <span class="hljs-string">'instrument_id'</span>: <span class="hljs-string">'usdt_okb'</span>, <span class="hljs-string">'size'</span>: <span class="hljs-string">'10'</span>, <span class="hljs-string">'client_oid'</span>: <span class="hljs-string">''</span>,
                  <span class="hljs-string">'price'</span>: <span class="hljs-string">'10'</span>, <span class="hljs-string">'funds'</span>: <span class="hljs-string">''</span>}

<span class="hljs-comment"># request path</span>
request_path = request_path + parse_params_to_str(params)
url = base_url + request_path

<span class="hljs-comment"># request header and body</span>
header = get_header(<span class="hljs-string">'your_api_key'</span>, signature(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'POST'</span>, request_path, <span class="hljs-string">'your_secret_key'</span>), <span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'your_passphrase'</span>)
body = json.dumps(params)

<span class="hljs-comment"># do request</span>
response = requests.post(url, data=body, headers=header)

<span class="hljs-comment">#########################################################</span>
<span class="hljs-comment"># get order info</span>
base_url = <span class="hljs-string">'https://www.okex.com'</span>
request_path = <span class="hljs-string">'/api/spot/v3/orders'</span>

params = {<span class="hljs-string">'status'</span>:<span class="hljs-string">'all'</span>, <span class="hljs-string">'instrument_id'</span>: <span class="hljs-string">'okb_usdt'</span>}

<span class="hljs-comment"># request path</span>
request_path = request_path + parse_params_to_str(params)
url = base_url + request_path

<span class="hljs-comment"># request header and body</span>
header = get_header(<span class="hljs-string">'your_api_key'</span>, signature(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'GET'</span>, request_path, <span class="hljs-string">'your_secret_key'</span>), <span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'your_passphrase'</span>)

<span class="hljs-comment"># do request</span>
response = requests.get(url, headers=header)
</code></pre>
</div></div></div>





<h4 id="时间戳">时间戳</h4>
<p>OK-ACCESS-TIMESTAMP请求头必须是UTC时区Unix时间戳的十进制秒数格式或ISO8601标准的时间格式。精确到毫秒</p>
<p>时间戳和服务器时间相差30秒以上的请求将被系统视为过期并拒绝。如果您认为服务器和API服务器之间存在较大的时间偏差，那么我们建议您使用获取服务器时间的接口来查询API服务器时间。</p>
<h4 id="获取服务时间">获取服务时间</h4>
<p>获取API服务器的时间。此接口为公共接口，不需要身份验证。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/general/v3/time</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">iso</td>
<td style="text-align:center">ISO8601标准的时间格式</td>
</tr>
<tr>
<td style="text-align:center">epoch</td>
<td style="text-align:center">UTC时区Unix时间戳的十进制秒数格式</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"iso": "2015-01-07T23:47:25.201Z",

"epoch": 1420674445.201

}
</code></pre></div></div></div>

<h3 id="account-README">钱包API</h3>
<p>钱包主账户与交易账户/子账户之间的资金划转，获取充值地址，提现等功能。</p>
<h3 id="account-currencies">获取币种列表</h3>
<p>获取平台所有币种列表。并非所有币种都可被用于交易。在ISO 4217标准中未被定义的币种代码可能使用的是自定义代码。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/currencies</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/currencies</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种名称，如btc</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>币种中文名称，不显示则无对应名称</td>
</tr>
<tr>
<td>can_deposit</td>
<td>number</td>
<td>是否可充值，0表示不可充值，1表示可以充值</td>
</tr>
<tr>
<td>can_withdraw</td>
<td>number</td>
<td>是否可提币，0表示不可提币，1表示可以提币</td>
</tr>
<tr>
<td>min_withdrawal</td>
<td>number</td>
<td>币种最小提币量</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "can_deposit":1,
        "can_withdraw":1,
        "currency":"BTC",
        "min_withdrawal":0.01,
        "name":""
    },
    {
        "can_deposit":1,
        "can_withdraw":1,
        "currency":"LTC",
        "min_withdrawal":0.1,
        "name":""
    }
]
</code></pre></div></div></div>

<h3 id="account-information">钱包账户信息</h3>
<p>获取钱包账户资产列表，查询各币种的余额、冻结和可用等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/wallet</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/wallet</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如btc</td>
</tr>
<tr>
<td>balance</td>
<td>number</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>number</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>number</td>
<td>可用于提现或资金划转的数量</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "available":37.11827078,
        "balance":37.11827078,
        "currency":"EOS",
        "hold":0
    },
    {
        "available":0,
        "balance":0,
        "currency":"XMR",
        "hold":0
    }
]
</code></pre></div></div></div>



<h3 id="account-singleness">单一币种账户信息</h3>
<p>获取钱包账户单个币种的余额、冻结和可用等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/wallet/&lt;currency&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/wallet/btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>balance</td>
<td>number</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>number</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>number</td>
<td>可用于提现或资金划转的数量</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如btc</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "currency":"XMR",
    "available":0.00049136,
    "balance":0.00049136,
    "hold":0
}
</code></pre></div></div></div>






<h3 id="account-transfer">资金划转</h3>
<p>OKEx站内在钱包账户、交易账户和子账户之间进行资金划转。</p>
<h5 id="限速规则：3次s">限速规则：3次/s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/account/v3/transfer</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/account/v3/transfer{"amount":0.0001,"currency":"eos","from":6,"to":5,"instrument_id":"eos-usdt"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>是</td>
<td>划转数量</td>
</tr>
<tr>
<td>from</td>
<td>number</td>
<td>是</td>
<td>转出账户(0:子账户 1:币币 3:合约 4:C2C 5:币币杠杆 6:钱包 7:ETT 8:余币宝)</td>
</tr>
<tr>
<td>to</td>
<td>number</td>
<td>是</td>
<td>转入账户(0:子账户 1:币币 3:合约 4:C2C 5:币币杠杆 6:钱包 7:ETT 8:余币宝)</td>
</tr>
<tr>
<td>sub_account</td>
<td>String</td>
<td>否</td>
<td>子账号登录名，from或to指定为0时，sub_account为必填项</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>否</td>
<td>杠杆币对，如：eos-usdt，仅限已开通杠杆的币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>transfer_id</td>
<td>number</td>
<td>划转ID</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>划转币种</td>
</tr>
<tr>
<td>from</td>
<td>number</td>
<td>转出账户</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>划转量</td>
</tr>
<tr>
<td>to</td>
<td>number</td>
<td>转入账户</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>划转结果。若是划转失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>from或to指定为0时，sub_account为必填项。</p>
<p>from或to指定为5时，instrument_id为必填项。</p>
<p>OK06ETT只能在ETT组合账户和币币账户中互转，不支持转到其他账户</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    “transfer_id": “754147”,
    “currency”：“ETC”
    “from": "6",
    “amount": “0.1",
    “to”: "1",
    “result": true
}
</code></pre></div></div></div>






<h3 id="account-extract">提币</h3>
<p>提币到OKCoin国际站账户，OKEx账户或数字货币地址。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/account/v3/withdrawal</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/account/v3/withdrawal</p>
<p>{"amount":1,"fee":0.0005,"trade_pwd":"123456","destination":4,"currency":"btc","to_address":"17DKe3kkkkiiiiTvAKKi2vMPbm1Bz3CMKw"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>是</td>
<td>数量</td>
</tr>
<tr>
<td>destination</td>
<td>number</td>
<td>是</td>
<td>提币到(2:OKCoin国际 3:OKEx 4:数字货币地址)</td>
</tr>
<tr>
<td>to_address</td>
<td>String</td>
<td>是</td>
<td>认证过的数字货币地址、邮箱或手机号</td>
</tr>
<tr>
<td>trade_pwd</td>
<td>String</td>
<td>是</td>
<td>交易密码</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>是</td>
<td>网络手续费≥0.提币到OKCoin国际或OKEx免手续费，请设置为0.提币到数字货币地址所需网络手续费可通过提币手续费接口查询</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>提币币种</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>提币数量</td>
</tr>
<tr>
<td>withdraw_id</td>
<td>number</td>
<td>提币申请ID</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>提币申请结果。若是提现申请失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "amount":0.1,
    "withdrawal_id":67485,
    "currency":"btc",
    "result":true
}
</code></pre></div></div></div>



<h3 id="account-charge">提币手续费</h3>
<p>查询提现到数字货币地址时，建议网络手续费信息。手续费越高，网络确认越快。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/withdrawal/fee</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/withdrawal/fee?currency=btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>否</td>
<td>币种，不填则返回所有</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>min_fee</td>
<td>number</td>
<td>最小提币手续费数量</td>
</tr>
<tr>
<td>max_fee</td>
<td>number</td>
<td>最大提币手续费数量</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>
[
    {
        "currency":"BTC",
        "max_fee":0.02,
        "min_fee":0.0005
    },
    {
        "currency":"LTC",
        "max_fee":0.2,
        "min_fee":0.001
    },
    {
        "currency":"ETH",
        "max_fee":0.2,
        "min_fee":0.01
    }
]
</code></pre></div></div></div>









<h3 id="account-cha-xun-zui-jin-suo-you-bi-zhong-de-ti-bi-ji-lu">查询最近所有币种的提币记录</h3>
<p>查询最近所有币种的提币记录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/withdrawal/history</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/withdrawal/history</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>提币申请时间</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>提币地址(如果收币地址是OKEx平台地址，则此处将显示用户账户)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>收币地址</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>部分币种提币需要标签，若不需要则不返回此字段</td>
</tr>
<tr>
<td>payment_id</td>
<td>String</td>
<td>部分币种提币需要此字段，若不需要则不返回此字段</td>
</tr>
<tr>
<td>txid</td>
<td>String</td>
<td>提币哈希记录(内部转账将不返回此字段)</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>提币手续费</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>提现状态（-3:撤销中;-2:已撤销;-1:失败;0:等待提现;1:提现中;2:已汇出;3:邮箱确认;4:人工审核中5:等待身份认证）</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>此处的from显示的是用户OKEx账户，并不等于区块链上实际的发币地址，如果提币到OKEx则to也显示为OKEx账户，此时将不返回txid
返回所有币种最近100条提币记录，若想查询更多请分币对查询。
注意此处显示的最新提币记录可能还没有在区块上打包成功，若此处有提币记录而实际未到账，请耐心等待</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>
[
    {
        "amount":0.094,
        "fee":"0.01000000eth",
        "txid":"0x62477bac6509a04512819bb1455e923a60dea5966c7caeaa0b24eb8fb0432b85",
        "currency":"ETH",
        "from":"13426335357",
        "to":"0xA41446125D0B5b6785f6898c9D67874D763A1519",
        "timestamp":"2018-04-22T23:09:45.000Z",
        "status":2
    },
    {
        "amount":0.01,
        "fee":"0.00000000btc",
        "txid":"",
        "currency":"BTC",
        "from":"13426335357",
        "to":"13426335357",
        "timestamp":"2018-05-17T02:43:08.000Z",
        "status":2
    }
]
</code></pre></div></div></div>





<h3 id="account-cha-xun-dan-ge-bi-zhong-ti-bi-ji-lu">查询单个币种提币记录</h3>
<p>查询单个币种的最近成交记录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/withdrawal/history/&lt;currency&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/withdrawal/history/btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>提币申请时间</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>提币地址(如果收币地址是OKEx平台地址，则此处将显示用户账户)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>收币地址</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>部分币种提币需要标签，若不需要则不返回此字段</td>
</tr>
<tr>
<td>payment_id</td>
<td>String</td>
<td>部分币种提币需要此字段，若不需要则不返回此字段</td>
</tr>
<tr>
<td>txid</td>
<td>String</td>
<td>提币哈希记录(内部转账将不返回此字段)</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>提币手续费和对应币种，如0.00000009btc</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>提现状态（-3:撤销中;-2:已撤销;-1:失败;0:等待提现;1:提现中;2:已汇出;3:邮箱确认;4:人工审核中5:等待身份认证）</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>此处的from显示的是用户OKEx账户，并不等于区块链上实际的发币地址，如果提币到OKEx则to也显示为OKEx账户，此时将不返回txid
返回所有币种最近100条提币记录，若想查询更多请分币对查询。
注意此处显示的最新提币记录可能还没有在区块上打包成功，若此处有提币记录而实际未到账，请耐心等待</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>
[
    {
        "amount":0.01105486,
        "fee":"0.00000000btc",
        "from":"13426335357",
        "to":"13426335357",
        "timestamp":"2018-09-30T02:49:29.000Z",
        "status":2
    },
    {
        "amount":0.01144408,
        "fee":"0.00000000btc",
        "from":"13426335357",
        "to":"13426335357",
        "timestamp":"2018-09-18T00:44:56.000Z",
        "status":2
    }
]
</code></pre></div></div></div>





<h3 id="account-query">账单流水查询</h3>
<p>查询钱包账户账单流水。流水会分页，并且按时间倒序排序和储存，最新的排在最前面。请参阅分页部分以获取第一页之后的其他记录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/ledger</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/ledger?type=2&amp;currency=btc&amp;from=4&amp;limit=10</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>否</td>
<td>币种，如btc</td>
</tr>
<tr>
<td>type</td>
<td>number</td>
<td>否</td>
<td>填写相应数字：1:充值2:提现13:撤销提现18:转入合约账户19:合约账户转出20:转入子账户21:子账户转出28:领取29:转入指数交易区30:指数交易区转出 31:转入点对点账户32:点对点账户转出 33:转入币币杠杆账户 34:币币杠杆账户转出 37:转入币币账户 38:币币账户转出</td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第5页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第5页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>number</td>
<td>账单ID</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种</td>
</tr>
<tr>
<td>balance</td>
<td>number</td>
<td>余额</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>变动数量</td>
</tr>
<tr>
<td>typename</td>
<td>String</td>
<td>账单类型</td>
</tr>
<tr>
<td>fee</td>
<td>number</td>
<td>手续费</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>账单创建时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "amount":-0.00100941,
        "balance":0,
        "currency":"BTC",
        "fee":0,
        "ledger_id":9260348,
        "timestamp":"2018-10-19T01:12:21.000Z",
        "typename":"To: spot account"
    },
    {
        "amount":0.00051843,
        "balance":0.00100941,
        "currency":"BTC",
        "fee":0,
        "ledger_id":8987285,
        "timestamp":"2018-10-12T11:01:14.000Z",
        "typename":"Get from activity"
    }
]
</code></pre></div></div></div>






<h3 id="account-huo-qu-chong-zhi-di-zhi">获取充值地址</h3>
<p>获取各个币种的充值地址，包括曾使用过的老地址。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/deposit/address</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/deposit/address?currency=btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如btc</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>address</td>
<td>String</td>
<td>充值地址</td>
</tr>
<tr>
<td>tag</td>
<td>String</td>
<td>部分币种提币需要标签，若不需要则不返回此字段</td>
</tr>
<tr>
<td>payment_id</td>
<td>String</td>
<td>部分币种提币需要此字段，若不需要则不返回此字段</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如btc</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>IOTA充值地址不能重复使用！在向IOTA地址发起充值后，再次充值到此相同地址将不会被确认到账。</p>
<p>某些币充值到账，需要同时填写OKEx返回的充值地址和一个tag/payment_id。如果未遵守正确的充值步骤，币会丢失！</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "currency"："btc"
    "address":"dafdsafdsfe",
    “tag":"123"，
}, {
    "currency"："btc"
    "address":"dafdsafkkkdsfe",
    “tag”:”xyzddrrrsdfsdf"
}]
</code></pre></div></div></div>







<h3 id="account-huo-qu-suo-you-bi-zhong-chong-zhi-ji-lu">获取所有币种充值记录</h3>
<p>获取所有币种的充值记录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/account/v3/deposit/history</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/deposit/history</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种名称，如：btc</td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>充值数量</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>此笔充值到账地址</td>
</tr>
<tr>
<td>txid</td>
<td>String</td>
<td>区块转账哈希记录</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>充值到账时间</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>提现状态（0:等待确认;1:确认到账;2:充值成功；）</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "amount":0.01044408,
        "txid":"1915737_3_0_0_WALLET",
        "currency":"BTC",
        "to":"",
        "timestamp":"2018-09-30T02:45:50.000Z",
        "status":2
    },
    {
        "amount":491.6784211,
        "txid":"1744594_3_184_0_WALLET",
        "currency":"OKB",
        "to":"",
        "timestamp":"2018-08-21T08:03:10.000Z",
        "status":2
    },
    {
        "amount":223.18782496,
        "txid":"6d892c669225b1092c780bf0da0c6f912fc7dc8f6b8cc53b003288624c",
        "currency":"USDT",
        "to":"39kK4XvgEuM7rX9frgyHoZkWqx4iKu1spD",
        "timestamp":"2018-08-17T09:18:40.000Z",
        "status":2
    }
]
</code></pre></div></div></div>







<h3 id="account-huo-qu-dan-ge-bi-zhong-chong-zhi-ji-lu">获取单个币种充值记录</h3>
<p>获取单个币种的充值记录</p>
<h5 id="http">HTTP</h5>
<p>GET /api/account/v3/deposit/history/&lt;currency&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/account/v3/deposit/history/btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>amount</td>
<td>number</td>
<td>充值数量</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>此笔充值到账地址</td>
</tr>
<tr>
<td>txid</td>
<td>String</td>
<td>区块转账哈希记录</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>充值到账时间</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种名称，如btc</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>提现状态（0:等待确认;1:确认到账;2:充值成功；）</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "amount":0.0835,
        "txid":"6d892c669225b1092c780bf0da0c6f912fc3e8f997dc8f6b8cc53b003288624c",
        "currency":"BTC",
        "to":"39kK4XvgEuM7rX9frgyHoZkWqx4iKu1spD",
        "timestamp":"2018-06-09T07:57:09.000Z",
        "status":2
    },
    {
        "amount":0.01,
        "txid":"590426_1_0_WALLET",
        "currency":"BTC",
        "to":"",
        "timestamp":"2018-05-30T01:33:40.000Z",
        "status":2
    }
]
</code></pre></div></div></div>











<h3 id="account-error_code">错误码</h3>
<h5 id="错误码示例">错误码示例</h5>
<table>
<thead>
<tr>
<th>描述</th>
<th>业务错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>提现冻结</td>
<td>34001</td>
<td>400</td>
<td>提现接口，账户被冻结</td>
</tr>
<tr>
<td>请先添加提现地址</td>
<td>34002</td>
<td>400</td>
<td>提现接口，地址未添加</td>
</tr>
<tr>
<td>该币种暂不支持提现至XX，敬请谅解</td>
<td>34003</td>
<td>400</td>
<td>提现接口，地址不正确</td>
</tr>
<tr>
<td>提现手续费小于最小值</td>
<td>34004</td>
<td>400</td>
<td>提现接口，手续费输入有误</td>
</tr>
<tr>
<td>提现手续费大于最大值</td>
<td>34005</td>
<td>400</td>
<td>提现接口，提现手续费输入有误</td>
</tr>
<tr>
<td>提现金额小于最小提现金额</td>
<td>34006</td>
<td>400</td>
<td>最小提现金额提现接口，提现金额输入有误</td>
</tr>
<tr>
<td>提现金额大于单笔提现最大金额</td>
<td>34007</td>
<td>400</td>
<td>单笔提现最大金额提现接口，提现金额输入有误</td>
</tr>
<tr>
<td>您的余额不足</td>
<td>34008</td>
<td>400</td>
<td>划转和提现接口，余额不足</td>
</tr>
<tr>
<td>今日提现金额累计超过每日限额</td>
<td>34009</td>
<td>400</td>
<td>提现接口，提现金额超限</td>
</tr>
<tr>
<td>转账金额必须大于零</td>
<td>34010</td>
<td>400</td>
<td>划转接口，金额输入不正确</td>
</tr>
<tr>
<td>不符合条件</td>
<td>34011</td>
<td>400</td>
<td>划转提现接口，不符合条件，如kyc等级不够</td>
</tr>
<tr>
<td>NEO最小提现数量为1，且提现数量必须为整数</td>
<td>34012</td>
<td>400</td>
<td>提现接口，某些币特殊限制</td>
</tr>
<tr>
<td>需要传</td>
<td>34013</td>
<td>400</td>
<td>划转接口，转入或转出是币币杠杆时instrument ID未传</td>
</tr>
<tr>
<td>划转受限</td>
<td>34014</td>
<td>400</td>
<td>划转接口，划转资金受限</td>
</tr>
<tr>
<td>子账户不存在</td>
<td>34015</td>
<td>400</td>
<td>划转接口，转入或转出是子账户时，子账户不存在</td>
</tr>
<tr>
<td>划转冻结</td>
<td>34016</td>
<td>400</td>
<td>划转接口，源或目的不允许划转</td>
</tr>
<tr>
<td>账户冻结</td>
<td>34017</td>
<td>400</td>
<td>划转和提现接口，源或目的不允许划转</td>
</tr>
<tr>
<td>交易密码错误</td>
<td>34018</td>
<td>400</td>
<td>交易密码错误</td>
</tr>
<tr>
<td>您需要绑定邮箱后，才能提现</td>
<td>34019</td>
<td>400</td>
<td>提现接口，需要先绑定邮箱</td>
</tr>
<tr>
<td>您需设置资金密码后，才能提现</td>
<td>34020</td>
<td>400</td>
<td>提现接口，需要先设置资金密码</td>
</tr>
<tr>
<td>不是认证地址</td>
<td>34021</td>
<td>400</td>
<td>提现接口，不是认证的地址</td>
</tr>
<tr>
<td>子账号不允许提现</td>
<td>34022</td>
<td>400</td>
<td>提现接口，子账号不允许提现</td>
</tr>
</tbody>
</table>
<h3 id="spot-README">币币API</h3>
<p>币币交易的行情信息，账户信息，订单操作，订单查询，账单明细查询。</p>
<p>说明： 因为要和老版本做兼融，实际有些接口返回参数会有多余，请以文档中返回参数说明为准。</p>
<p>例如币币账户信息接口返回frozen ,hold和holds参数值相同，以hold为准；获取借币记录接口返回参数 repay_amount 和 returned_amount，repay_interest 和paid_interest  参数的值相同，product_id和instrument_id相同等等</p>
<h3 id="spot-account_information">币币账户信息</h3>
<p>获取币币账户资产列表(仅展示拥有资金的币对)，查询各币种的余额、冻结和可用等信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/accounts</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:27:58.996ZGET/api/spot/v3/accounts</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>string</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>可用于交易或资金划转的数量</td>
</tr>
<tr>
<td>id</td>
<td>long</td>
<td>账户ID</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>当你下市价单或限价单时，订单所需的资金将被冻结。这部分数量将不能被用于其他订单或者资金划转。资金将一直被冻结直至订单被成交或者取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
   "currency": “BTC”,
   “balance”: ”2.3”,    
   “hold”: “2”,
   "available": “0.3”,
   “id”:”344555”
}]
</code></pre></div></div></div>














<h3 id="spot-singleness">单一币种账户信息</h3>
<p>获取币币账户单个币种的余额、冻结和可用等信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/accounts/&lt;currency&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:28:43.497ZGET/api/spot/v3/accounts/btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>[必填]币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>string</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>可用于交易或资金划转的数量</td>
</tr>
<tr>
<td>id</td>
<td>long</td>
<td>账户id</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

 "currency": “BTC”,

 “balance”: ”2.3”, 

 “hold”: “2”,

 "available": “0.3”,

 “id”:”344555”

}
</code></pre></div></div></div>















<h3 id="spot-query">账单流水查询</h3>
<p>列出账户资产流水。账户资产流水是指导致账户余额增加或减少的行为。流水会分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他记录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/accounts/&lt;currency&gt;/ledger</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:46:19.435ZGET/api/spot/v3/accounts/btc/ledger?limit=1&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>[必填]币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>long</td>
<td>账单ID</td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>变动数量</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>流水来源</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>账单创建时间</td>
</tr>
<tr>
<td>details</td>
<td>string</td>
<td>如果type是trade或者fee，则会有该details字段将包含order,instrument信息</td>
</tr>
<tr>
<td>order_id</td>
<td>long</td>
<td>交易的ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>交易的币对</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>以下内容是参数名type的枚举值</p>
<table>
<thead>
<tr>
<th style="text-align:center">流水来源类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">transfer</td>
<td style="text-align:center">资金转入/转出</td>
</tr>
<tr>
<td style="text-align:center">trade</td>
<td style="text-align:center">交易产生的资金变动</td>
</tr>
<tr>
<td style="text-align:center">fee</td>
<td style="text-align:center">手续费</td>
</tr>
<tr>
<td style="text-align:center">rebate</td>
<td style="text-align:center">返佣</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{
      “amount":"0.999",
       “currency":"USDT",
      “balance":"6.539194",
      “timestamp":"2018-06-20T02:31:00.000Z",
      “details":
     {“order_id”:7542,"instrument_id":"LTC-BTC"},
      “ledger_id": “912025447”,
      “type”:”trade"
},
{
      “amount":"1",
      “currency":"USDT",
      “balance":"31.797831",
      “timestamp":"2018-06-20T02:31:00.000Z",
      “details":
     {“order_id”:7542,"instrument_id":"LTC-BTC"},
      “ledger_id”:“912025427”,
      “type”:”trade"
},
…
]
</code></pre></div></div></div>













<h3 id="spot-orders">下单</h3>
<p>OKEx币币交易提供限价单和市价单两种下单模式(更多下单模式将会在后期支持)。只有当您的账户有足够的资金才能下单。</p>
<p>一旦下单，您的账户资金将在订单生命周期内被冻结。被冻结的资金以及数量取决于订单指定的类型和参数。</p>
<h5 id="限速规则：100次2s">限速规则：100次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/spot/v3/orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>市价单：2018-09-12T07:46:47.098ZPOST/api/spot/v3/orders{"client_oid":"20180728","instrument_id":"btc-usdt","side":"buy","type":"market","size":"0.1"," notional ":"100","margin_trading
    ":"1"}</p>
<p>限价单：2018-09-12T07:46:47.098ZPOST/api/spot/v3/orders{"client_oid":"20180728","instrument_id":"btc-usdt","side":"buy","type":"limit","size":"0.1","price":"100","margin_trading
    ":"1"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>limit，market(默认是limit)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>是</td>
<td>buy or sell</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>币对名称</td>
</tr>
<tr>
<td>margin_trading</td>
<td>byte</td>
<td>否</td>
<td>下单类型(当前为币币交易，请求值为1)</td>
</tr>
</tbody>
</table>
<h5 id="限价单特殊参数">限价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>price</td>
<td>string</td>
<td>是</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>是</td>
<td>买入或卖出的数量</td>
</tr>
</tbody>
</table>
<h5 id="市价单特殊参数">市价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>string</td>
<td>是</td>
<td>卖出数量，市价卖出时必填size</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>是</td>
<td>买入金额，市价买入是必填notional</td>
</tr>
</tbody>
</table>
<h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>下单结果。若是下单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="解释说明">解释说明</h5>
<p>instrument_id</p>
<p>instrument_id必须是有效的币对。币对列表可通过/ instrument接口获取。</p>
<p>client_oid</p>
<p>可选字段client_oid是您的交易程序自行生成的UUID。您可以使用此字段在系统返回给你的信息中识别订单。
client_oid与服务器分配的订单ID不同。如果您使用client_oid在系统返回的信息中发现对应订单，同样需要记录order_id，因为它将用于未来的订单状态更新查询。消息返回之后，client_oid就没有任何作用了。</p>
<p>type</p>
<p>下单时，您可以指定订单类型。您指定的订单类型将决定是否需要其他订单参数以及撮合引擎如何执行您的订单。如果type没有指定，订单类型将默认为limit。限价单既是默认订单类型，也是基本订单类型。限价单需要指定price和size。size是买入或卖出交易货币的数量，price表示每个交易货币相对计价货币的价格。限价单会按指定价格或更好的价格成交。根据市场条件，卖单可以按照指定价格或者更高价格来成交，买单可以按照指定价格或更低价格成交。如果限价单不能立即成交，那么限价单将进入深度列表，直到被另一个新订单成交或被用户撤单。
市价单不同于限价单，因为它们不提供价格控制。市价单提供了一种不必指定价格，而以固定数量的货币进行买入或者卖出的方式。市价单下单后会立即撮合，而不会被挂入深度列表。市价单总是吃单方(taker)并按taker收取手续费用。(注：如果你计划买入卖出的数量巨大时，将会对价格产生巨大影响，此时不推荐使用市价单)</p>
<p>price</p>
<p>price表示买入或卖出的价格。价格必须是价格步长(quote_increment)的倍数。价格步长(quote_increment)是价格的最小增量，可通过instrument接口获取。</p>
<p>size</p>
<p>size表示买入或卖出交易货币的数量。数量必须大于base_min_size。base_increment是交易货币数量的最小增量。上述参数都可通过instrument接口获取。
举例：假设 okb/usdt 的base_min_size是10，base_increment是0.0001。那么不能交易9.9个okb，但是可以交易10.0001个okb</p>
<p>notional</p>
<p>notional表示被用于市价买入的计价货币的数量，市价买入时必填。例如，在BTC-USDT交易时，市价单指定5000 USDT表示将花费5000 USDT购买BTC。</p>
<p>hold</p>
<p>对于限价买单，系统将冻结计价货币的数量 = 限定价格 x 买入数量。对于限价卖单，系统将冻结你想卖出的交易货币的数量。对于市价买单，funds数量的计价货币将被冻结。对于市价卖单，size数量的交易货币将被冻结。如果您取消部分成交或未成交的订单，剩余资金将被解除冻结。</p>
<p>订单生命周期</p>
<p>HTTP请求将在订单被拒绝（资金不足，参数无效等）或下单成功（由匹配引擎接受）时作出响应。一个200响应表示该订单被接收并且进入撮合。进入撮合的订单可以部分或全部立即成交（取决于价格和市场条件）。部分成交的时候将把订单的剩余数量继续进行撮合。完全成交的订单将进入已成交状态。
监听行情数据的用户建议使用client_oid字段以便在接受到的信息中标识对应的数据。</p>
<p>响应</p>
<p>成功接受的订单将被分配一个订单ID。订单是否成功接受取决于撮合引擎是否接受。
未成交的订单不会过期，并将保持撮合状态，直到被成交或取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "234652",
    "client_oid": “23",
    "result": true
}
</code></pre></div></div></div>







<h3 id="spot-batch">批量下单</h3>
<p>下指定币对的多个订单（每次只能下最多4个币对且每个币对最多4个订单）。</p>
<h5 id="限速规则：50次2s">限速规则：50次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/spot/v3/batch_orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>市价单：2018-09-14T09:51:24.959ZPOST/api/spot/v3/batch_orders[{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"market"," size
       ":"0.001"," notional ":"10001","margin_trading
       ":"1"},{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit"," size
       ":"0.001","notional":"10002","margin_trading
       ":"1"}</p>
<p>限价单：2018-09-14T09:51:24.959ZPOST/api/spot/v3/batch_orders[{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit","size":"0.001","price":"10001","margin_trading
       ":"1"},{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit","size":"0.001","price":"10002","margin_trading
       ":"1"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>是</td>
<td>buy or sell</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>币对名称</td>
</tr>
<tr>
<td>margin_trading</td>
<td>string</td>
<td>否</td>
<td>下单类型(当前为币币交易，请求值为1)</td>
</tr>
</tbody>
</table>
<h5 id="限价单特殊参数">限价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>price</td>
<td>string</td>
<td>是</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>是</td>
<td>买入或卖出的数量</td>
</tr>
</tbody>
</table>
<h5 id="市价单特殊参数">市价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>string</td>
<td>否</td>
<td>[非必填]卖出数量，市价卖出必填size</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>否</td>
<td>[非必填]买入金额，市价买入时必填notional</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>下单结果。若是下单失败，将给出错误码提示。</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>每次最多4个币对且每个币对最多4个订单，建议用户调用批量撤单接口后，再调用获取订单列表接口确认已撤销成功。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "btc-usdt":[
        {
            "client_oid":"20180918",
            "order_id":995703349,
            "result":true
        },
        {
            "client_oid":"20180917",
            "order_id":995703350,
            "result":true
        }，
{
            "client_oid":"20180917",
            "order_id":-1,
            "false":true
        }

    ]
}
</code></pre></div></div></div>

<h3 id="spot-revocation">撤销指定订单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="限速规则：100次2s">限速规则：100次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/spot/v3/cancel_orders/&lt;order_id&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-12T07:32:56.512ZPOST/api/spot/v3/cancel_orders/1611729012263936{"client_oid":"20181009","instrument_id":"btc-usdt"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>提供此参数则撤销指定币对的相应订单，如果不提供此参数则返回错误码</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>是</td>
<td>订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>撤单结果。若是撤单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>这order_id是服务器分配的订单ID，而不是用户传的的client_oid。</p>
<p>如果订单无法取消(已经成交或已取消)，那么返回的报错内容里将显示相应的原因。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
"client_oid":"",
"order_id":1745,
"result":true
}
</code></pre></div></div></div>



<h3 id="spot-repeal">批量撤销订单</h3>
<p>撤销指定的某一种或多种币对的所有未完成订单。</p>
<h5 id="限速规则：50次2s">限速规则：50次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/spot/v3/cancel_batch_orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-12T07:30:49.664ZPOST/api/spot/v3/cancel_batch_orders[{"instrument_id":"btc-usdt","order_ids":[1600593327162368,1600593327162369]}]</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_ids</td>
<td>list<long></long></td>
<td>是</td>
<td>订单编号，每次只能撤销同一币对下的最多4笔订单</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>币种</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>list<string></string></td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>撤单结果。若是撤单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>每次最多4个币对且每个币对最多4个订单，建议用户调用批量撤单接口后，再调用获取订单列表接口确认已撤销成功。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“btc_usdt”:{
"result":true,
"client_oid":"",
"order_id":["1747","1748"]
},
“ltc_eth”:{
"result":true,
"client_oid":"",
“order_id”:[“1758”,”1779","1880"]
}
}
</code></pre></div></div></div>



<h3 id="spot-list">获取订单列表</h3>
<p>列出您当前所有的订单信息。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:49:43.306ZGET/api/spot/v3/orders?instrument_id=Btc-usdT&amp;status=filled%7Copen&amp;limit=2&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>[必填]仅列出相应状态的订单列表。(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 ordering:下单中)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]列出指定币对的订单</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。From 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<p>（注：status 可以查询多个状态 用|分开，| 需要转义成%7C））</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除。这表示订单详细信息将不可用本接口来获取。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "order_id": "125678",
    "notional ": "12.2",
    "price": "0.10000000",
    "size": "0.01000000",
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": "limit",
    "timestamp": "2016-12-08T20:02:28.538Z",
    "filled_size": "0.00000000",
    "filled_notional": "0.0000000000000000",
    "status": "open"
},{
    "order_id": "125600",
     "notional ": "12.2",
    "size": "1.00000000",
    "instrument_id": "BTC-USDT",
    "side": "sell",
    "type": "market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "1.00000000",
    "filled_notional": "9.9750556620000000",
    "status": "filled"
}
]
</code></pre></div></div></div>

















<h3 id="spot-huo-qu-wei-wan-cheng-ding-dan">获取所有未成交订单</h3>
<p>列出您当前所有的订单信息。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/orders_pending</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:51:51.138ZGET/api/spot/v3/orders_pending?limit=2&amp; instrument_id=Btc-usdT&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">from</td>
<td style="text-align:center">string</td>
<td style="text-align:center">请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td style="text-align:center">to</td>
<td style="text-align:center">string</td>
<td style="text-align:center">请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td style="text-align:center">limit</td>
<td style="text-align:center">string</td>
<td style="text-align:center">分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td style="text-align:center">instrument_id</td>
<td style="text-align:center">string</td>
<td style="text-align:center">币对名称</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 ordering:下单中)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询所有未成交或者部分成交的订单</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "order_id": "125678",
    "notional": "12.4",
    "price": "0.10000000",
    "size": "0.01000000",
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": "limit",
    "timestamp": "2016-12-08T20:02:28.538Z",
    "filled_size": "0.00000000",
    "filled_notional": "0.0000000000000000",
    "status": "open"
},{
    "order_id": "125600",
    "notional": "12.4",
    "price": "0.10000000",
    "size": "1.00000000",
    "instrument_id": "BTC-USDT",
    "side": "sell",
    "type": "market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "0.80000000",
    "filled_notional": "9.9750556620000000",
    "status": “part_filled”
}
]
</code></pre></div></div></div>


















<h3 id="spot-order_information">获取订单信息</h3>
<p>通过订单ID获取单个订单信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/orders/&lt;order_id&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:54:01.582ZGET/api/spot/v3/orders/23356?instrument_id=BTC-USDT</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>[必填]订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 ordering:下单中)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除，则响应可能因为没有相应的匹配而返回状态码404。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
<p>状态包含(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销)</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "233456",
    "notional": “10000.0000",
    “price”：“8014.23”，
    “size”：“4”,
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": “market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "0.1291771",
    "filled_notional": "10000.0000",
    "status": "filled"
}
</code></pre></div></div></div>

















<h3 id="spot-detail">获取成交明细</h3>
<p>获取最近的成交明细表。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他记录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/fills</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:56:11.922ZGET/api/spot/v3/fills?order_id=23212&amp;instrument_id=btc-usdt&amp;limit=2&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>[必填]仅限此order_id的资金明细列表。</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]仅限此instrument_id的资金明细表，</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>long</td>
<td>账单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>数量</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>订单ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>exec_type</td>
<td>string</td>
<td>流动性方向(T or M)</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>手续费</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>账单方向（buy ,sell or points_fee）</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>手续费</p>
<p>fee字段表示这条账单记录所收取的手续费，如果side 的值是点卡抵扣手续费（points_fee），fee的值为点卡抵扣的手续费。</p>
<p>流动性</p>
<p>exec_type字段表示该账单是maker还是taker产生的。M表示Maker，T表示Taker。</p>
<p>分页</p>
<p>返回账单列表的ledger_id按降序排列，从最大ledger_id到最小ledger_id。OK-FROM都会有这样的第一笔ledger_id，以便将来的请求使用OK-FROM参数将获取一个更大的ledger_id(新的账单)。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{

    "exec_type": "T",
    "fee": "0.018",
    "instrument_id": "ETH-USDT",
    "ledger_id": "1706",
    "order_id": "1798782957193216",
    "price": "90",
    "side": "points_fee",
    "size": "0",
    "timestamp": "2018-11-14T08:14.09000Z"
}, {

    "exec_type": "T",
    "fee": "10",
    "instrument_id": "ETH-USDT",
    "ledger_id": "1705",
    "order_id": "1798782957193216",
    "price": "90",
    "side": "buy",
    "size": "0.1",
    "timestamp": "2018-11-14T08:14:09.000Z"
}, {

    "exec_type": "T",
    "fee": "10",
    "instrument_id": "ETH-USDT",
    "ledger_id": "1704",
    "order_id": "1798782957193216",
    "price": "90",
    "side": "sell",
    "size": "9",
    "timestamp": "2018-11-14T08:14:09.000Z"
}]
</code></pre></div></div></div>



















<h3 id="spot-currency">获取币对信息</h3>
<p>用于获取行情数据，这组公开接口提供了行情数据的快照，无需认证即可调用。</p>
<p>获取交易币对的列表，查询各币对的交易限制和价格步长等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:56:45.645ZGET/api/spot/v3/instruments</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>base_currency</td>
<td>string</td>
<td>交易货币币种</td>
</tr>
<tr>
<td>quote_currency</td>
<td>string</td>
<td>计价货币币种</td>
</tr>
<tr>
<td>min_size</td>
<td>string</td>
<td>最小交易数量</td>
</tr>
<tr>
<td>size_increment</td>
<td>string</td>
<td>交易货币数量精度</td>
</tr>
<tr>
<td>tick_size</td>
<td>string</td>
<td>交易价格精度</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>min_size指下单数量的最小值（交易货币）以及最小借币的数量。size_increment(交易数量步长)是指下单数量的最小增量。例如，当size_increment为0.000001，委托数量传入0.0000121将被系统按截尾法修正为0.000012。</p>
<p>tick_size(价格步长)是指下单价格的最小增量，委托价格必须是tick_size的倍数。例如，当tick_size为0.0001，委托价格传入0.02231将被系统按截尾法修正为0.0223。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
"instrument_id": "BTC-USDT",

"base_currency": "BTC",

"quote_currency": "USDT",

"min_size": "0.001",

"size_increment": "0.00000001",

"tick_size": "0.0001"
}]
</code></pre></div></div></div>





































<h3 id="spot-data">获取深度数据</h3>
<p>获取币对的深度列表。这个请求不支持分页，一个请求返回整个深度列表。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments/&lt;instrument_id&gt;/book</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:57:09.130ZGET/api/spot/v3/instruments/LTC-USDT/book?size=10&amp;depth=2.1232</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>string</td>
<td>返回深度档位数量，最多返回200</td>
</tr>
<tr>
<td>depth</td>
<td>string</td>
<td>按价格合并深度，默认为tick_size的值(获取币对信息)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<h5 id="返回参数">返回参数</h5>
<div class="api-method"><div class="api-method-definition"><h6 id="普通返回数据">普通返回数据</h6>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>数量</td>
</tr>
<tr>
<td>num_orders</td>
<td>integer</td>
<td>组成此条深度的订单数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>按价格合并深度是指每个价格区间将仅返回一个数量，就像在该价格区间上只有一个订单。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "timestamp": "2016-12-08T20:09:05.508Z",

    "bids": [
        [ price, size, num_orders ],
        [ "295.96", "4.39088265", 2 ],
        ...
    ],
    "asks": [
        [ price, size, num_orders ],
        [ "295.97", "25.23542881", 12 ],
        ...
    ]
}
</code></pre></div></div></div>











































<h3 id="spot-all">获取全部ticker信息</h3>
<p>获取平台全部币对的最新成交价、买一价、卖一价和24小时交易量的快照信息。</p>
<h5 id="限速规则：50次2s">限速规则：50次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments/ticker</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:57:26.537ZGET/api/spot/v3/instruments/ticker</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>last</td>
<td>string</td>
<td>最新成交价</td>
</tr>
<tr>
<td>best_bid</td>
<td>string</td>
<td>买一价</td>
</tr>
<tr>
<td>best_ask</td>
<td>string</td>
<td>卖一价</td>
</tr>
<tr>
<td>open_24h</td>
<td>string</td>
<td>24小时开盘价</td>
</tr>
<tr>
<td>high_24h</td>
<td>string</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>string</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>base_volume_24h</td>
<td>string</td>
<td>24小时成交量，按交易货币统计</td>
</tr>
<tr>
<td>quote_volume_24h</td>
<td>string</td>
<td>24小时成交量，按计价货币统计</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
<p>24小时开盘价取值来自24小时前那一分钟的K线的开盘价。即 2018年7月23日08:23:45，此时的涨跌幅依靠的是开盘价是2018年7月22日08:23:00时的价格。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{

"instrument_id": "BTC-USDT",

"last": "333.99",

"best_bid": "333.98",

"best_ask": "333.99",
"open_24h": "0.193",
"high_24h": "0.193",

"low_24h": "333.98",

"base_volume_24h": "5957.11914015",

"quote_volume_24h": "5957.11914015",

"timestamp": "2015-11-14T20:46:03.511Z"

},{

"instrument_id": "LTC-USDT",

"last": "333.99",

"best_bid": "333.98",

"best_ask": "333.99",

"open_24h": "0.193",

"high_24h": "0.193",

"low_24h": "333.98",

"base_volume_24h": "5957.11914015",

"quote_volume_24h": "5957.11914015",

" timestamp": "2015-11-14T20:46:03.511Z"

}]
</code></pre></div></div></div>















































<h3 id="spot-some">获取某个ticker信息</h3>
<p>获取币对的最新成交价、买一价、卖一价和24小时交易量的快照信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments/&lt;instrument-id&gt;/ticker</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:57:50.799ZGET/api/spot/v3/instruments/LTC-USDT/ticker</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>last</td>
<td>string</td>
<td>最新成交价</td>
</tr>
<tr>
<td>best_bid</td>
<td>string</td>
<td>买一价</td>
</tr>
<tr>
<td>best_ask</td>
<td>string</td>
<td>卖一价</td>
</tr>
<tr>
<td>open_24h</td>
<td>string</td>
<td>24小时开盘价</td>
</tr>
<tr>
<td>high_24h</td>
<td>string</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>string</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>base_volume_24h</td>
<td>string</td>
<td>24小时成交量，按交易货币统计</td>
</tr>
<tr>
<td>quote_volume_24h</td>
<td>string</td>
<td>24小时成交量，按计价货币统计</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
<p>24小时开盘价取值来自24小时前那一分钟的K线的开盘价。即 2018年7月23日08:23:45，此时的涨跌幅依靠的是开盘价是2018年7月22日08:23:00时的价格。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“instrument_id": "BTC-USDT",

"last": "333.99",

"best_bid": "333.98",

"best_ask": "333.99",

"high_24h": "0.193",

"open_24h": "0.193",

"low_24h": "333.98",

"base_volume_24h": "5957.11914015",

"quote_volume_24h": "5957.11914015",

"timestamp": "2015-11-14T20:46:03.511Z"
}
</code></pre></div></div></div>


















































<h3 id="spot-deal_information">获取成交数据</h3>
<p>获取币对最新的60条成交列表。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments/&lt;instrument_id&gt;/trades</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:58:34.414ZGET/api/spot/v3/instruments/LTC-USDT/trades?limit=20&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>string</td>
<td>成交时间</td>
</tr>
<tr>
<td>trade_id</td>
<td>integer</td>
<td>成交ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>成交价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>成交方向</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>成交方向side是指Taker订单的下单方向，Taker表示主动与深度列表中挂单进行成交。buy表示价格上涨，因为Taker是买单吃掉深度，所以价格将上行。相反，sell表示价格下跌。</p>
<p>trade_id是记录成交信息的递增ID，可能不完整。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{

"timestamp": "2014-11-07T22:19:28.578Z",

"trade_id": "3245601",

"price": "10.00000000",

"size": "0.01000000",

"side": "buy"

}, {

"timestamp": "2014-11-07T01:08:43.642Z",

"trade_id": "3245602",

"price": "100.00000000",

"size": "0.01000000",

"side": "sell"

}]
</code></pre></div></div></div>





















































<h3 id="spot-line">获取K线数据</h3>
<p>获取币对的K线数据。K线数据按请求的粒度分组返回。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/spot/v3/instruments/&lt;instrument_id&gt;/candles</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:59:45.977ZGET/api/spot/v3/instruments/btc-usdt/candles?granularity=60&amp;start=2018-09-11T08%3A28%3A48.899Z&amp;end=2018-09-11T09%3A28%3A48.899Z</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>string</td>
<td>开始时间(ISO 8601标准)</td>
</tr>
<tr>
<td>end</td>
<td>string</td>
<td>结束时间(ISO 8601标准)</td>
</tr>
<tr>
<td>granularity</td>
<td>integer</td>
<td>以秒来计量的时间粒度</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>string</td>
<td>开始时间</td>
</tr>
<tr>
<td>low</td>
<td>string</td>
<td>最低价格</td>
</tr>
<tr>
<td>high</td>
<td>string</td>
<td>最高价格</td>
</tr>
<tr>
<td>open</td>
<td>string</td>
<td>开盘价格</td>
</tr>
<tr>
<td>close</td>
<td>string</td>
<td>收盘价格</td>
</tr>
<tr>
<td>volume</td>
<td>string</td>
<td>交易量</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>如果用户没有提供开始时间或结束时间中的任一字段，则两个字段都将被忽略。未提供开始时间和结束时间的请求，则系统按时间粒度返回最近的200个数据。</p>
<p>时间粒度granularity必须是[60 180 300 900 1800 3600 7200 14400 21600 43200 86400 604800]中的任一值，否则请求将被拒绝。这些值分别对应的是[1min 3min 5min 15min 30min 1hour 2hour 4hour 6hour 12hour 1day 1week]的时间段。</p>
<p>K线数据可能不完整。K线数据不应该轮询调用。</p>
<p>单次请求的最大数据量是200。如果您选择的开始/结束时间和时间粒度导致超过单次请求的最大数据量，您的请求将只会返回200个数据。如果您希望在更大的时间范围内获取足够精细的数据，则需要使用多个开始/结束范围进行多次请求。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{
"close":7071.1913,
"high":7072.7999,
"low":7061.7,
"open":7067.9008,
"time":"2018-08-05T10:00:00.000Z",
"volume":68.4532745
},
]
</code></pre></div></div></div>









<h3 id="spot-error_code">错误码</h3>
<h5 id="错误码示例">错误码示例</h5>
<table>
<thead>
<tr>
<th>描述</th>
<th>业务错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>您尚未开通此币种对应杠杆业务</td>
<td>33001</td>
<td>400</td>
<td>没有开通该币种杠杆业务时调接口会报错</td>
</tr>
<tr>
<td>您的此币种对应杠杆账号已被冻结</td>
<td>33002</td>
<td>400</td>
<td>杠杆账户被冻结</td>
</tr>
<tr>
<td>没有借款余额</td>
<td>33003</td>
<td>400</td>
<td>没有足够的余额进行借币</td>
</tr>
<tr>
<td>借币数量不能小于最小借币数</td>
<td>33004</td>
<td>400</td>
<td>借币时借币的数量</td>
</tr>
<tr>
<td>还款金额不能小于等于0</td>
<td>33005</td>
<td>400</td>
<td>还款金额不对</td>
</tr>
<tr>
<td>没有该借币订单</td>
<td>33006</td>
<td>400</td>
<td>还币或者查询的时候没有借币订单会报此错误</td>
</tr>
<tr>
<td>不存在该状态</td>
<td>33007</td>
<td>400</td>
<td>没有该状态值</td>
</tr>
<tr>
<td>借币数量不能大于您的可借数量</td>
<td>33008</td>
<td>400</td>
<td>借币的数量不合法</td>
</tr>
<tr>
<td>用户ID为空</td>
<td>33009</td>
<td>400</td>
<td>user ID为空</td>
</tr>
<tr>
<td>价格发现第二阶段您不可撤单</td>
<td>33010</td>
<td>400</td>
<td>集合竞价时候不可以撤单</td>
</tr>
<tr>
<td>没有最新行情信息</td>
<td>33011</td>
<td>400</td>
<td>没有行情数据</td>
</tr>
<tr>
<td>撤单失败</td>
<td>33012</td>
<td>400</td>
<td>撤单失败</td>
</tr>
<tr>
<td>下单失败</td>
<td>33013</td>
<td>400</td>
<td>下单失败</td>
</tr>
<tr>
<td>订单不存在</td>
<td>33014</td>
<td>400</td>
<td>重复撤单，订单号不对等</td>
</tr>
<tr>
<td>批量操作超过最大数量限制</td>
<td>33015</td>
<td>400</td>
<td>批量下单，批量撤单时候会出现</td>
</tr>
<tr>
<td>该币对没有开通杠杆业务</td>
<td>33016</td>
<td>400</td>
<td>币对没有开通杠杆业务</td>
</tr>
<tr>
<td>下单大于最大可用余额</td>
<td>33017</td>
<td>400</td>
<td>下单余额不足</td>
</tr>
<tr>
<td>该参数值填写错误，要填写小于1的数值</td>
<td>33018</td>
<td>400</td>
<td>获取深度接口时参数不对</td>
</tr>
<tr>
<td>暂不支持该请求</td>
<td>33020</td>
<td>400</td>
<td>有些交易所不支持杠杆业务</td>
</tr>
<tr>
<td>币与币对不匹配</td>
<td>33021</td>
<td>400</td>
<td>还币时币与币对不匹配</td>
</tr>
<tr>
<td>币对与订单不匹配</td>
<td>33022</td>
<td>400</td>
<td>还币时币与订单不匹配</td>
</tr>
<tr>
<td>价格发现期间您只可下市价单</td>
<td>33023</td>
<td>400</td>
<td>集合竞价时只可以下市价单</td>
</tr>
<tr>
<td>交易金额小于最小交易值</td>
<td>33024</td>
<td>400</td>
<td>下单时交易金额不对</td>
</tr>
<tr>
<td>没有基准币数量</td>
<td>33025</td>
<td>400</td>
<td>下单时上币时候币对配置不全</td>
</tr>
<tr>
<td>订单已完成交易</td>
<td>33026</td>
<td>400</td>
<td>撤单时完成交易的订单不能撤单</td>
</tr>
<tr>
<td>订单已撤销或者撤销中</td>
<td>33027</td>
<td>400</td>
<td>撤单时已经撤销和撤销中的订单不能撤单</td>
</tr>
<tr>
<td>交易价格小数位数超过限制</td>
<td>33028</td>
<td>400</td>
<td>下单时金额小数位超过限制</td>
</tr>
<tr>
<td>交易数量小数位数超过限制</td>
<td>33029</td>
<td>400</td>
<td>下单时数量小数位超过限制</td>
</tr>
</tbody>
</table>
<h3 id="spot_leverage-README">币币杠杆API</h3>
<p>币币杠杆交易的行情信息，账户信息，订单操作，订单查询，账单明细查询。</p>
<p>说明： 因为要和老版本做兼融，实际有些接口返回参数会有多余，请以文档中返回参数说明为准。</p>
<p>例如币币账户信息接口返回frozen ,hold和holds参数值相同，以hold为准；获取借币记录接口返回参数 repay_amount 和 returned_amount，repay_interest 和paid_interest  参数的值相同，product_id和instrument_id相同等等</p>
<h3 id="spot_leverage-account_information">币币杠杆账户信息</h3>
<p>获取币币杠杆账户资产列表(仅展示拥有资金的币对)，查询各币种的余额、冻结和可用等信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:25:10.579ZGET/api/margin/v3/accounts</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>string</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>可用于交易或资金划转的数量</td>
</tr>
<tr>
<td>risk_rate</td>
<td>string</td>
<td>风险率</td>
</tr>
<tr>
<td>liquidation_price</td>
<td>string</td>
<td>爆仓价</td>
</tr>
<tr>
<td>borrowed</td>
<td>string</td>
<td>已借币 （已借未还的部分）</td>
</tr>
<tr>
<td>lending_fee</td>
<td>string</td>
<td>利息 （未还的利息）</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>当你下市价单或限价单时，订单所需的资金将被冻结。这部分数量将不能被用于其他订单或者资金划转。资金将一直被冻结直至订单被成交或者取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{
    "currency:BTC": {
        "available": "2",
        "balance": "3",
        "borrowed": "3",
        "frozen": "1",
        "hold": "1",
        "holds": "1",
        "lending_fee": "0.7"
    },
    "currency:ETH": {
        "available": "200",
        "balance": "300",
        "borrowed": "300",
        "frozen": "100",
        "hold": "100",
        "holds": "100",
        "lending_fee": "75"
    },
    "instrument_id": "ETH-BTC",
    "liquidation_price": "122",
    "product_id": "ETH-BTC",
    "risk_rate": "o.3"
}, {
    "currency:BTC": {
        "available": "2",
        "balance": "3",
        "borrowed": "3",
        "frozen": "1",
        "hold": "1",
        "holds": "1",
        "lending_fee": "0.7"
    },
    "currency:ETH": {
        "available": "200",
        "balance": "300",
        "borrowed": "300",
        "frozen": "100",
        "hold": "100",
        "holds": "100",
        "lending_fee": "75"
    },
    "instrument_id": "IOST-BTC",
    "liquidation_price": "20",
    "product_id": "IOST-BTC",
    "risk_rate": "0.6"
}]
</code></pre></div></div></div>



<h3 id="spot_leverage-singleness">单一币对账户信息</h3>
<p>获取币币杠杆某币对账户的余额、冻结和可用等信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/&lt;instrument_id&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:25:41.946ZGET/api/margin/v3/accounts/btc-usdt</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>hold</td>
<td>string</td>
<td>冻结(不可用)</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>可用于交易或资金划转的数量</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]  币对</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
   “currency：XRP”:{
   “balance”:”3”,
   “hold”:”1”,
   “available”:”2”
                    },
    “currency：USDT” :{
    “balance”:”300”,
    “hold”:”100”,
    “available”:”200”
                   }
}
</code></pre></div></div></div>



<h3 id="spot_leverage-query">账单流水查询</h3>
<p>列出杠杆帐户资产流水。帐户资产流水是指导致帐户余额增加或减少的行为。流水会分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/&lt;instrument_id&gt;/ledger</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:26:29.443ZGET/api/margin/v3/accounts/btc-usdt/ledger?limit=2&amp;type=1&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>string</td>
<td>1:转入 2:转出 3:借款 4:还款 5:计息 6:穿仓亏损 7:买入 8:卖出 若不传此参数则默认返回所有类型</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>string</td>
<td>账单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>变动数量</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>流水来源</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>账单创建时间</td>
</tr>
<tr>
<td>details</td>
<td>string</td>
<td>如果type是trade或者fee，则会有该details字段将包含order,instrument信息</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>交易的ID</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">流水来源类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">transfer</td>
<td style="text-align:center">资金转入/转出</td>
</tr>
<tr>
<td style="text-align:center">trade</td>
<td style="text-align:center">交易产生的资金变动</td>
</tr>
<tr>
<td style="text-align:center">fee</td>
<td style="text-align:center">手续费</td>
</tr>
<tr>
<td style="text-align:center">rebate</td>
<td style="text-align:center">返佣</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{

 “amount":"0.999",

 “balance”:"6.539194",

 “currency”:“LTC”

 “timestamp":"2018-06-20T02:31:00.000Z",

 “details":

 {“order_id”:7542,"instrument_id":"LTC-BTC"},

 “ledger_id": “912025447”,

 “type”:”trade"

},
{

 “amount":"1",

 “balance”:"31.797831",

 “currency”:“LTC”

 “timestamp":"2018-06-20T02:31:00.000Z",

 “details":

 {“order_id”:7542,"instrument_id":"LTC-BTC"},

 “ledger_id”:“912025427”,

 “type”:”trade"},

…
]
</code></pre></div></div></div>









<h3 id="spot_leverage-configuration_information">杠杆配置信息</h3>
<p>获取币币杠杆账户的借币配置信息，包括当前最大可借、借币利率、最大杠杆倍数。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/availability</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:27:05.580ZGET/api/margin/v3/accounts/availability</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>当前最大可借</td>
</tr>
<tr>
<td>rate</td>
<td>double</td>
<td>借币利率</td>
</tr>
<tr>
<td>leverage</td>
<td>string</td>
<td>最大杠杆倍数</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
 “instrument_id”:”BTC-USDT”,

 “currency：BTC”: {

 “available”:”3”,

 “rate”:”0.001”,

 “leverage”:”3”

 },

 “currency：USDT”: {

 “balance”:”300”,

 “rate”:”0.001”,

 “leverage”:”3”
    }
 },
{

 “instrument_id”:”XRP-USDT”,

 “currency：XRP”: {

 “available”:”300”,

 “rate”:”0.0002”,

 “leverage”:”3”

 },

 “currency：USDT”: {

 “available”:”300”,

 “rate”:”0.001”,

 “leverage”:”3”

 }
 },
…
]
</code></pre></div></div></div>





<h3 id="spot_leverage-some_information">某个杠杆配置信息</h3>
<p>获取某个币币杠杆账户的借币配置信息，包括当前最大可借、借币利率、最大杠杆倍数。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/&lt;instrument_id&gt;/availability</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:27:37.723ZGET/api/margin/v3/accounts/BTC-usdt/availability</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>available</td>
<td>string</td>
<td>当前最大可借</td>
</tr>
<tr>
<td>rate</td>
<td>double</td>
<td>借币利率</td>
</tr>
<tr>
<td>leverage</td>
<td>string</td>
<td>最大杠杆倍数</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "currency:ETH":{
            "available":"0",
            "leverage":"3",
            "leverage_ratio":"3",
            "rate":"1.3248E-4"
        },
        "currency:USDT":{
            "available":"0",
            "leverage":"3",
            "leverage_ratio":"3",
            "rate":"1.4496E-4"
        },
        "instrument_id":"ETH-USDT",
        "product_id":"ETH-USDT"
    }
]
</code></pre></div></div></div>












<h3 id="spot_leverage-record">获取借币记录</h3>
<p>获取币币杠杆帐户的借币记录。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/borrowed</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:28:14.618ZGET/api/margin/v3/accounts/borrowed?status=0&amp;limit=1&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>状态(0:未还清 1:已还清)</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>borrow_id</td>
<td>long</td>
<td>借币记录ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>借币时间</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>借币总数量</td>
</tr>
<tr>
<td>interest</td>
<td>string</td>
<td>利息总数量</td>
</tr>
<tr>
<td>returned_amount</td>
<td>string</td>
<td>已还借币数量</td>
</tr>
<tr>
<td>paid_interest</td>
<td>string</td>
<td>已还利息数量</td>
</tr>
<tr>
<td>last_interest_time</td>
<td>string</td>
<td>最后一次计息时间</td>
</tr>
<tr>
<td>force_repay_time</td>
<td>string</td>
<td>强制还息时间</td>
</tr>
<tr>
<td>rate</td>
<td>string</td>
<td>利率</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
     "amount": "0.1",
     "borrow_id": 185762,
     "created_at": "2018-10-11T09:04:18Z",
     "currency": "USDT",
     "instrument_id": "LTC-USDT",
     "interest": "0",
     "last_interest_time": "2018-10-11T09:04:18Z",
     "paid_interest": "0",
     "product_id": "LTC-USDT",
     "repay_amount": "0.1",
     "repay_interest": "0",
     "returned_amount": "0.1",
     "timestamp": "2018-10-11T09:04:18.000Z",
     "force_repay_time":"2018-12-03T08:44:19Z",
     "rate":"0.00000045"
 }, {
     "amount": "0.1",
     "borrow_id": 185761,
     "created_at": "2018-10-11T06:28:24Z",
     "currency": "USDT",
     "instrument_id": "LTC-USDT",
     "interest": "0",
     "last_interest_time": "2018-10-11T06:28:24Z",
     "paid_interest": "0",
     "product_id": "LTC-USDT",
     "repay_amount": "0.1",
     "repay_interest": "0",
     "returned_amount": "0.1",
     "timestamp": "2018-10-11T06:28:24.000Z"
     "force_repay_time":"2018-12-03T08:44:19Z",
    "rate":"0.00000045"
 }]
</code></pre></div></div></div>

<h3 id="spot_leverage-some_record">某账户借币记录</h3>
<p>获取某个币币杠杆帐户的借币记录。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/accounts/&lt;instrument_id&gt;/borrowed</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:29:06.610ZGET/api/margin/v3/accounts/BTC-usdt/borrowed?limit=2&amp;status=1&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>状态(0:未还清 1:已还清)</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>borrow_id</td>
<td>long</td>
<td>借币记录ID</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
</tr>
<tr>
<td>created_at</td>
<td>string</td>
<td>借币时间</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>借币总数量</td>
</tr>
<tr>
<td>interest</td>
<td>string</td>
<td>利息总数量</td>
</tr>
<tr>
<td>returned_amount</td>
<td>string</td>
<td>已还借币数量</td>
</tr>
<tr>
<td>paid_interest</td>
<td>string</td>
<td>已还利息数量</td>
</tr>
<tr>
<td>last_interest_time</td>
<td>string</td>
<td>最后一次计息时间</td>
</tr>
<tr>
<td>force_repay_time</td>
<td>string</td>
<td>强制还息时间</td>
</tr>
<tr>
<td>rate</td>
<td>string</td>
<td>利率</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "amount": "0.1",
    "borrow_id": 185761,
    "created_at": "2018-10-11T06:28:24Z",
    "currency": "USDT",
    "instrument_id": "LTC-USDT",
    "interest": "0",
    "last_interest_time": "2018-10-11T06:28:24Z",
    "paid_interest": "0",
    "product_id": "LTC-USDT",
    "repay_amount": "0.1",
    "repay_interest": "0",
    "returned_amount": "0.1",
    "timestamp": "2018-10-11T06:28:24.000Z",
    "force_repay_time":"2018-12-03T08:44:19Z",
    "rate":"0.00000045"
}
</code></pre></div></div></div>


<h3 id="spot_leverage-borrow">借币</h3>
<p>在某个币币杠杆账户里进行借币。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/accounts/borrow</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-08T03:00:56.799ZPOST/api/margin/v3/accounts/borrow{"instrument_id":"ltc-usdt","currency":"usdt","amount":"0.1"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>是</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>是</td>
<td>借币数量</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>borrow_id</td>
<td>long</td>
<td>借币记录ID</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>结果</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "borrow_id":185760,
    "result":true
}
</code></pre></div></div></div>




<h3 id="spot_leverage-repay">还币</h3>
<p>在某个币币杠杆账户里进行还币。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/accounts/repayment</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-08T03:04:52.002ZPOST/api/margin/v3/accounts/repayment{"instrument_id":"ltc-usdt","currency":"usdt","amount":"0.1","borrow_id":"185759"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>borrow_id</td>
<td>string</td>
<td>是</td>
<td>借币记录ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>杠杆币对名称</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>是</td>
<td>币种</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>是</td>
<td>还币数量</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>repayment_id</td>
<td>long</td>
<td>还币记录ID</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>结果</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "repayment_id":185760,
    "result":true
}
</code></pre></div></div></div>

<h3 id="spot_leverage-orders">下单</h3>
<p>OKEx API提供limit和market两种下单模式。只有当您的账户有足够的资金才能下单。一旦下单，您的账户资金将在订单生命周期内被冻结。被冻结的资金以及数量取决于订单指定的类型和参数。</p>
<h5 id="限速规则：100次2s">限速规则：100次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>市价单：2018-09-12T07:46:47.098ZPOST/api/margin/v3/orders{"client_oid":"20180728","instrument_id":"btc-usdt","side":"buy","type":"market","size":"0.1","notional":"100","margin_trading
    ":"2"}</p>
<p>限价单：2018-09-12T07:46:47.098ZPOST/api/margin/v3/orders{"client_oid":"20180728","instrument_id":"btc-usdt","side":"buy","type":"limit","size":"0.1","price":"100","margin_trading
    ":"2"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>是</td>
<td>buy or sell</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>币对名称</td>
</tr>
<tr>
<td>margin_trading</td>
<td>string</td>
<td>否</td>
<td>下单类型(当前为币币杠杆交易，请求值为2)</td>
</tr>
</tbody>
</table>
<h5 id="限价单特殊参数">限价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>price</td>
<td>string</td>
<td>是</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>是</td>
<td>买入或卖出的数量</td>
</tr>
</tbody>
</table>
<h5 id="市价单特殊参数">市价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>string</td>
<td>否</td>
<td>[非必填]卖出数量，市价卖出必填size</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>否</td>
<td>[非必填]买入金额，市价买入时必填notional</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>下单结果。若是下单失败，将给出错误码提示。</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>instrument_id</p>
<p>instrument_id必须是有效的币对。币对列表可通过/ instrument接口获取。</p>
<p>client_oid</p>
<p>可选字段client_oid是您的交易程序自行生成的UUID。您可以使用此字段在系统返回给你的信息中识别订单。
client_oid与服务器分配的订单ID不同。如果您使用client_oid在系统返回的信息中发现对应订单，同样需要记录order_id，因为它将用于未来的订单状态更新查询。消息返回之后，client_oid就没有任何作用了。</p>
<p>type</p>
<p>下单时，您可以指定订单类型。您指定的订单类型将决定是否需要其他订单参数以及撮合引擎如何执行您的订单。如果type没有指定，订单类型将默认为limit。限价单既是默认订单类型，也是基本订单类型。限价单需要指定price和size。size是买入或卖出交易货币的数量，price表示每个交易货币相对计价货币的价格。限价单会按指定价格或更好的价格成交。根据市场条件，卖单可以按照指定价格或者更高价格来成交，买单可以按照指定价格或更低价格成交。如果限价单不能立即成交，那么限价单将进入深度列表，直到被另一个新订单成交或被用户撤单。
市价单不同于限价单，因为它们不提供价格控制。市价单提供了一种不必指定价格，而以固定数量的货币进行买入或者卖出的方式。市价单下单后会立即撮合，而不会被挂入深度列表。市价单总是吃单方(taker)并承担taker费用。</p>
<p>price</p>
<p>price表示买入或卖出的价格。价格必须是价格步长(quote_increment)的倍数。价格步长(quote_increment)是价格的最小增量，可通过instrument接口获取。</p>
<p>size</p>
<p>size表示买入或卖出交易货币的数量。数量必须大于base_min_size。交易数量步长(base_increment)是数量的最小增量。上述参数都可通过instrument接口获取。</p>
<p>notional</p>
<p>notional表示被用于市价买入的计价货币的数量，市价买入时必填。例如，在BTC-USDT交易时，市价单指定5000 USDT表示将花费5000 USDT购买BTC。</p>
<p>hold</p>
<p>对于限价买单，系统将冻结计价货币的数量 = 限定价格 x 买入数量。对于限价卖单，系统将冻结你想卖出的交易货币的数量。对于市价买单，funds数量的计价货币将被冻结。对于市价卖单，size数量的交易货币将被冻结。如果您取消部分成交或未成交的订单，剩余资金将被解除冻结。</p>
<p>订单生命周期</p>
<p>HTTP请求将在订单被拒绝（资金不足，参数无效等）或下单成功（由匹配引擎接受）时作出响应。一个200响应表示该订单被接收并且进入撮合。进入撮合的订单可以部分或全部立即成交（取决于价格和市场条件）。部分成交的时候将把订单的剩余数量继续进行撮合。完全成交的订单将进入已成交状态。
监听行情数据的用户建议使用client_oid字段以便在接受到的信息中标识对应的数据。</p>
<p>响应</p>
<p>成功接受的订单将被分配一个订单ID。成功接受的订单表示撮合引擎已经接受的订单。
未成交的订单不会过期，并将保持撮合状态，直到被成交或取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "667893",
    "client_oid": "102",
    "result": true
}
</code></pre></div></div></div>





















<h3 id="spot_leverage-batch">批量下单</h3>
<p>下指定币对的多个订单（每次只能下最多4个币对且每个币对最多4个订单）。</p>
<h5 id="限速规则：50次2s">限速规则：50次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/batch_orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>市价单：2018-09-14T09:51:24.959ZPOST/api/spot/v3/batch_orders[{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"market"," size ":"0.001"," notional ":"10001","margin_trading ":"1"},{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit"," size ":"0.001","notional":"10002","margin_trading ":"1"}</p>
<p>限价单：2018-09-14T09:51:24.959ZPOST/api/spot/v3/batch_orders[{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit","size":"0.001","price":"10001","margin_trading ":"1"},{"client_oid":"20180728","instrument_id":"btc-usdt","side":"sell","type":"limit","size":"0.001","price":"10002","margin_trading ":"1"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>是</td>
<td>buy or sell</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>币对名称</td>
</tr>
<tr>
<td>margin_trading</td>
<td>string</td>
<td>否</td>
<td>下单类型(当前为币币杠杆交易，请求值为2)</td>
</tr>
</tbody>
</table>
<h5 id="限价单特殊参数">限价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>price</td>
<td>string</td>
<td>是</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>是</td>
<td>买入或卖出的数量</td>
</tr>
</tbody>
</table>
<h5 id="市价单特殊参数">市价单特殊参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>string</td>
<td>否</td>
<td>[非必填]卖出数量，市价卖出必填size</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>否</td>
<td>[非必填]买入金额，市价买入时必填notional</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>下单结果。若是下单失败，将给出错误码提示。</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>每次最多4个币对且每个币对最多4个订单，建议用户调用批量撤单接口后，再调用获取订单列表接口确认已撤销成功。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "btc-usdt":[
        {
            "client_oid":"20180918",
            "order_id":995703349,
            "result":true
        },
        {
            "client_oid":"20180917",
            "order_id":995703350,
            "result":true
        }，
{
            "client_oid":"20180917",
            "order_id":-1,
            "false":true
        }

    ]
}
</code></pre></div></div></div>

<h3 id="spot_leverage-revocation">撤销指定订单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="限速规则：100次2s">限速规则：100次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/cancel_orders/&lt;order_id&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-12T07:34:30.223ZPOST/api/margin/v3/cancel_orders/23850{"client_oid":"20181009-01","instrument_id":"btc-usdt"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>是</td>
<td>[必填]提供此参数则撤销指定币对的相应订单，如果不提供此参数则返回错误码</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>是</td>
<td>订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>撤单结果。若是撤单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>这order_id是服务器分配的订单ID，而不是用户传的的client_oid。</p>
<p>如果订单无法取消(已经成交或已取消)，那么返回的报错内容里将显示相应的原因。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
"client_oid":"20181009-01",
"order_id":1745,
"result":true
}
</code></pre></div></div></div>



<h3 id="spot_leverage-repeal">批量撤销订单</h3>
<p>撤销指定的某一种或多种币对的所有未完成订单。</p>
<h5 id="限速规则：50次2s">限速规则：50次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/margin/v3/cancel_batch_orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-10-12T07:33:28.988ZPOST/api/margin/v3/cancel_batch_orders[{"instrument_id":"btc-usdt","order_ids":[23464,23465]}]</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>是否必填</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>list<long></long></td>
<td>是</td>
<td>提供此参数则撤销指定一个或多个币对的订单，如果不提供此参数则返回错误码，此字段支持传多个值。此参数为[''btc-usdt'',''ltc-eth''],推荐使用中横线连接币种，下划线连接的方式也同时兼容</td>
</tr>
<tr>
<td>order_id</td>
<td>long</td>
<td>是</td>
<td>订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>list<long></long></td>
<td>订单ID</td>
</tr>
<tr>
<td>client_oid</td>
<td>string</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币种，如btc-usdt</td>
</tr>
<tr>
<td>result</td>
<td>boolean</td>
<td>撤单结果。若是撤单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>每次最多4个币对且每个币对最多4个订单，建议用户调用批量撤单接口后，再调用获取订单列表接口确认已撤销成功。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“btc-usdt”:{
"result":true,
"client_oid":"",
"order_id":["1747","1748"]
},
“ltc-eth”:{
"result":true,
"client_oid":"",
“order_id”:[“1758”,”1779","1880"]
}
}
</code></pre></div></div></div>



<h3 id="spot_leverage-list">获取订单列表</h3>
<p>列出您当前所有的订单信息。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/orders</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:49:43.306ZGET/api/spot/v3/orders?instrument_id=Btc-usdT&amp;status=filled%7Copen&amp;limit=2&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>string</td>
<td>仅列出相应状态的订单列表。(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 failure:下单失败 ordering:下单中)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]列出指定币对的订单</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<p>（注：status 可以查询多个状态 用|分开，| 需要转义成%7C））</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除。这表示订单详细信息将不可用本接口来获取。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "order_id": "3000",
    "notional": "30",
    "price": "0.10000000",
    "size": "0.01000000",
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": "limit",
    "timestamp": "2016-12-08T20:02:28.538Z",
    "filled_size": "0.00000000",
    "filled_notional": "0.0000000000000000",
    "status": "open"
},{
    "order_id": “2998",
     "notional": "30",
    "size": "1.00000000",
    "instrument_id": "BTC-USDT",
    "side": "sell",
    "type": "market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "1.00000000",
    "filled_notional": "9.9750556620000000",
    "status": "filled"
}
]
</code></pre></div></div></div>




<h3 id="spot_leverage-order_information">获取订单信息</h3>
<p>通过订单ID获取单个订单信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/orders/&lt;order_id&gt;</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:39:22.475ZGET/api/margin/v3/orders/23458?instrument_id=btc-usdt</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]币对</td>
</tr>
<tr>
<td>order_id</td>
<td>string</td>
<td>[必填]订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 ordering:下单中)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除，则响应可能因为没有相应的匹配而返回状态码404。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
<p>状态包含(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销)</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "233456",
    "notional": “10000.0000",
    “price”：“8014.23”，
    “size”：“4”,
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": “market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "0.1291771",
    "filled_notional": "10000.0000",
    "status": "filled"
}
</code></pre></div></div></div>











<h3 id="spot_leverage-huo-qu-wei-wan-cheng-ding-dan">获取所有未成交订单</h3>
<p>列出您当前所有的订单信息。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/orders_pending</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-12T07:51:51.138ZGET/api/margin/v3/orders_pending?limit=2
&amp;instrument_id=btc-uts&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">from</td>
<td style="text-align:center">string</td>
<td style="text-align:center">请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td style="text-align:center">to</td>
<td style="text-align:center">string</td>
<td style="text-align:center">请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td style="text-align:center">limit</td>
<td style="text-align:center">string</td>
<td style="text-align:center">分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
<tr>
<td style="text-align:center">instrument_id</td>
<td style="text-align:center">string</td>
<td style="text-align:center">币对名称</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>交易货币数量</td>
</tr>
<tr>
<td>notional</td>
<td>string</td>
<td>买入金额，市价买入时返回</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>buy or sell</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>limit,market(默认是limit)</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>filled_size</td>
<td>string</td>
<td>已成交数量</td>
</tr>
<tr>
<td>filled_notional</td>
<td>string</td>
<td>已成交金额</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>订单状态(all:所有状态 open:未成交 part_filled:部分成交 canceling:撤销中 filled:已成交 cancelled:已撤销 ordering:下单中)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询所有未成交或者部分成交的订单</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "order_id": "125678",
    "notional": "12.4",
    "price": "0.10000000",
    "size": "0.01000000",
    "instrument_id": "BTC-USDT",
    "side": "buy",
    "type": "limit",
    "timestamp": "2016-12-08T20:02:28.538Z",
    "filled_size": "0.00000000",
    "filled_notional": "0.0000000000000000",
    "status": "open"
},{
    "order_id": "125600",
    "notional": "12.4",
    "price": "0.10000000",
    "size": "1.00000000",
    "instrument_id": "BTC-USDT",
    "side": "sell",
    "type": "market",
    "timestamp": "2016-12-08T20:09:05.508Z",
    "filled_size": "0.80000000",
    "filled_notional": "9.9750556620000000",
    "status": “part_filled”
}
]
</code></pre></div></div></div>


















<h3 id="spot_leverage-detail">获取成交明细</h3>
<p>获取最近的成交明细列表。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/margin/v3/fills</p>
<h5 id="签名请求示例">签名请求示例</h5>
<p>2018-09-13T02:44:54.823ZGET/api/margin/v3/fills?order_id=23239&amp;instrument_id=btc-usdt&amp;limit=1&amp;from=2&amp;to=4</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>long</td>
<td>[必填]仅限此order_id的资金明细列表。</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>[必填]仅限此instrument_id的资金明细列表。</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td>limit</td>
<td>string</td>
<td>分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>long</td>
<td>账单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>string</td>
<td>币对名称</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>价格</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>数量</td>
</tr>
<tr>
<td>order_id</td>
<td>long</td>
<td>订单ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>exec_type</td>
<td>string</td>
<td>流动性方向(T or M)</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>手续费</td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>订单方向(buy or sell)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>手续费</p>
<p>fee字段表示这条账单记录所收取的手续费。</p>
<p>流动性</p>
<p>exec_type字段表示该账单是maker还是taker产生的。M表示Maker，T表示Taker。</p>
<p>分页</p>
<p>返回账单列表的ledger_id按降序排列，从最大ledger_id到最小ledger_id。OK-FROM都会有这样的第一笔ledger_id，以便将来的请求使用OK-FROM参数将获取一个更大的ledger_id(新的账单)。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{

"ledger_id": 74,

"instrument_id": "BTC-USDT",

"price": "10.00",

"size": "0.01",

"order_id": "d50ec984-77a8-460a-b958-66f114b0de9b",

"timestamp": "2014-11-07T22:19:28.578Z",

"exec_type": "T",

"fee": "0.00025",

"side": "buy"

}]
</code></pre></div></div></div>







<h3 id="spot_leverage-market">币币杠杆行情</h3>
<p>用于获取行情数据，这组公开接口提供了行情数据的快照，无需认证即可调用。</p>
<p>要实时更新市场数据，请参阅WebSocket文档，以便获取并创建更完整的深度和交易数据。</p>
<p>币币杠杆交易和币币交易共享行情和深度数据，请移步币币行情查看接口。</p>
<h3 id="spot_leverage-error_code">错误码</h3>
<h5 id="错误码示例">错误码示例</h5>
<table>
<thead>
<tr>
<th>描述</th>
<th>业务错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>您尚未开通此币种对应杠杆业务</td>
<td>33001</td>
<td>400</td>
<td>没有开通该币种杠杆业务时调接口会报错</td>
</tr>
<tr>
<td>您的此币种对应杠杆账号已被冻结</td>
<td>33002</td>
<td>400</td>
<td>杠杆账户被冻结</td>
</tr>
<tr>
<td>没有借款余额</td>
<td>33003</td>
<td>400</td>
<td>没有足够的余额进行借币</td>
</tr>
<tr>
<td>借币数量不能小于最小借币数</td>
<td>33004</td>
<td>400</td>
<td>借币时借币的数量</td>
</tr>
<tr>
<td>还款金额不能小于等于0</td>
<td>33005</td>
<td>400</td>
<td>还款金额不对</td>
</tr>
<tr>
<td>没有该借币订单</td>
<td>33006</td>
<td>400</td>
<td>还币或者查询的时候没有借币订单会报此错误</td>
</tr>
<tr>
<td>不存在该状态</td>
<td>33007</td>
<td>400</td>
<td>没有该状态值</td>
</tr>
<tr>
<td>借币数量不能大于您的可借数量</td>
<td>33008</td>
<td>400</td>
<td>借币的数量不合法</td>
</tr>
<tr>
<td>用户ID为空</td>
<td>33009</td>
<td>400</td>
<td>user ID为空</td>
</tr>
<tr>
<td>价格发现第二阶段您不可撤单</td>
<td>33010</td>
<td>400</td>
<td>集合竞价时候不可以撤单</td>
</tr>
<tr>
<td>没有最新行情信息</td>
<td>33011</td>
<td>400</td>
<td>没有行情数据</td>
</tr>
<tr>
<td>撤单失败</td>
<td>33012</td>
<td>400</td>
<td>撤单失败</td>
</tr>
<tr>
<td>下单失败</td>
<td>33013</td>
<td>400</td>
<td>下单失败</td>
</tr>
<tr>
<td>订单不存在</td>
<td>33014</td>
<td>400</td>
<td>重复撤单，订单号不对等</td>
</tr>
<tr>
<td>批量操作超过最大数量限制</td>
<td>33015</td>
<td>400</td>
<td>批量下单，批量撤单时候会出现</td>
</tr>
<tr>
<td>该币对没有开通杠杆业务</td>
<td>33016</td>
<td>400</td>
<td>币对没有开通杠杆业务</td>
</tr>
<tr>
<td>下单大于最大可用余额</td>
<td>33017</td>
<td>400</td>
<td>下单余额不足</td>
</tr>
<tr>
<td>该参数值填写错误，要填写小于1的数值</td>
<td>33018</td>
<td>400</td>
<td>获取深度接口时参数不对</td>
</tr>
<tr>
<td>暂不支持该请求</td>
<td>33020</td>
<td>400</td>
<td>有些交易所不支持杠杆业务</td>
</tr>
<tr>
<td>币与币对不匹配</td>
<td>33021</td>
<td>400</td>
<td>还币时币与币对不匹配</td>
</tr>
<tr>
<td>币对与订单不匹配</td>
<td>33022</td>
<td>400</td>
<td>还币时币与订单不匹配</td>
</tr>
<tr>
<td>价格发现期间您只可下市价单</td>
<td>33023</td>
<td>400</td>
<td>集合竞价时只可以下市价单</td>
</tr>
<tr>
<td>交易金额小于最小交易值</td>
<td>33024</td>
<td>400</td>
<td>下单时交易金额不对</td>
</tr>
<tr>
<td>没有基准币数量</td>
<td>33025</td>
<td>400</td>
<td>下单时上币时候币对配置不全</td>
</tr>
<tr>
<td>订单已完成交易</td>
<td>33026</td>
<td>400</td>
<td>撤单时完成交易的订单不能撤单</td>
</tr>
<tr>
<td>订单已撤销或者撤销中</td>
<td>33027</td>
<td>400</td>
<td>撤单时已经撤销和撤销中的订单不能撤单</td>
</tr>
<tr>
<td>交易价格小数位数超过限制</td>
<td>33028</td>
<td>400</td>
<td>下单时金额小数位超过限制</td>
</tr>
<tr>
<td>交易数量小数位数超过限制</td>
<td>33029</td>
<td>400</td>
<td>下单时数量小数位超过限制</td>
</tr>
</tbody>
</table>
<h3 id="futures-README">合约API</h3>
<p>合约交易的行情信息，账户信息，订单操作，订单查询，账单明细查询。</p>
<h3 id="futures-hold_information">合约持仓信息</h3>
<p>获取合约账户所有的持仓信息。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/position</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/position</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th style="text-align:left">全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td style="text-align:left">liquidation_price</td>
<td>String</td>
<td>预估爆仓价</td>
</tr>
<tr>
<td style="text-align:left">long_qty</td>
<td>String</td>
<td>多仓数量</td>
</tr>
<tr>
<td style="text-align:left">long_avail_qty</td>
<td>String</td>
<td>多仓可平仓数量</td>
</tr>
<tr>
<td style="text-align:left">long_avg_cost</td>
<td>String</td>
<td>开仓平均价</td>
</tr>
<tr>
<td style="text-align:left">long_settlement_price</td>
<td>String</td>
<td>多仓结算基准价</td>
</tr>
<tr>
<td style="text-align:left">realized_pnl</td>
<td>String</td>
<td>已实现盈余</td>
</tr>
<tr>
<td style="text-align:left">short_qty</td>
<td>String</td>
<td>空仓数量</td>
</tr>
<tr>
<td style="text-align:left">short_avail_qty</td>
<td>String</td>
<td>空仓可平仓数量</td>
</tr>
<tr>
<td style="text-align:left">short_avg_cost</td>
<td>String</td>
<td>开仓平均价</td>
</tr>
<tr>
<td style="text-align:left">short_settlement_price</td>
<td>String</td>
<td>空仓结算基准价</td>
</tr>
<tr>
<td style="text-align:left">instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td style="text-align:left">leverage</td>
<td>String</td>
<td>杠杆倍数</td>
</tr>
<tr>
<td style="text-align:left">created_at</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align:left">updated_at</td>
<td>String</td>
<td>最近一次加减仓的更新时间</td>
</tr>
</tbody>
</table>
<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>long_qty</td>
<td>Number</td>
<td>多仓数量</td>
</tr>
<tr>
<td>long_avail_qty</td>
<td>Number</td>
<td>多仓可平仓数量</td>
</tr>
<tr>
<td>long_margin</td>
<td>Price</td>
<td>多仓保证金</td>
</tr>
<tr>
<td>long_liqui_price</td>
<td>Price</td>
<td>多仓强平价格</td>
</tr>
<tr>
<td>long_pnl_ratio</td>
<td>Number</td>
<td>多仓收益率</td>
</tr>
<tr>
<td>long_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>long_settlement_price</td>
<td>Price</td>
<td>多仓结算基准价</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈余</td>
</tr>
<tr>
<td>long_leverage</td>
<td>Number</td>
<td>多仓杠杆倍数</td>
</tr>
<tr>
<td>short_qty</td>
<td>Number</td>
<td>空仓数量</td>
</tr>
<tr>
<td>short_avail_qty</td>
<td>Number</td>
<td>空仓可平仓数量</td>
</tr>
<tr>
<td>short_margin</td>
<td>Number</td>
<td>空仓保证金</td>
</tr>
<tr>
<td>short_liqui_price</td>
<td>Price</td>
<td>空仓强平价格</td>
</tr>
<tr>
<td>short_pnl_ratio</td>
<td>Number</td>
<td>空仓收益率</td>
</tr>
<tr>
<td>short_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>short_settlement_price</td>
<td>Price</td>
<td>空仓结算基准价</td>
</tr>
<tr>
<td>short_leverage</td>
<td>Number</td>
<td>空仓杠杆倍数</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>创建时间</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date</td>
<td>更新时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h5 id="">#</h5>
<pre><code>  "result":true,
    "holding":[
        [
            {
                "long_qty":"1",
                "long_avail_qty":"1",
                "long_margin":"0.268",
                "long_liqui_price":"3.424",
                "long_pnl_ratio":"0.008",
                "long_avg_cost":"3.732",
                "long_settlement_price":"3.732",
                "realised_pnl":"-0.005",
                "short_qty":"0",
                "short_avail_qty":"0",
                "short_margin":"0",
                "short_liqui_price":"0",
                "short_pnl_ratio":"-10",
                "short_avg_cost":"0",
                "short_settlement_price":"0",
                "instrument_id":"EOS-USD-181123",
                "long_leverage":"10",
                "short_leverage":"10",
                "created_at":"2018-11-20T02:26:48.0Z",
                "updated_at":"2018-11-22T07:35:58.0Z",
                "margin_mode":"fixed"
            }
        ],
        [
            {
                "long_qty":"1",
                "long_avail_qty":"1",
                "long_avg_cost":"33.971",
                "long_settlement_price":"33.971",
                "realised_pnl":"-0.001",
                "short_qty":"0",
                "short_avail_qty":"0",
                "short_avg_cost":"0",
                "short_settlement_price":"0",
                "liquidation_price":"12.866",
                "instrument_id":"LTC-USD-181123",
                "leverage":"10",
                "created_at":"2018-11-20T02:26:39.0Z",
                "updated_at":"2018-11-22T07:36:09.0Z",
                "margin_mode":"crossed"
            }
        ]
    ]
}
</code></pre></div></div></div>







<h3 id="futures-only">单个合约持仓信息</h3>
<p>获取某个合约的持仓信息。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/&lt;instrument_id&gt;/position</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/ BTC-USD-180309 /position</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td>liquidation_price</td>
<td>Price</td>
<td>预估爆仓价</td>
</tr>
<tr>
<td>long_qty</td>
<td>Number</td>
<td>多仓数量</td>
</tr>
<tr>
<td>long_avail_qty</td>
<td>Number</td>
<td>多仓可平仓数量</td>
</tr>
<tr>
<td>long_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>long_settlement_price</td>
<td>Price</td>
<td>结算基准价</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈余</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>杠杆倍数</td>
</tr>
<tr>
<td>short_qty</td>
<td>Number</td>
<td>空仓数量</td>
</tr>
<tr>
<td>short_avail_qty</td>
<td>Number</td>
<td>空仓可平仓数量</td>
</tr>
<tr>
<td>short_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>short_settlement_price</td>
<td>Price</td>
<td>结算基准价</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>创建时间</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date</td>
<td>最近一次加减仓的更新时间</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>long_qty</td>
<td>Number</td>
<td>多仓数量</td>
</tr>
<tr>
<td>long_avail_qty</td>
<td>Number</td>
<td>多仓可平仓数量</td>
</tr>
<tr>
<td>long_margin</td>
<td>Price</td>
<td>多仓保证金</td>
</tr>
<tr>
<td>long_liqui_price</td>
<td>Price</td>
<td>多仓强平价格</td>
</tr>
<tr>
<td>long_pnl_ratio</td>
<td>Number</td>
<td>多仓盈亏比</td>
</tr>
<tr>
<td>long_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>long_settlement_price</td>
<td>Price</td>
<td>结算基准价</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈余</td>
</tr>
<tr>
<td>long_leverage</td>
<td>Number</td>
<td>多仓杠杆倍数</td>
</tr>
<tr>
<td>short_qty</td>
<td>Number</td>
<td>空仓数量</td>
</tr>
<tr>
<td>short_avail_qty</td>
<td>Number</td>
<td>空仓可平仓数量</td>
</tr>
<tr>
<td>short_margin</td>
<td>Number</td>
<td>空仓保证金</td>
</tr>
<tr>
<td>short_liqui_price</td>
<td>Price</td>
<td>空仓强平价格</td>
</tr>
<tr>
<td>short_pnl_ratio</td>
<td>Number</td>
<td>空仓盈亏比</td>
</tr>
<tr>
<td>short_avg_cost</td>
<td>Price</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>short_settlement_price</td>
<td>Price</td>
<td>结算基准价</td>
</tr>
<tr>
<td>short_leverage</td>
<td>Number</td>
<td>空仓杠杆倍数</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>创建时间</td>
</tr>
<tr>
<td>updated_at</td>
<td>Date</td>
<td>更新时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code>{
    "result":true,
    "holding":[
        {
            "long_qty":"1",
            "long_avail_qty":"1",
            "long_avg_cost":"33.971",
            "long_settlement_price":"33.971",
            "realised_pnl":"-0.001",
            "short_qty":"0",
            "short_avail_qty":"0",
            "short_avg_cost":"0",
            "short_settlement_price":"0",
            "liquidation_price":"12.866",
            "instrument_id":"LTC-USD-181123",
            "leverage":"10",
            "created_at":"2018-11-20T02:26:39.0Z",
            "updated_at":"2018-11-22T07:36:09.0Z",
            "margin_mode":"crossed"
        }
    ],
    "margin_mode":"crossed"
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code>{
    "result":true,
    "holding":[
        {
            "long_qty":"1",
            "long_avail_qty":"1",
            "long_margin":"0.268",
            "long_liqui_price":"3.424",
            "long_pnl_ratio":"0.024",
            "long_avg_cost":"3.732",
            "long_settlement_price":"3.732",
            "realised_pnl":"-0.005",
            "short_qty":"0",
            "short_avail_qty":"0",
            "short_margin":"0",
            "short_liqui_price":"0",
            "short_pnl_ratio":"-10",
            "short_avg_cost":"0",
            "short_settlement_price":"0",
            "instrument_id":"EOS-USD-181123",
            "long_leverage":"10",
            "short_leverage":"10",
            "created_at":"2018-11-20T02:26:48.0Z",
            "updated_at":"2018-11-22T07:35:58.0Z",
            "margin_mode":"fixed"
        }
    ],
    "margin_mode":"fixed"
}
</code></pre></div></div></div>











<h3 id="futures-singleness">所有币种合约账户信息</h3>
<p>用于获取全币种账户信息，会有大量的性能消耗，建议用户传币种获取。</p>
<h5 id="限速规则：1次10s">限速规则：1次/10s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/accounts</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/accounts</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
<tr>
<td>margin</td>
<td>Double</td>
<td>保证金（挂单冻结+持仓已用）</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>Number</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>margin_ratio</td>
<td>Double</td>
<td>保证金率</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>fixed_balance</td>
<td>Double</td>
<td>逐仓账户余额</td>
</tr>
<tr>
<td>available_qty</td>
<td>String</td>
<td>逐仓可用余额</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>String</td>
<td>持仓已用保证金</td>
</tr>
<tr>
<td>margin_for_unfilled</td>
<td>Number</td>
<td>挂单冻结保证金</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>Number</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>逐仓：</p>
<p>1.账户权益：账户权益=账户余额+逐仓仓位账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
<p>2.可用：可用余额=账户余额+逐仓仓位账户余额+本合约已实现盈亏- 当前仓位的持仓所需保证金 - 挂单冻结保证金</p>
<p>全仓：</p>
<p>1.账户权益=账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
<p>2.可用余额=账户余额+所有合约已实现盈亏+所有合约的未实现- 所有仓位持仓所需保证金 - 挂单冻结保证金</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code>{
    "result":true,
    "info":{
        "btc":{
            "equity":"0.0005297",
            "margin":"0",
            "margin_mode":"crossed",
            "margin_ratio":"10000",
            "realized_pnl":"0",
            "total_avail_balance":"0.0005297",
            "unrealized_pnl":"0"
        },
        "btg":{
            "equity":"0",
            "margin":"0",
            "margin_mode":"crossed",
            "margin_ratio":"10000",
            "realized_pnl":"0",
            "total_avail_balance":"0",
            "unrealized_pnl":"0"
        },
        "etc":{
            "equity":"0",
            "margin":"0",
            "margin_mode":"crossed",
            "margin_ratio":"10000",
            "realized_pnl":"0",
            "total_avail_balance":"0",
            "unrealized_pnl":"0"
        },
        "bch":{
            "equity":"0",
            "margin":"0",
            "margin_mode":"crossed",
            "margin_ratio":"10000",
            "realized_pnl":"0",
            "total_avail_balance":"0",
            "unrealized_pnl":"0"
        },
        ……
    }
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code>{
    "result":true,
    "info":{
        "eos":{
            "contracts":[
                {
                    "available_qty":"10.837",
                    "fixed_balance":"0.582",
                    "instrument_id":"EOS-USD-181026",
                    "margin_for_unfilled":"0.00000001",
                    "margin_frozen":"0",
                    "realized_pnl":"-0.582",
                    "unrealized_pnl":"0"
                },
                {
                    "available_qty":"10.837",
                    "fixed_balance":"0",
                    "instrument_id":"EOS-USD-181228",
                    "margin_for_unfilled":"0",
                    "margin_frozen":"0",
                    "realized_pnl":"0",
                    "unrealized_pnl":"0"
                }
            ],
            "equity":"10.837",
            "margin_mode":"fixed",
            "total_avail_balance":"10.837"
        }
    }
}
</code></pre></div></div></div>













<h3 id="futures-singleness-single">单个币种合约账户信息</h3>
<p>获取单个币种的合约账户信息。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/accounts/{currency}</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/accounts/btc</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如：btc</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
<tr>
<td>margin</td>
<td>Double</td>
<td>已用保证金</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>Number</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>margin_ratio</td>
<td>Double</td>
<td>保证金率</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>fixed_balance</td>
<td>Double</td>
<td>逐仓账户余额</td>
</tr>
<tr>
<td>available_qty</td>
<td>String</td>
<td>逐仓可用余额</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>String</td>
<td>冻结的保证金(成交以后仓位所需的)</td>
</tr>
<tr>
<td>margin_for_unfilled</td>
<td>Number</td>
<td>挂单冻结保证金</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>Number</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>Number</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>逐仓：</p>
<p>1.账户权益：账户权益=账户余额+逐仓仓位账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
<p>2.可用：可用余额=账户余额+逐仓仓位账户余额+本合约已实现盈亏- 当前仓位的持仓所需保证金 - 挂单冻结保证金</p>
<p>全仓：</p>
<p>1.账户权益=账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
<p>2.可用余额=账户余额+所有合约已实现盈亏+所有合约的未实现- 所有仓位持仓所需保证金 - 挂单冻结保证金</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code>{
    "result":true,
    "info":{
        "btc":{
            "equity":"0.0005297",
            "margin":"0",
            "margin_mode":"crossed",
            "margin_ratio":"10000",
            "realized_pnl":"0",
            "total_avail_balance":"0.0005297",
            "unrealized_pnl":"0"
        },

    }
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code>{
    "result":true,
    "info":{
        "eos":{
            "contracts":[
                {
                    "available_qty":"10.837",
                    "fixed_balance":"0.582",
                    "instrument_id":"EOS-USD-181026",
                    "margin_for_unfilled":"0.00000001",
                    "margin_frozen":"0",
                    "realized_pnl":"-0.582",
                    "unrealized_pnl":"0"
                },
                {
                    "available_qty":"10.837",
                    "fixed_balance":"0",
                    "instrument_id":"EOS-USD-181228",
                    "margin_for_unfilled":"0",
                    "margin_frozen":"0",
                    "realized_pnl":"0",
                    "unrealized_pnl":"0"
                }
            ],
            "equity":"10.837",
            "margin_mode":"fixed",
            "total_avail_balance":"10.837"
        }
    }
}
</code></pre></div></div></div>













<h3 id="futures-huo-qu-he-yue-bi-zhong-gang-gan-bei-shu">获取合约币种杠杆倍数</h3>
<p>获取合约账户币种杠杆倍数</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/accounts/&lt;currency&gt;/leverage</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/accounts/btc/leverage</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如：btc</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc，如：btc</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>杠杆倍数</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>long_leverage</td>
<td>Number</td>
<td>多头杠杆倍数</td>
</tr>
<tr>
<td>short_leverage</td>
<td>Number</td>
<td>空头杠杆倍数</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>全仓同一个币种只允许有一种杠杆倍数，逐仓同一个合约同一个方向只能用一种杠杆倍数。</p>
<p>举例：</p>
<p>全仓时，开了BTC季度10倍多单；若此时开BTC次周的合约，无论多空，只能开10倍杠杆的。但是可以开EOS的20倍杠杆</p>
<p>逐仓时，开了BTC季度10倍多单；若此时开BTC次周的合约，无论多空， 杠杆倍数不限，但是开BTC季度多单的时候，只能开10倍，BTC季度空单可以开10倍或20倍。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code>{
    “ currency” : “BTC”
    “leverage”  :   ”10”
    “margin_mode”:"crossed"
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code>{
    "BTC-USD-181228":{
        "long_leverage":10,
        "short_leverage":10
    },
    "margin_mode":"fixed",
    "BTC-USD-181102":{
        "long_leverage":10,
        "short_leverage":10
    },
    "BTC-USD-181026":{
        "long_leverage":10,
        "short_leverage":10
    }
}
</code></pre></div></div></div>










<h3 id="futures-she-ding-he-yue-bi-zhong-gang-gan-bei-shu">设定合约币种杠杆倍数</h3>
<p>设定合约账户币种杠杆倍数，注意当前仓位有持仓或者挂单禁止切换杠杆。</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/futures/v3/accounts/&lt;currency&gt;/leverage</p>
<h5 id="请求示例">请求示例</h5>
<p>POST/api/futures/v3/accounts/btc/leverage（全仓示例）</p>
<p>POST/api/futures/v3/accounts/btc/leverage{"instrument_id":"BTC-USD-180213","direction":"long","leverage":"10"}（逐仓示例）</p>
<div class="api-method"><div class="api-method-definition"><h5 id="请求参数">请求参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>leverage</td>
<td>Number</td>
<td>是</td>
<td>要设定的杠杆倍数，10或20</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如：btc</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td>是</td>
<td>开仓方向，long(做多)或者short(做空)</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>是</td>
<td>要设定的杠杆倍数，10或20</td>
</tr>
</tbody>
</table>
<h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：全仓 crossed</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>已设定的杠杆倍数，10或20</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>返回设定结果，成功或错误码</td>
</tr>
</tbody>
</table>
<h6 id="逐仓">逐仓</h6>
<table>
<thead>
<tr>
<th>逐仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓 fixed</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td>开仓方向，long(做多)或者short(做空)</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>已设定的杠杆倍数，10或20</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>返回设定结果，成功或错误码</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>仓位设定：全仓，逐仓</p>
<p>全仓的话：传 currency ,传杠杆倍数</p>
<p>逐仓的话：传instrument_id，传方向，传杠杆倍数</p>
<p>全仓同一个币种只允许有一种杠杆倍数，逐仓同一个合约同一个方向只能用一种杠杆倍数。</p>
<p>举例：
全仓时，开了BTC季度10倍多单；若此时开BTC次周的合约，无论多空，只能开10倍杠杆的。但是可以开EOS的20倍杠杆</p>
<p>逐仓时，开了BTC季度10倍多单；若此时开BTC次周的合约，无论多空， 杠杆倍数不限，但是开BTC季度多单的时候，只能开10倍，BTC季度空单可以开10倍或20倍。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code>{
    "result":"true",
    "margin_mode":"crossed",
    "currency":"EOS",
    "leverage":10
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code>{
    "result":"true",
    "EOS-USD-181026":{
        "short":20,
        "long":20
    },
    "margin_mode":"fixed"
}
</code></pre></div></div></div>



<h3 id="futures-query">账单流水查询</h3>
<p>列出帐户资产流水。帐户资产流水是指导致帐户余额增加或减少的行为。流水会分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/accounts/&lt;currency&gt;/ledger</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/accounts/btc/ledger?from=1&amp;limit=87</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>currency</td>
<td>String</td>
<td>是</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>Number</td>
<td>账单ID</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>币种，如：btc</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td>变动数量</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>流水来源</td>
</tr>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>账单创建时间</td>
</tr>
<tr>
<td>details</td>
<td>Number</td>
<td>如果类型是交易产生的，则该details字段将包含order_id和instrument_id</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>流水来源类型</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>transfer</td>
<td>String</td>
<td>资金转入/转出</td>
</tr>
<tr>
<td>match</td>
<td>String</td>
<td>开多/开空/平多/平空</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>settlement</td>
<td>String</td>
<td>清算/分摊/多结算/空结算</td>
</tr>
<tr>
<td>liquidation</td>
<td>String</td>
<td>强平多/强平空/交割平多/交割平空</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "ledger_id":"1646535240810499",
        "timestamp":"2018-10-18T10:55:33.0Z",
        "amount":"-0.00055793",
        "balance":"0",
        "currency":"EOS",
        "type":"fee",
        "details":{
            "order_id":1646535233740800,
            "instrument_id":"EOS-USD-181019"
        }
    },
    {
        "ledger_id":"1645611124293634",
        "timestamp":"2018-10-18T07:00:33.0Z",
        "amount":"-0.00055835",
        "balance":"0",
        "currency":"EOS",
        "type":"fee",
        "details":{
            "order_id":1645611113016320,
            "instrument_id":"EOS-USD-181019"
        }
    }
]
</code></pre></div></div></div>





<h3 id="futures-orders">下单</h3>
<p>OKEx合约交易提供了限价单下单模式。只有当您的账户有足够的资金才能下单。一旦下单，您的账户资金将在订单生命周期内被冻结。被冻结的资金以及数量取决于订单指定的类型和参数。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/futures/v3/order</p>
<h5 id="请求示例">请求示例</h5>
<p>POST/api/futures/v3/order{"client_oid": “12233456”,"instrument_id":"BTC-USD-180213","type":"1","price":"432.11","size":"2","match_price":"0","leverage":"10"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>String</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>是</td>
<td>1:开多2:开空3:平多4:平空</td>
</tr>
<tr>
<td>price</td>
<td>price</td>
<td>是</td>
<td>每张合约的价格</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>是</td>
<td>买入或卖出合约的数量（以张计数）</td>
</tr>
<tr>
<td>match_price</td>
<td>String</td>
<td>否</td>
<td>是否以对手价下单(0:不是 1:是)，默认为0，当取值为1时。price字段无效</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>是</td>
<td>要设定的杠杆倍数，10或20</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID，下单失败时，此字段值为-1</td>
</tr>
<tr>
<td>client_oid</td>
<td>String</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>error_code</td>
<td>Number</td>
<td>错误码，下单成功时为0，下单失败时会显示相应错误码</td>
</tr>
<tr>
<td>error_message</td>
<td>String</td>
<td>错误信息，下单成功时为空，下单失败时会显示错误信息</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>instrument_id</p>
<p>instrument_id必须是有效的合约ID。合约列表可通过/ instrument接口获取。</p>
<p>client_oid</p>
<p>可选字段client_oid是您的交易程序自行生成的UUID。您可以使用此字段在系统返回给你的信息中识别订单。client_oid与服务器分配的订单ID不同。如果您使用client_oid在系统返回的信息中发现对应订单，同样需要记录order_id，因为它将用于未来的订单状态更新查询。消息返回之后，client_oid就没有任何作用了。</p>
<p>type</p>
<p>下单时，您可以指定订单类型。在您没有持仓时，只能选择开多和开空。您只能对持仓合约进行平仓。</p>
<p>price</p>
<p>price表示买入或卖出每张合约的价格。价格必须是价格步长(tick_size)的倍数。价格步长(tick_size)是价格的最小增量，可通过instrument接口获取。</p>
<p>order_qty</p>
<p>order_qty表示买入或卖出合约的张数。数量必须是整数。</p>
<p>match_price</p>
<p>对手价表示你希望以目前对手方的最优价格成交。如果你下的是买单，选择以对手价下单表示你用当前卖一价进行下单。如果你下的是卖单，选择以对手价下单表示你用当前买一价进行下单。</p>
<p>订单生命周期</p>
<p>HTTP请求将在订单被拒绝（资金不足，参数无效等）或下单成功（由匹配引擎接受）时作出响应。一个200响应表示该订单被接收并且进入撮合。进入撮合的订单可以部分或全部立即成交（取决于价格和市场条件）。部分成交的时候将把订单的剩余数量继续进行撮合。完全成交的订单将进入已成交状态。</p>
<p>监听行情数据的用户建议使用client_oid字段以便在接受到的信息中标识对应的数据。</p>
<p>响应</p>
<p>成功接受的订单将被分配一个订单ID。成功接受的订单表示撮合引擎已经接受的订单。</p>
<p>未成交的订单不会过期，并将保持撮合状态，直到被成交或取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "client_oid":"09e0dcafd1cb49ba99b7c401fcc85cd4",
    "error_code":0,
    "error_messsage":"",
    "order_id":"1674634172767232",
    "result":true
}
</code></pre></div></div></div>



























<h3 id="futures-batch">批量下单</h3>
<p>批量进行合约下单操作。</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/futures/v3/orders</p>
<h5 id="请求示例">请求示例</h5>
<p>POST/api/futures/v3/orders{"instrument_id":"ETH-USD-181228","leverage":20,"orders_data":[{"client_oid":"f379a96206fa4b778e1554c6dc969687","type":"1","price":"180.0","size":"1","match_price":"0"}]}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>orders_data</td>
<td>String</td>
<td>是</td>
<td>JSON类型的字符串 例：[{price:5,amount:2,type:1,match_price:1},{price:2,amount:3,type:1,match_price:1}] 最大下单量为5，price,amount,type,match_price参数参考future_trade接口中的说明</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>是</td>
<td>要设定的杠杆倍数，10或20</td>
</tr>
<tr>
<td>client_oid</td>
<td>String</td>
<td>否</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_info</td>
<td>String</td>
<td>订单信息</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID，下单失败时，此字段值为-1</td>
</tr>
<tr>
<td>client_oid</td>
<td>String</td>
<td>由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td>error_code</td>
<td>Number</td>
<td>错误码，下单成功时为0，下单失败时会显示相应错误码</td>
</tr>
<tr>
<td>error_message</td>
<td>String</td>
<td>错误信息，下单成功时为空，下单失败时会显示错误信息</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>只要其中任何一单下单成功，result就会返回true。返回的结果数据和order_data提交订单数据顺序一致。如果下单失败，则order_id为-1，error_code是错误码提示，error_message是错误信息。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "result":true,
    "order_info":[
        {
            "error_message":"",
            "error_code":0,
            "client_oid":"49ed0750959e43cdb7df7cb6548eec4d",
            "order_id":"1652162780568576"
        },
        {
            "error_message":"",
            "error_code":0,
            "client_oid":"8e8e0a27cc3243cbb7cb98dc0bf6eb7b",
            "order_id":"1652162782075904"
        },
        {
            "error_message":"",
            "error_code":0,
            "client_oid":"f72a8a2f264247f18db44378056ae343",
            "order_id":"1652162782796800"
        }
    ]
}
</code></pre></div></div></div>

























<h3 id="futures-revocation">撤销指定订单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/futures/v3/cancel_order/&lt;instrument_id&gt;/&lt;order_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/futures/v3/cancel_order/BTC-USD-180309/1407616797780992</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>撤单申请结果</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>这order_id是服务器分配的订单ID，而不是用户传的的client_oid。</p>
<p>如果订单无法取消(已经成交或已取消)，那么返回的报错内容里将显示相应的原因。</p>
<p>返回值是已发起撤销操作的订单ID，不代表这些订单已成功撤销，正在成交中的无法撤销，未成交的可成功撤销。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
  "order_id":888845120785408,
  "result":true
  “timestamp":"2018-06-20T02:31:00Z",
}
</code></pre></div></div></div>

<h3 id="futures-repeal">批量撤销订单</h3>
<p>根据指定的order_id撤销某个合约的未完成订单，每次最多可撤20个。</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/futures/v3/cancel_batch_orders/&lt;instrument_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/futures/v3/cancel_batch_orders/BTC-USD-180309{"order_ids":[1600593327162368,1600593327162369]}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>撤销指定合约品种的订单</td>
</tr>
<tr>
<td>order_ids</td>
<td>String</td>
<td>是</td>
<td>撤销指定的订单ID</td>
</tr>
</tbody>
</table>
<h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>撤销指定合约品种的订单</td>
</tr>
<tr>
<td>order_ids</td>
<td>String</td>
<td>撤销指定的订单ID</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<p>返回值是已发起撤销操作的订单ID列表，不代表这些订单已成功撤销，正在成交中的无法撤销，未成交的可成功撤销。</p>
<h5 id="解释说明">解释说明</h5>
<p>无法保证一定会成功撤销，建议用户调用批量撤单接口后，再调用获取订单列表接口确认。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "result":"true",
    "order_ids":[
        "1679740134648832",
        "1679741573426176"
    ],
    "instrument_id":"EOS-USD-181026"
}
</code></pre></div></div></div>
























<h3 id="futures-list">获取订单列表</h3>
<p>列出您当前所有的订单信息（from的优先级高于to，当同时传from和to参数时，系统返回from参数的请求值）。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/orders/&lt;instrument_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/orders/BTC-USD-180309?status=2&amp;from=1&amp;limit=87（返回BTC-USD-180309已完成订单中第4页前87条信息）</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>Number</td>
<td>是</td>
<td>订单状态(-1.撤单成功；0:等待成交 1:部分成交 2:全部成交 6：未完成（等待成交+部分成交）7：已完成（撤单成功+全部成交）</td>
<td></td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>委托时间</td>
</tr>
<tr>
<td>filled_qty</td>
<td>Number</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>Price</td>
<td>手续费</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>Price</td>
<td>订单价格</td>
</tr>
<tr>
<td>price_avg</td>
<td>Price</td>
<td>平均价格</td>
</tr>
<tr>
<td>status</td>
<td>Number</td>
<td>订单状态(-1.撤单成功；0:等待成交 1:部分成交 2:已完成）</td>
</tr>
<tr>
<td>type</td>
<td>Number</td>
<td>订单类型(1:开多 2:开空 3:平多 4:平空)</td>
</tr>
<tr>
<td>contract_val</td>
<td>Price</td>
<td>合约面值</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>杠杆倍数 value:10/20 默认10</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除。这表示订单详细信息将不可用本接口来获取。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "result":true,
    "order_info":[
        {
            "instrument_id":"EOS-USD-181026",
            "size":"1",
            "timestamp":"2018-10-23T07:51:06.0Z",
            "filled_qty":"0",
            "fee":"0",
            "order_id":"1674121456333824",
            "price":"1000000",
            "price_avg":"0",
            "status":"0",
            "type":"2",
            "contract_val":"10",
            "leverage":"10"
        },
        {
            "instrument_id":"EOS-USD-181026",
            "size":"1",
            "timestamp":"2018-10-23T07:58:41.0Z",
            "filled_qty":"0",
            "fee":"0",
            "order_id":"1674151290181632",
            "price":"1000000",
            "price_avg":"0",
            "status":"0",
            "type":"2",
            "contract_val":"10",
            "leverage":"10"
        }
    ]
}
</code></pre></div></div></div>












<h3 id="futures-order_information">获取订单信息</h3>
<p>通过订单ID获取单个订单信息。</p>
<h5 id="限速规则：10次2s">限速规则：10次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/orders/&lt;instrument_id&gt;/&lt;order_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/orders/BTC-USD-180213/888845120785408</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>date</td>
<td>委托时间</td>
</tr>
<tr>
<td>filled_qty</td>
<td>Number</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>Price</td>
<td>手续费</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>price</td>
<td>Price</td>
<td>订单价格</td>
</tr>
<tr>
<td>price_avg</td>
<td>Price</td>
<td>平均价格</td>
</tr>
<tr>
<td>status</td>
<td>Number</td>
<td>订单状态(-1.撤单成功；0:等待成交 1:部分成交 2:已完成）</td>
</tr>
<tr>
<td>type</td>
<td>Number</td>
<td>订单类型(1:开多 2:开空 3:平多 4:平空)</td>
</tr>
<tr>
<td>contract_val</td>
<td>price</td>
<td>合约面值</td>
</tr>
<tr>
<td>leverage</td>
<td>Number</td>
<td>杠杆倍数 value:10/20 默认10</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除，则响应可能因为没有相应的匹配而返回状态码404。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "leverage":"10",
    "size":"1",
    "filled_qty":"1",
    "price":"5.334",
    "fee":"-0.00056243",
    "contract_val":"10",
    "timestamp":"2018-10-19T10:39:59.0Z",
    "price_avg":"5.334",
    "type":"1",
    "instrument_id":"EOS-USD-181026",
    "order_id":"1652136325061632",
    "status":"2"
}
</code></pre></div></div></div>

























<h3 id="futures-futuresdetail">获取成交明细</h3>
<p>获取最近的成交明细列表（from的优先级高于to，当同时传from和to参数时，系统返回from参数的请求值）。</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/fills</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/fills?order_id=123123&amp;instrument_id=BTC-USD-180309&amp;from=1&amp;limit=50（返回BTC-USD-180309中order_id为123123的订单中第2页前50笔成交信息）</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>trade_id</td>
<td>String</td>
<td>账单ID</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>price</td>
<td>Price</td>
<td>价格</td>
</tr>
<tr>
<td>order_qty</td>
<td>Number</td>
<td>数量</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>订单创建时间</td>
</tr>
<tr>
<td>exec_type</td>
<td>String</td>
<td>流动性方向(T or M)</td>
</tr>
<tr>
<td>fee</td>
<td>Price</td>
<td>手续费</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向(buy or sell)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>手续费</p>
<p>fee字段表示这条账单记录所收取的手续费。</p>
<p>流动性</p>
<p>exec_type字段表示该账单是maker还是taker产生的。M表示Maker，T表示Taker。</p>
<p>分页</p>
<p>返回账单列表的trade_id按降序排列，从最大trade_id到最小trade_id。OK-FROM都会有这样的第一笔trade_id，以便将来的请求使用OK-FROM参数将获取一个更大的trade_id(新的账单)。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "trade_id":"1652136334557193",
        "instrument_id":"EOS-USD-181026",
        "price":"5.334",
        "order_qty":"1",
        "order_id":"1652136325061632",
        "created_at":"2018-10-19T10:39:59.0Z",
        "exec_type":"T",
        "fee":"-0.00056243",
        "side":"buy"
    }
]
</code></pre></div></div></div>










<h3 id="futures-contract_information">获取合约信息</h3>
<p>用于获取行情数据，这组公开接口提供了行情数据的快照，无需认证即可调用。
获取可用合约的列表，查询各合约的交易限制和价格步长等信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/futures/v3/instruments</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>underlying_index</td>
<td>String</td>
<td>交易货币币种，如：btc-usd中的btc</td>
</tr>
<tr>
<td>quote_currency</td>
<td>String</td>
<td>计价货币币种，如：btc-usd中的usd</td>
</tr>
<tr>
<td>contract_val</td>
<td>Number</td>
<td>合约面值(美元)</td>
</tr>
<tr>
<td>listing</td>
<td>Date</td>
<td>上线日期</td>
</tr>
<tr>
<td>delivery</td>
<td>Date</td>
<td>交割日期</td>
</tr>
<tr>
<td>tick_size</td>
<td>Number</td>
<td>下单价格精度</td>
</tr>
<tr>
<td>trade_increment</td>
<td>Number</td>
<td>下单数量精度</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>tick_size(价格精度)是指下单价格的最小增量，委托价格必须是tick_size的倍数。例如，当tick_size为0.01，委托价格传入0.022将被系统按截尾法修正为0.02。</p>
<p>trade_increment(下单n数量步长)是指下单数量的最小增量。例如，当trade_increment为1，委托数量传入1.21将被系统按截尾法修正为1。合约trade_increment值为1</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "contract_val":100,
        "delivery":"2018-10-26",
        "instrument_id":"BTC-USD-181026",
        "listing":"2018-10-12",
        "quote_currency":"USD",
        "tick_size":0.01,
        "trade_increment":1,
        "underlying_index":"BTC"
    },
    {
        "contract_val":100,
        "delivery":"2018-11-02",
        "instrument_id":"BTC-USD-181102",
        "listing":"2018-10-19",
        "quote_currency":"USD",
        "tick_size":0.01,
        "trade_increment":1,
        "underlying_index":"BTC"
    },
]
</code></pre></div></div></div>














<h3 id="futures-data">获取深度数据</h3>
<p>获取合约的深度列表。这个请求不支持分页，一个请求返回整个深度列表。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument_id&gt;/book</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/book?size=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th></th>
<th></th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>否</td>
<td>返回深度数量，最大值可传200，即买卖深度共400条</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<p>返回值数组说明</p>
<p>[411.8,6,8,4] 411.8为深度价格，6为此价格数量，8为此价格的爆仓单张数，4为此深度由几笔订单组成，timestamp为深度生成时间戳。</p>
<h5 id="解释说明">解释说明</h5>
<p>按价格合并深度是指每个价格区间将仅返回一个数量，就像在该价格区间上只有一个订单。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "asks":[
        [
            5.33,
            416,
            0,
            1
        ],
        [
            5.332,
            946,
            0,
            13
        ]
    ],
    "bids":[
        [
            5.329,
            708,
            0,
            12
        ],
        [
            5.328,
            277,
            0,
            13
        ]
    ],
    "timestamp":"2018-10-19T10:56:03.758Z"
}
</code></pre></div></div></div>











<h3 id="futures-all">获取全部ticker信息</h3>
<p>获取平台全部合约的最新成交价、买一价、卖一价和24小时交易量的快照信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/ticker</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/futures/v3/instruments/ticker</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>last</td>
<td>Price</td>
<td>最新成交价</td>
</tr>
<tr>
<td>best_ask</td>
<td>Price</td>
<td>卖一价</td>
</tr>
<tr>
<td>best_bid</td>
<td>Price</td>
<td>买一价</td>
</tr>
<tr>
<td>high_24h</td>
<td>Price</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>Price</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>volume_24h</td>
<td>Number</td>
<td>24小时成交量，按张数统计</td>
</tr>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "best_ask":5.333,
    "best_bid":5.332,
    "high_24h":5.376,
    "instrument_id":"EOS-USD-181026",
    "last":5.333,
    "low_24h":5.245,
    "timestamp":"2018-10-19T10:44:41.570Z",
    "volume_24h":3894872
}
</code></pre></div></div></div>















<h3 id="futures-some">获取某个ticker信息</h3>
<p>获取合约的最新成交价、买一价、卖一价和24小时交易量的快照信息。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument_id&gt;/ticker</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/ticker</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>last</td>
<td>Price</td>
<td>最新成交价</td>
</tr>
<tr>
<td>best_ask</td>
<td>Price</td>
<td>卖一价</td>
</tr>
<tr>
<td>best_bid</td>
<td>Price</td>
<td>买一价</td>
</tr>
<tr>
<td>high_24h</td>
<td>Price</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>Price</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>volume_24h</td>
<td>Number</td>
<td>24小时成交量，按张数统计</td>
</tr>
<tr>
<td>timestamp</td>
<td>Timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "best_ask":5.367,
    "best_bid":5.366,
    "high_24h":5.46,
    "instrument_id":"EOS-USD-181026",
    "last":5.366,
    "low_24h":5.352,
    "timestamp":"2018-10-23T10:59:59.884Z",
    "volume_24h":9009474
}
</code></pre></div></div></div>











<h3 id="futures-deal_data">获取成交数据</h3>
<p>获取合约最新的300条成交列表（from的优先级高于to，当同时传from和to参数时，系统返回from参数的请求值）。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument_id&gt;/trades</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/trades?limit=288</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
<td></td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>成交时间</td>
</tr>
<tr>
<td>trade_id</td>
<td>String</td>
<td>成交ID</td>
</tr>
<tr>
<td>price</td>
<td>Price</td>
<td>成交价格</td>
</tr>
<tr>
<td>qty</td>
<td>Number</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>成交方向</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>成交方向side是指Taker订单的下单方向，Taker表示主动与深度列表中挂单进行成交。buy表示价格上涨，因为Taker是买单吃掉深度，所以价格将上行。相反，sell表示价格下跌。</p>
<p>trade_id是记录成交信息的递增ID，可能不完整。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "price":5.328,
        "qty":62,
        "side":"sell",
        "timestamp":"2018-10-19T10:53:27.561Z",
        "trade_id":"1652189269622792"
    },
    {
        "price":5.328,
        "qty":4,
        "side":"buy",
        "timestamp":"2018-10-19T10:53:35.932Z",
        "trade_id":"1652189818159105"
    },
    {
        "price":5.329,
        "qty":4,
        "side":"buy",
        "timestamp":"2018-10-19T10:53:37.769Z",
        "trade_id":"1652189938679821"
    }
]
</code></pre></div></div></div>





<h3 id="futures-line">获取K线数据</h3>
<p>获取合约的K线数据。K线数据按请求的粒度分组返回。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument-id&gt;/candles</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/candles?start=2018-06-20T02:31:00Z&amp;end=2018-06-20T02:55:00Z&amp;granularity=60
（查询BTC-USD-180309的2018年6月20日02点31分到2018年6月20日02点55分的1分钟K线数据）</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td>否</td>
<td>开始时间(ISO UTC标准，例如：2018-06-20T02:31:00Z)</td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>否</td>
<td>结束时间(ISO UTC标准，例如：2018-06-20T02:31:00Z)</td>
</tr>
<tr>
<td>granularity</td>
<td>Number</td>
<td>否</td>
<td>时间粒度，以秒为单位，如[60/180/300 900/1800/3600/7200/14400/21600/43200/86400/604800]，详见下解释说明</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>开始时间</td>
</tr>
<tr>
<td>low</td>
<td>Price</td>
<td>最低价格</td>
</tr>
<tr>
<td>high</td>
<td>Price</td>
<td>最高价格</td>
</tr>
<tr>
<td>open</td>
<td>Price</td>
<td>开盘价格</td>
</tr>
<tr>
<td>close</td>
<td>Price</td>
<td>收盘价格</td>
</tr>
<tr>
<td>volume</td>
<td>Number</td>
<td>交易量(张)</td>
</tr>
<tr>
<td>currency_volume</td>
<td>Number</td>
<td>按币种折算的交易量</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>如果用户没有提供开始时间或结束时间中的任一字段，则两个字段都将被忽略。未提供开始时间和结束时间的请求，则系统按时间粒度返回最近的200个数据。</p>
<p>时间粒度granularity必须是[60 180 300 900 1800 3600 7200 14400 21600 43200 86400 604800]中的任一值，否则请求将被拒绝。这些值分别对应的是[1min 3min 5min 15min 30min 1hour 2hour 4hour 6hour 12hour 1day 1week]的时间段。</p>
<p>K线数据可能不完整。</p>
<p>单次请求的最大数据量是200。如果您选择的开始/结束时间和时间粒度导致超过单次请求的最大数据量，您的请求将只会返回200个数据。如果您希望在更大的时间范围内获取足够精细的数据，则需要使用多个开始/结束范围进行多次请求。</p>
<p>返回值分别为[timestamp,open,high,low,close,volume,currency_volume]</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[[1.54021122E12,5.425,5.426,5.423,5.424,3364.0,6201.95008788],[1.5402114E12,5.424,5.424,5.421,5.422,3152.0,5812.78855111]]
</code></pre></div></div></div>







<h3 id="futures-index_information">获取指数信息</h3>
<p>获取币种指数。此接口为公共接口，不需要身份验证。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET/api/futures/v3/instruments/&lt;instrument_id&gt;/index</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/EOS-USD-181019/index</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>指数币对，如BTC-USD</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>指数币对，如BTC-USD</td>
</tr>
<tr>
<td>index</td>
<td>Price</td>
<td>指数价格</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>指数币对"-"后面的币种表示指数价格的计价单位。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "index":5.331,
    "instrument_id":"EOS-USD-181026",
    "timestamp":"2018-10-23T09:18:11.192Z"
}
</code></pre></div></div></div>











<h3 id="futures-rate">获取法币汇率</h3>
<p>获取法币汇率。此接口为公共接口，不需要身份验证。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/rate</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/futures/v3/rate</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>rate</td>
<td>Number</td>
<td>汇率</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "instrument_id":"USD_CNY",
    "rate":"6.913"
}
</code></pre></div></div></div>

















<h3 id="futures-price">获取预估交割价</h3>
<p>获取合约预估交割价。交割预估价只有交割前一小时才有返回值。此接口为公共接口，不需要身份验证。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument_id&gt;/estimated_price</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/estimated_price</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>settlement_price</td>
<td>Number</td>
<td>预估交割价</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "instrument_id":"EOS-USD-181026",
    "settlement_price":0,
    "timestamp":"2018-10-23T10:07:44.095Z"
}
</code></pre></div></div></div>



















<h3 id="futures-total">获取平台总持仓量</h3>
<p>获取合约整个平台的总持仓量。此接口为公共接口，不需要身份验证。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET  /api/futures/v3/instruments/&lt;instrument_id&gt;/open_interest</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/open_interest</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th></th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td>总持仓量</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "amount":1461063,
    "instrument_id":"EOS-USD-181026",
    "timestamp":"2018-10-23T11:01:37.301Z"
}
</code></pre></div></div></div>





































<h3 id="futures-current">获取当前限价</h3>
<p>获取合约当前可开仓的最高买价和最低卖价。此接口为公共接口，不需要身份验证。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET  /api/futures/v3/instruments/&lt;instrument_id&gt;/price_limit</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/price_limit</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>highest</td>
<td>Price</td>
<td>最高买价</td>
</tr>
<tr>
<td>lowest</td>
<td>Price</td>
<td>最低卖价</td>
</tr>
<tr>
<td>timestamp</td>
<td>timestamp</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "highest":5.487,
    "instrument_id":"EOS-USD-181026",
    "lowest":5.168,
    "timestamp":"2018-10-19T10:55:28.569Z"
}
</code></pre></div></div></div>



<h3 id="futures-huo-qu-bao-cang-dan">获取爆仓单</h3>
<p>获取合约爆仓单，此接口为公共接口，不需要身份验证（from的优先级高于to，当同时传from和to参数时，系统返回from参数的请求值）。</p>
<h5 id="限速规则：20次2s">限速规则：20次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/futures/v3/instruments/&lt;instrument_id&gt;/liquidation</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/instruments/BTC-USD-180309/liquidation?status=0&amp;from=1&amp;limit=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>是</td>
<td>状态(0：最近7天未成交 1:最近7天已成交 )</td>
</tr>
<tr>
<td>from</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之后的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
</tr>
<tr>
<td>to</td>
<td>Number</td>
<td>否</td>
<td>请求此页码之前的分页内容（举例页码为：1，2，3，4，5。from 4 只返回第4页，to 4只返回第3页）</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>Number</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间顺序排列，越早下单的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>size</td>
<td>Number</td>
<td>数量</td>
</tr>
<tr>
<td>created_at</td>
<td>Date</td>
<td>爆仓单的委托时间</td>
</tr>
<tr>
<td>loss</td>
<td>Number</td>
<td>穿仓用户亏损</td>
</tr>
<tr>
<td>price</td>
<td>Price</td>
<td>订单价格</td>
</tr>
<tr>
<td>type</td>
<td>Number</td>
<td>订单类型(1:开多 2:开空 3:平多 4:平空)</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "loss":0,
        "size":945,
        "price":5.623,
        "created_at":"2018-10-21T01:20:18.0Z",
        "instrument_id":"EOS-USD-181026",
        "type":1
    },
    {
        "loss":0,
        "size":37,
        "price":5.623,
        "created_at":"2018-10-21T01:20:18.0Z",
        "instrument_id":"EOS-USD-181026",
        "type":1
    }
]
</code></pre></div></div></div>











<h3 id="futures-hold_amount">获取合约挂单冻结数量</h3>
<p>获取合约挂单冻结的数量.</p>
<h5 id="限速规则：5次2s">限速规则：5次/2s</h5>
<h5 id="http请求">HTTP请求</h5>
<p>GET/api/futures/v3/accounts/&lt;instrument_id&gt;/holds（URL里带大括号的都是路径参数，下同）</p>
<h5 id="请求示例">请求示例</h5>
<p>GET/api/futures/v3/accounts/BTC-USD-181228/holds</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID，如BTC-USD-180213</td>
</tr>
<tr>
<td>amount</td>
<td>Number</td>
<td>冻结数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>Date</td>
<td>查询时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "amount":762374,
    "instrument_id":"EOS-USD-181026",
    "timestamp":"2018-10-19T11:08:07.690Z"
}
</code></pre></div></div></div>










<h3 id="futures-error_code">错误码</h3>
<h5 id="错误码示例">错误码示例</h5>
<table>
<thead>
<tr>
<th style="text-align:center">Errorcode</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">20108</td>
<td style="text-align:center">必选参数不能为空</td>
</tr>
<tr>
<td style="text-align:center">20109</td>
<td style="text-align:center">参数错误</td>
</tr>
<tr>
<td style="text-align:center">20001</td>
<td style="text-align:center">用户不存在</td>
</tr>
<tr>
<td style="text-align:center">20002</td>
<td style="text-align:center">用户被冻结</td>
</tr>
<tr>
<td style="text-align:center">20004</td>
<td style="text-align:center">合约账户被冻结</td>
</tr>
<tr>
<td style="text-align:center">20009</td>
<td style="text-align:center">虚拟合约状态错误</td>
</tr>
<tr>
<td style="text-align:center">20005</td>
<td style="text-align:center">用户合约账户不存在</td>
</tr>
<tr>
<td style="text-align:center">20080</td>
<td style="text-align:center">撤单中，请耐心等待</td>
</tr>
<tr>
<td style="text-align:center">20015</td>
<td style="text-align:center">您当前没有未成交的订单</td>
</tr>
<tr>
<td style="text-align:center">20017</td>
<td style="text-align:center">非本人操作</td>
</tr>
<tr>
<td style="text-align:center">20057</td>
<td style="text-align:center">合约订单更新错误</td>
</tr>
<tr>
<td style="text-align:center">20014</td>
<td style="text-align:center">系统错误</td>
</tr>
<tr>
<td style="text-align:center">21001</td>
<td style="text-align:center">币种类型为空</td>
</tr>
<tr>
<td style="text-align:center">21002</td>
<td style="text-align:center">币种类型错误</td>
</tr>
<tr>
<td style="text-align:center">20007</td>
<td style="text-align:center">参数错误</td>
</tr>
<tr>
<td style="text-align:center">20111</td>
<td style="text-align:center">最大下单量为</td>
</tr>
<tr>
<td style="text-align:center">20032</td>
<td style="text-align:center">委托价格或触发价格超过100万美元</td>
</tr>
<tr>
<td style="text-align:center">21016</td>
<td style="text-align:center">合约相同方向只支持一个杠杆</td>
</tr>
<tr>
<td style="text-align:center">21023</td>
<td style="text-align:center">您当前方向仓位最多还可开{%s%}张</td>
</tr>
<tr>
<td style="text-align:center">21024</td>
<td style="text-align:center">您当前方向仓位最多还可开{%s%}./张</td>
</tr>
<tr>
<td style="text-align:center">20007</td>
<td style="text-align:center">参数错误</td>
</tr>
<tr>
<td style="text-align:center">20025</td>
<td style="text-align:center">杠杆比率错误</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">"成功"</td>
</tr>
<tr>
<td style="text-align:center">20095</td>
<td style="text-align:center">您当前有持仓或挂单，无法设置杠杆</td>
</tr>
</tbody>
</table>
<h3 id="swap-README">永续合约API</h3>
<p>合约交易的行情信息，账户信息，订单操作，订单查询，账单明细查询。</p>
<h3 id="swap-swap---only">单个合约持仓信息</h3>
<p>获取某个合约的持仓信息</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/&lt;instrument_id&gt;/position</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/BTC-USD-SWAP/position</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<p>全仓</p>
<table>
<thead>
<tr>
<th><strong>全仓参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>仓位模式:全仓crossed</td>
</tr>
<tr>
<td>liquidation_price</td>
<td>String</td>
<td>预估爆仓价</td>
</tr>
<tr>
<td>position</td>
<td>String</td>
<td>持仓数量</td>
</tr>
<tr>
<td>avail_position</td>
<td>String</td>
<td>可平数量</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>保证金</td>
</tr>
<tr>
<td>avg_cost</td>
<td>String</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>settlement_price</td>
<td>String</td>
<td>结算基准价</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>leverage</td>
<td>String</td>
<td>杠杆</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>方向</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
</tbody>
</table>
<p>逐仓</p>
<table>
<thead>
<tr>
<th><strong>逐仓参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>仓位模式：逐仓fixed</td>
</tr>
<tr>
<td>liquidation_price</td>
<td>String</td>
<td>预估爆仓价</td>
</tr>
<tr>
<td>position</td>
<td>String</td>
<td>持仓数量</td>
</tr>
<tr>
<td>avail_position</td>
<td>String</td>
<td>可平数量</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>保证金</td>
</tr>
<tr>
<td>avg_cost</td>
<td>String</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>settlement_price</td>
<td>String</td>
<td>结算基准价</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>leverage</td>
<td>String</td>
<td>杠杆</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>方向</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<h6 id="全仓">全仓</h6>
<pre><code> {

"margin_mode": "crossed",

"holding": [

{

"liquidation_price": "0.07",

"position": "1",

"avail_position": "1",

"avg_cost": "210.24",

"settlement_price": "210.34",

"instrument_id": "BTC-USD-SWAP",

"leverage": "10",

"realized_pnl": "0.00307096",

"side": "short",

"timestamp": "2018-10-17T20:11:00.443Z"

},
]
}
</code></pre><h6 id="逐仓">逐仓</h6>
<pre><code> {

"margin_mode": "fixed",

 "holding": [

{

"liquidation_price": "0.05",

"position": "5",

"avail_position": "5",

"margin": "1.27832803",

"avg_cost": "210.32123263",

"settlement_price": "215.34252134",

"instrument_id": "BTC-USD-SWAP",

"leverage": "10",

"realized_pnl": "0.00307096",

"side": "long",

"timestamp": "2018-10-17T20:11:00.443Z"

},
]
}
</code></pre></div></div></div>

<h3 id="swap-swap---singleness">所有币种合约账户信息</h3>
<p>获取所有币种合约的账户信息</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/accounts</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/accounts</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
<tr>
<td>fixed_balance</td>
<td>String</td>
<td>逐仓账户余额</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>已用保证金</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>String</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>margin_ratio</td>
<td>String</td>
<td>保证金率</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>String</td>
<td>开仓冻结保证金</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>仓位模式：全仓 crossed 逐仓fixed</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>逐仓：</p>
<p>账户权益：账户权益=账户余额+逐仓仓位账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
<p>全仓：</p>
<p>账户权益=账户余额+所有合约的已实现盈亏+所有合约的未实现盈亏</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

 "info": [

{

"equity": "1",

"fixed_balance": "50",

"total_avail_balance": "88.23567432",

"margin": "0",

"realized_pnl": "0.00307096",

"unrealized_pnl": "0.46",

"margin_ratio": "0.23435632",

"instrument_id": "BTC-USD-SWAP",

"margin_frozen": "0",

"timestamp": "2018-10-17T20:11:443Z",

"margin_mode": "fixed"

},
]
}
</code></pre></div></div></div>

<h3 id="swap-swap---singleness-single">单个币种合约账户信息</h3>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/&lt;instrument_id&gt;/accounts</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/BTC-USD-SWAP/accounts</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>是否必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<h6 id="全仓">全仓</h6>
<table>
<thead>
<tr>
<th>全仓参数名</th>
<th>参数类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>fixed_balance</td>
<td>String</td>
<td>逐仓账户余额</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>已用保证金</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>String</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>margin_ratio</td>
<td>String</td>
<td>保证金率</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>String</td>
<td>开仓冻结保证金</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>仓位模式：全仓 crossed 逐仓fixed</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

 "info":

{

"equity": "1",

"fixed_balance": "50",

"total_avail_balance": "88.23567432",

"margin": "0",

"realized_pnl": "0.00307096",

"unrealized_pnl": "0.46",

"margin_ratio": "0.23435632",

"instrument_id": "BTC-USD-SWAP",

"margin_frozen": "0",

"timestamp": "2018-10-17T20:11:00.443Z",

"margin_mode": "fixed"

}

}
</code></pre></div></div></div>













<h3 id="swap-swap---huo-qu-he-yue-bi-zhong-gang-gan-bei-shu">获取某个合约的用户配置</h3>
<p>获取某个合约的杠杆倍数，持仓模式</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/accounts/&lt;instrument_id&gt;/settings</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/accounts/BTC-USD-SWAP/settings</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>long_leverage</td>
<td>Number</td>
<td>多仓杠杆</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>持仓模式</td>
</tr>
<tr>
<td>short_leverage</td>
<td>Number</td>
<td>空仓杠杆</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>全仓同一个合约只允许有一种杠杆倍数，逐仓同一个合约同一个方向只能用一种杠杆倍数。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"long_leverage": 10,

"margin_mode": "crossed",

"short_leverage": 10,

"instrument_id": "BTC-USD-SWAP"

}
</code></pre></div></div></div>

<h3 id="swap-swap---she-ding-he-yue-bi-zhong-gang-gan-bei-shu">设定某个合约的杠杆</h3>
<p>设定某个合约的杠杆倍数</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/swap/v3/accounts/&lt;instrument_id&gt;/leverage</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/swap/v3/accounts/BTC-USD-SWAP/leverage{"leverage": "10","side": "1"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>leverage</td>
<td>String</td>
<td>是</td>
<td>新杠杆倍数，可填写1-40之间的整数</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>是</td>
<td>方向:1.LONG 2.SHORT 3.CROSS</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>long_leverage</td>
<td>String</td>
<td>多仓杠杆</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>持仓模式</td>
</tr>
<tr>
<td>short_leverage</td>
<td>String</td>
<td>空仓杠杆</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"long_leverage": 10,

"margin_mode": "fixed",

"short_leverage": 20,

"instrument_id": "BTC-USD-SWAP"

}
</code></pre></div></div></div>

<h3 id="swap-swap---query">账单流水查询</h3>
<p>列出账户资产流水，账户资产流水是指导致账户余额增加或减少的行为。流水会分页，每页100条数据，并且按照时间倒序排序和存储，最新的排在最前面。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/accounts/&lt;instrument_id&gt;/ledger</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/accounts/BTC-USD-SWAP/ledger?from=2&amp;limit=30</p>
<p>注：from=2&amp;limit=30代表在第2页请求30条数据，返回结果为第2页的30条最近的数据</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚下单的在前面（按时间来排序）</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ledger_id</td>
<td>String</td>
<td>账单id</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>变动金额</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>账单类型</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>账单创建时间</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td><strong>流水来源类型</strong></td>
<td><strong>参数类型</strong></td>
<td><strong>描述</strong></td>
</tr>
<tr>
<td>transfer</td>
<td>String</td>
<td>转入/转出</td>
</tr>
<tr>
<td>match</td>
<td>String</td>
<td>交易产生的资金变动</td>
</tr>
<tr>
<td>settlement</td>
<td>String</td>
<td>清算/分摊</td>
</tr>
<tr>
<td>liquidation</td>
<td>String</td>
<td>爆仓/减仓</td>
</tr>
<tr>
<td>funding</td>
<td>String</td>
<td>资金费</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>修改保证金的资金变动</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{

"ledger_id": "234",

"amount": "-0.0011",

"type": "14",

"fee": "0.00432458",

"timestamp": "2018-10-17T20:11:443Z",

"instrument_id": "BTC-USD-SWAP"

},
]
</code></pre></div></div></div>

<h3 id="swap-swap---orders">下单</h3>
<p>API交易提供限价单下单模式，只有当您的账户有足够的资金才能下单。一旦下单，您的账户资金将在订单生命周期内被冻结，被冻结的资金以及数量取决于订单指定的类型和参数。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/swap/v3/order</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/swap/v3/order{"client_oid":"12233456","size":"2","type":"1","match_price":"0","price":"432.11","instrument_id":"BTC-USD-SWAP"}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>client_oid</td>
<td>String</td>
<td>否</td>
<td>由您设置的订单id来唯一标识您的订单，数字和字母组成，1-32位</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>是</td>
<td>下单数量</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>是</td>
<td>可填参数：1:开多 2:开空 3:平多 4:平空</td>
</tr>
<tr>
<td>match_price</td>
<td>String</td>
<td>否</td>
<td>是否以对手价下单 0:不是 1:是</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>是</td>
<td>委托价格</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>请求参数校验:合约名称必须是已存在合约名称；委托价格必须符合下单成交价格(不能达到溢价和爆仓价)；下单类型除了1:开多
2:开空 3:平多 4:平空都会报错；数量不能小于等于零，不能大于可开张数。</p>
 <div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id，下单失败时，此字段值为-1</td>
</tr>
<tr>
<td>client_oid</td>
<td>String</td>
<td>由您设置的订单id来标识您的订单</td>
</tr>
<tr>
<td>error_code</td>
<td>String</td>
<td>错误码，下单成功时为0，下单失败时会显示相应错误码</td>
</tr>
<tr>
<td>error_message</td>
<td>String</td>
<td>错误信息，下单成功时为空，下单失败时会显示错误信息</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>instrument_id</p>
<p>instrument_id必须是有效的合约ID。合约列表可通过/ instruments接口获取。</p>
<p>client_oid</p>
<p>可选字段client_oid是您的交易程序自行生成的UUID。您可以使用此字段在系统返回给你的信息中识别订单。client_oid与服务器分配的订单ID不同。如果您使用client_oid在系统返回的信息中发现对应订单，同样需要记录order_id，因为它将用于未来的订单状态更新查询。消息返回之后，client_oid就没有任何作用了。</p>
<p>type</p>
<p>下单时，您可以指定订单类型。在您没有持仓时，只能选择开多和开空。您只能对持仓合约进行平仓。</p>
<p>price</p>
<p>price表示买入或卖出每张合约的价格。价格必须是价格步长(tick_size)的倍数。价格步长(tick_size)是价格的最小增量，可通过/instruments接口获取。</p>
<p>siez</p>
<p>size表示买入或卖出合约的张数。数量必须是整数。</p>
<p>match_price</p>
<p>对手价表示你希望以目前对手方的最优价格成交。如果你下的是买单，选择以对手价下单表示你用当前卖一价进行下单。如果你下的是卖单，选择以对手价下单表示你用当前买一价进行下单。</p>
<p>订单生命周期</p>
<p>HTTP请求将在订单被拒绝（资金不足，参数无效等）或下单成功（由匹配引擎接受）时作出响应。一个200响应表示该订单被接收并且进入撮合。进入撮合的订单可以部分或全部立即成交（取决于价格和市场条件）。部分成交的时候将把订单的剩余数量继续进行撮合。完全成交的订单将进入已成交状态。</p>
<p>监听行情数据的用户建议使用client_oid字段以便在接受到的信息中标识对应的数据。</p>
<p>响应</p>
<p>成功接受的订单将被分配一个订单ID。成功接受的订单表示撮合引擎已经接受的订单。</p>
<p>未成交的订单不会过期，并将保持撮合状态，直到被成交或取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"order_id": "64-2b-17122f911-0",

"client_oid": "12233456",

"error_code": "0",

"error_message": "",

"result": "true"

}
</code></pre></div></div></div>



<h3 id="swap-swap---batch">批量下单</h3>
<p>批量进行下单请求。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/swap/v3/orders</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/swap/v3/orders{"instrument_id":
"BTC-USD-SWAP","order_data":[{"client_oid": "213","price": "5","size":
"2","type": "1","match_price": "0"},{"client_oid": "243","price": "2","size":
"3","type":"2","match_price": "1"}]}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_data</td>
<td>String</td>
<td>是</td>
<td>JSON类型的字符串 例：[{"client_oid": "213","price": "5","size": "2","type": "1","match_price": "0"},{"client_oid": "243","price": "2","size": "3","type": "2","match_price": "1"}] 最大下单量为20</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>请求参数的校验和单个订单一致。</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id，下单失败时，此字段值为-1</td>
</tr>
<tr>
<td>client_oid</td>
<td>String</td>
<td>由您设置的订单id来标识您的订单</td>
</tr>
<tr>
<td>error_code</td>
<td>String</td>
<td>错误码，下单成功时返回0，下单失败时会显示相应的错误码</td>
</tr>
<tr>
<td>error_message</td>
<td>String</td>
<td>错误信息，下单成功时为空，下单失败时会显示错误信息</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>只要其中任何一单下单成功，result就会返回true。</p>
<p>返回的结果数据和order_data提交订单数据顺序一致。如果下单失败，则order_id为-1，error_code是错误码提示，error_message是错误信息。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

 "order_info": [

{

"order_id": "64-2b-17122f911-3",

"client_oid": "12233456",

"error_code": "0",

"error_message": ""

},

{

"order_id": "64-2c-17132f711-0",

"client_oid": "12453456",

"error_code": "0",

"error_message": ""

}

],

"result": "true"

}
</code></pre></div></div></div>



<h3 id="swap-swap---revocation">撤单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/swap/v3/cancel_order/&lt;instrument_id&gt;/&lt;order_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/swap/v3/cancel_order/BTC-USD-SWAP/64-2b-17122f911-3</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单id</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>请求参数校验：合约名称必须是已存在合约的名称；order_id必须是已存在的order_id。</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>撤单申请结果</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>这order_id是服务器分配的订单ID，而不是用户传的的client_oid。</p>
<p>返回值是已发起撤销操作的订单ID，不代表这些订单已成功撤销，正在成交中的无法撤销，未成交的可成功撤销。</p>
<p>result是代表服务器处理了请求，不代表下单、撤单是否成功。</p>
<p>如果订单无法取消(已经成交或已取消)，那么返回的报错内容里将显示相应的原因。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"order_id": "64-2b-17122f911-0",

"result": "true"

}
</code></pre></div></div></div>


<h3 id="swap-swap---repeal">批量撤单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/swap/v3/cancel_batch_orders/&lt;instrument_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>POST /api/swap/v3/cancel_batch_orders/BTC-USD-SWAP{"ids":["64-2a-17122d911-0","64-2b-17124f911-0","64-2c-17126f911-0"]}</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ids</td>
<td>String</td>
<td>是</td>
<td>订单id列表</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>请求参数校验和单个订单撤销一致。</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>ids</td>
<td>String</td>
<td>订单id列表</td>
</tr>
<tr>
<td>result</td>
<td>String</td>
<td>调用接口返回结果</td>
</tr>
</tbody>
</table>
<h5 id="返回参数">返回参数</h5>
<p>返回值是已发起撤销操作的订单ID列表，不代表这些订单已成功撤销，正在成交中的无法撤销，未成交的可成功撤销。</p>
<h5 id="解释说明">解释说明</h5>
<p>result是代表服务器处理了请求，不代表下单、撤单是否成功。如果全部都撤单失败，result就为false。</p>
<p>无法保证一定会成功撤销，建议用户调用批量撤单接口后，再调用获取订单列表接口确认。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"instrument_id": "BTC-USD-SWAP",

"ids": [

"64-2a-17122d911-0",

"64-2b-17124f911-0",

"64-2c-17126f911-0"

],

"result": "true"

}
</code></pre></div></div></div>

<h3 id="swap-swap---list">获取所有订单列表</h3>
<p>列出您当前所有的订单信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/orders/&lt;instrument_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/orders/BTC-USD-SWAP?status=2&amp;from=4&amp;limit=30</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>String</td>
<td>是</td>
<td>订单状态(-2:失败 -1:撤单成功 0:等待成交 1:部分成交 2:完全成交)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚下单的在前面（按时间来排序）</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>filled_qty</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>price_avg</td>
<td>String</td>
<td>成交均价</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>订单状态(-2:失败 -1:撤销成功 0:等待成交 1:部分成交 2:完全成交)</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>1:开多 2:开空 3:平多 4:平空</td>
</tr>
<tr>
<td>contract_val</td>
<td>String</td>
<td>合约面值</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

 "order_info": [

{

"instrument_id": "BTC-USD-SWAP",

"size": "5",

"timestamp": "2018-10-23T20:11:00.443Z",

"filled_qty": "2",

"fee": "0.00432458",

"order_id": "64-2b-16122f931-3",

"price": "25",

"price_avg": "21",

"status": "1",

"type": "1",

"contract_val": "100"

},
]
}
</code></pre></div></div></div>

<h3 id="swap-swap---hold_information">获取订单信息</h3>
<p>通过订单id获取单个订单信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/orders/&lt;instrument_id&gt;/&lt;order_id&gt;</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/orders/BTC-USD-SWAP/64-2a-26132f931-3</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单id</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>filled_qty</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>price_avg</td>
<td>String</td>
<td>成交均价</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>订单状态(-2:失败 -1:撤销成功 0:等待成交 1:部分成交 2:完全成交)</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>1:开多 2:开空 3:平多 4:平空</td>
</tr>
<tr>
<td>contract_val</td>
<td>String</td>
<td>合约面值</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"instrument_id": "BTC-USD-SWAP",

"size": "10",

"timestamp": "2018-10-23T20:11:00.443Z",

"filled_qty": "3",

"fee": "0.00434457"

"order_id": "64-2a-26132f931-3",

"price": "20",

"price_avg": "17",

"status": "1",

"type": "1",

"contract_val": "100"

}
</code></pre></div></div></div>

<h3 id="swap-swap---futuresdetail">获取成交明细</h3>
<p>获取最近的成交明细列表。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/fills</p>
<h5 id="请求示例">请求示例</h5>
<p>GET
/api/swap/v3/fills?order_id=64-2b-16122f931-3&amp;instrument_id=BTC-USD-SWAP&amp;from=1&amp;limit=50(返回BTC-USD-SWAP中order_id为64-2b-16122f931-3的订单中第1页前50笔成交信息)</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>order_id</td>
<td>String</td>
<td>是</td>
<td>订单id</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚成交的在前面</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>trade_id</td>
<td>String</td>
<td>成交id</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>order_qty</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>exec_type</td>
<td>String</td>
<td>流动性方向，T：taker M：maker</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>订单方向</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> [

{

"trade_id": "434365",

"instrument_id": "BTC-USD-SWAP",

"order_id": "64-2b-16122f931-3",

"price": "25",

"order_qty": "20",

"fee": "0.00432458",

"timestamp": "2018-10-24T20:11:00.443Z",

"exec_type": "T",

"side": "long"

},

{

"trade_id": "372795",

"instrument_id": "BTC-USD-SWAP",

"order_id": "64-2b-16122f931-3",

"price": "20",

"order_position": "2",

"fee": "0.00132458",

"timestamp": "2018-10-23T20:11:00.443Z",

"exec_type": "T",

"side": "long"

}

]
</code></pre></div></div></div>

<h3 id="swap-swap---contract_information">获取合约信息</h3>
<p>获取可用合约的列表，这组公开接口提供了行情数据的快照，无需认证即可调用。 获取可用合约的列表，查询各合约的交易限制和价格步长等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>underlying_index</td>
<td>String</td>
<td>合约币种，如BTC-USD-SWAP中前面的BTC</td>
</tr>
<tr>
<td>quote_currency</td>
<td>String</td>
<td>计价货币，如BTC-USD-SWAP中的USD</td>
</tr>
<tr>
<td>coin</td>
<td>String</td>
<td>保证金币种，如BTC-USD-SWAP中BTC</td>
</tr>
<tr>
<td>contract_val</td>
<td>String</td>
<td>合约面值</td>
</tr>
<tr>
<td>listing</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>delivery</td>
<td>String</td>
<td>结算时间</td>
</tr>
<tr>
<td>size_increment</td>
<td>String</td>
<td>数量精度</td>
</tr>
<tr>
<td>tick_size</td>
<td>String</td>
<td>价格精度</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{

"instrument_id": "BTC-USD-SWAP",

"underlying_index": "BTC",

"quote_currency": "USD",

"coin": "BTC",

"contract_val": "100",

"listing": "2018-10-23T20:11:00.443Z",

"delivery": "2018-10-24T20:11:00.443Z",

"size_increment": "4",

"tick_size": "4"

},
]
</code></pre></div></div></div>


<h3 id="swap-swap---data">获取深度数据</h3>
<p>获取合约的深度列表。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/depth</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/depth?size=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>否</td>
<td>返回深度数量，最大值可传200，即买卖深度共400条</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<p>当size不传时，返回1条；size传0时，返回0条；size最大200，传大于200的数时，返回200条。</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>asks</td>
<td>String</td>
<td>卖方深度（测试：数最小的在上面）</td>
</tr>
<tr>
<td>bids</td>
<td>String</td>
<td>买方深度（测试：数最大的在上面）</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<p>返回值数组说明</p>
<p>[411.8,10,8,4]
411.8为深度价格，10为此价格数量，8为此价格的爆仓单数量，4为此深度由几笔订单组成。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"asks": [

["411.3","16",5,4],

["411.5","9",4,3],

["411.6","22",6,2],

[411.75,11,9,4],

[411.8,10,8,4],

],

"bids": [

[410.65,10,8,4],

[410.64,11,9,4],

[410.5,22,6,2],

[410.3,9,4,3],

[410.18,16,5,4],

],

"timestamp": "2018-10-24T20:11:11.443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---all">获取全部ticker信息</h3>
<p>获取平台全部合约的最新成交价、买一价、卖一价和24交易量。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/ticker</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/ticker</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>high_24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>volume_24h</td>
<td>String</td>
<td>24小时成交量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
{

"instrument_id": "BTC-USD-SWAP",

"last": 6212.2,

"high_24h": 6239.3,

"low_24h": 6100.6,

"volume_24h": 34654,

"timestamp": "2018-10-24T20:11:20.443Z"

},
]
</code></pre></div></div></div>


<h3 id="swap-swap---some">获取某个ticker信息</h3>
<p>获取合约的最新成交价、买一价、卖一价和24交易量。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/ticker</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/ticker</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>high_24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>volume_24h</td>
<td>String</td>
<td>24小时成交量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>最高价、最低价和成交量都是按最近24小时为维度统计的。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"last": 6212.2,

"high_24h": 6239.3,

"low_24h": 6100.6,

"volume_24h": 457864,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>


<h3 id="swap-swap---deal_data">获取成交数据</h3>
<p>获取合约的成交记录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/trades</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/trades?from=1&amp;limit=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚成交的在前面</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错，from，to同时传以from为准</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>trade_id</td>
<td>String</td>
<td>成交id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>成交方向：sell，buy</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>成交时间</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>成交方向side是指buy or sell，返回buy or sell。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> [

{

"trade_id": "199",

"price": 25,

"size": 12,

"side": "buy",

"timestamp": "2018-10-24T20:11:443Z"

},

{

"trade_id": "200",

"price": 25,

"size": 3,

"side": "sell",

"timestamp": "2018-10-24T20:11:443Z"

}

]
</code></pre></div></div></div>


<h3 id="swap-swap---line">获取K线数据</h3>
<p>获取合约的K线数据。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/candles</p>
<h5 id="请求示例">请求示例</h5>
<p>GET
/api/swap/v3/instruments/BTC-USD-SWAP/candles?start=2018-10-26T02:31:00.000Z&amp;end=2018-10-26T02:55:00.000Z&amp;granularity=60(查询BTC-USD-SWAP的2018年10月26日02点31分到2018年10月26日02点55分的1分钟K线数据)</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>start</td>
<td>String</td>
<td>否</td>
<td>开始时间，必须是ISO8601格式的时间</td>
</tr>
<tr>
<td>end</td>
<td>String</td>
<td>否</td>
<td>结束时间，必须是ISO8601格式的时间</td>
</tr>
<tr>
<td>granularity</td>
<td>String</td>
<td>否</td>
<td>时间颗粒度，时间粒度，以秒为单位，如[60/180/300 900/1800/3600/7200/14400/21600/43200/86400/604800]，详见下解释说明</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错，</p>
<p>start和end必须是ISO8601格式的时间，否则报错，</p>
<p>granularity必须是范围内的时间颗粒度，否则报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>String</td>
<td>开始时间</td>
</tr>
<tr>
<td>low</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>high</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>open</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>close</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>交易量(张)</td>
</tr>
<tr>
<td>currency_volume</td>
<td>String</td>
<td>按币折算的交易量</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>如果用户提供了开始时间或结束时间中的任一字段或全都提供，则取开始时间之后的200条数据或结束时间之前的200条数据或开始时间到结束时间的200条数据。未提供开始时间和结束时间的请求，则系统按时间粒度返回最近的200条数据。</p>
<p>时间粒度granularity必须是[60 180 300 900 1800 3600 7200 14400 21600 43200 86400
604800]中的任一值，否则请求将被拒绝。这些值分别对应的是[1min 3min 5min 15min
30min 1hour 2hour 4hour 6hour 12hour 1day 1week]的时间段。</p>
<p>K线数据可能不完整。</p>
<p>单次请求的最大数据量是200。如果您选择的开始/结束时间和时间粒度导致超过单次请求的最大数据量，您的请求将只会返回200个数据。如果您希望在更大的时间范围内获取足够精细的数据，则需要使用多个开始/结束范围进行多次请求。</p>
<p>数组中的数据顺序分别是：时间戳，开盘价格，最高价格，最低价格，收盘价格，交易量(张)，交易量(币)</p>
<p> 即分别为[timestamp,open,high,low,close,volume,currency_volume]</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[

["1534201490000","0.276","0.475","0.382","0.453","500","18.2754"],

["1534201480000","1.568","1.324","1.375","1.456","600","20.2644"],

["1534201470000","2.567","2.143","2.224",'2.338","700","21.3674"]

]
</code></pre></div></div></div>

<h3 id="swap-swap---index_information">获取指数信息</h3>
<p>获取币种指数。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/index</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/index</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>index</td>
<td>String</td>
<td>现货指数价格</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>指数币对"-"后面的币种表示指数价格的计价单位。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"instrument_id": "BTC-USD-SWAP",

"index": 6214.8,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>












<h3 id="swap-swap---rate">获取法币汇率</h3>
<p>获取法币汇率。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/rate</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/rate</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>USD_CNY</td>
</tr>
<tr>
<td>rate</td>
<td>String</td>
<td>汇率</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"instrument_id": "USD_CNY",

"rate": 6.83,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---total">获取平台总持仓量</h3>
<p>获取合约整个平台的总持仓量。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/open_interest</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/open_interest</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>总持仓量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> {

"instrument_id": "BTC-USD-SWAP",

"amount": 35666,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---current">获取当前限价</h3>
<p>获取合约当前开仓的最高买价和最低卖价。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/price_limit</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/price_limit</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>highest</td>
<td>String</td>
<td>最高买价</td>
</tr>
<tr>
<td>lowest</td>
<td>String</td>
<td>最低卖价</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"instrument_id": "BTC-USD-SWAP",

"highest": 8903.2,

"lowest": 7980.6,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---huo-qu-bao-cang-dan">获取爆仓单</h3>
<p>获取合约爆仓单。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/liquidation</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/liquidation?status=0&amp;from=1&amp;limit=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>是</td>
<td>状态(0:最近7天的未成交 1:最近7天的已成交)</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚的订单在前面</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<p>status不是0或1，报非法参数</p>
<p>from，to同时传以from为准</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>数量</td>
</tr>
<tr>
<td>created_at</td>
<td>String</td>
<td>委托时间</td>
</tr>
<tr>
<td>loss</td>
<td>String</td>
<td>穿仓用户亏损</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>3:平多 4:平空</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> [

{

"instrument_id": "BTC-USD-SWAP",

"size": 25,

"created_at": "2018-10-24T20:11:443Z",

"loss": 0,

"price": 256,

"type": 3

},

{

"instrument_id": "BTC-USD-SWAP",

"size": 20,

"created_at": "2018-10-24T20:11:443Z",

"loss": 0,

"price": 250,

"type": 4

}

]
</code></pre></div></div></div>


<h3 id="swap-swap---hold_amount">获取合约挂单冻结数量</h3>
<p>获取合约挂单冻结数量。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/accounts/&lt;instrument_id&gt;/holds</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/accounts/BTC-USD-SWAP/holds</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>amount</td>
<td>String</td>
<td>开仓冻结保证金</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>查询时间</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"instrument_id": "BTC-USD-SWAP",

"amount": 0.00045,

"timestamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---jiesuanshijianhahaha">获取合约下一次结算时间</h3>
<p>获取合约下一次的结算时间。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/funding_time</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/funding_time</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>funding_time</td>
<td>String</td>
<td>下一次的结算时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"instrument_id": "BTC-USD-SWAP",

"funding_time": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>

<h3 id="swap-swap---markprice">获取合约标记价格</h3>
<p>获取合约标记价格。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/mark_price</p>
<h5 id="请求示例">请求示例</h5>
<p>GET /api/swap/v3/instruments/BTC-USD-SWAP/mark_price</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>mark_price</td>
<td>String</td>
<td>标记价格</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"instrument_id": "BTC-USD-SWAP",

"mark_price": "7100.35",

"timstamp": "2018-10-24T20:11:443Z"

}
</code></pre></div></div></div>


<h3 id="swap-swap---zijinfeilvhahaha">获取合约历史资金费率</h3>
<p>获取合约历史资金费率。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/swap/v3/instruments/&lt;instrument_id&gt;/historical_funding_rate</p>
<h5 id="请求示例">请求示例</h5>
<p>GET
/api/swap/v3/instruments/BTC-USD-SWAP/historical_funding_rate?from=1&amp;limit=50</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>是否必须</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>是</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>from</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>to</td>
<td>String</td>
<td>否</td>
<td>请求此页码之后的分页内容(举例页码：1，2，3，4，5。from 4只返回第4页，to 4只返回第3页)</td>
</tr>
<tr>
<td>limit</td>
<td>String</td>
<td>否</td>
<td>分页返回的结果集数量，默认为100，最大为100，按时间倒序排列，越晚的在前面</td>
</tr>
</tbody>
</table>
<p>校验合约名称，只要和数据库中的合约名称不同，就会报错，from，to同时传以from为准</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>funding_rate</td>
<td>String</td>
<td>资金费率</td>
</tr>
<tr>
<td>realized_rate</td>
<td>String</td>
<td>实际资金费率</td>
</tr>
<tr>
<td>interest_rate</td>
<td>String</td>
<td>利率</td>
</tr>
<tr>
<td>funding_time</td>
<td>String</td>
<td>结算时间</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code> [

{

"instrument_id": "BTC-USD-SWAP",

"funding_rate": 0.0025,

"realized_rate": 0.0022,

"interest_rate": 0,

"funding_time": "2018-10-24T20:11:443Z"

},

{

"instrument_id": "BTC-USD-SWAP",

"funding_fee": 0.0025,

"realized_rate": 0.0022,

"interest_rate": 0,

"funding_time": "2018-10-24T04:11:443Z"

}

]
</code></pre></div></div></div>

<h5 id="swap-swap---error_code">错误码示例</h5>
<table>
<thead>
<tr>
<th><strong>error_code</strong></th>
<th><strong>说明</strong></th>
<th><strong>应用场景</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>35001</td>
<td>合约不存在</td>
<td>用户调用不存在的合约时</td>
</tr>
<tr>
<td>35002</td>
<td>合约结算中</td>
<td>合约正在结算时</td>
</tr>
<tr>
<td>35003</td>
<td>合约暂停</td>
<td>合约暂停时</td>
</tr>
<tr>
<td>35004</td>
<td>合约待资金结算</td>
<td>合约待资金结算时</td>
</tr>
<tr>
<td>35005</td>
<td>用户不存在</td>
<td>用户未开通合约时</td>
</tr>
<tr>
<td>35008</td>
<td>账户风险率过高</td>
<td>用户下单前后保证金率不足时</td>
</tr>
<tr>
<td>35010</td>
<td>平仓数量大于可平数量</td>
<td>用户下平仓单数量大于可平数量时</td>
</tr>
<tr>
<td>35012</td>
<td>下单数量错误</td>
<td>用户下单数量不足1张时</td>
</tr>
<tr>
<td>35014</td>
<td>下单价格不在限价范围</td>
<td>用户下单价格不在限价范围里时</td>
</tr>
<tr>
<td>35015</td>
<td>杠杆倍数超过允许范围</td>
<td>用户调整的杠杆不在范围内时</td>
</tr>
<tr>
<td>35017</td>
<td>用户存在挂单</td>
<td>用户修改杠杆时</td>
</tr>
<tr>
<td>35019</td>
<td>下单数量超过最大允许的数量</td>
<td>用户下单数量超过设置的最大值时</td>
</tr>
<tr>
<td>35020</td>
<td>下单价格超过最大允许的价格</td>
<td>用户下单价格超过设置的最大值时</td>
</tr>
<tr>
<td>35021</td>
<td>下单数量超过用户当前档位</td>
<td>用户下单数量超过当前档位的最大值时</td>
</tr>
<tr>
<td>35022</td>
<td>合约状态错误</td>
<td>合约处于暂停或关闭状态时</td>
</tr>
<tr>
<td>35024</td>
<td>该用户合约未初始化</td>
<td></td>
</tr>
<tr>
<td>35025</td>
<td>用户账户余额为空</td>
<td></td>
</tr>
<tr>
<td>35026</td>
<td>用户合约配置未初始化</td>
<td></td>
</tr>
<tr>
<td>35029</td>
<td>订单不存在</td>
<td></td>
</tr>
<tr>
<td>35030</td>
<td>超过最大下单数量</td>
<td>批量下单</td>
</tr>
<tr>
<td>35031</td>
<td>超过最大撤单数量</td>
<td>批量撤单</td>
</tr>
<tr>
<td>35032</td>
<td>用户状态无效</td>
<td></td>
</tr>
<tr>
<td>35039</td>
<td>开仓张数大于可开张数</td>
<td></td>
</tr>
<tr>
<td>35044</td>
<td>订单状态不合适</td>
<td></td>
</tr>
<tr>
<td>35046</td>
<td>账户余额是负数</td>
<td></td>
</tr>
<tr>
<td>35047</td>
<td>账户余额不足</td>
<td></td>
</tr>
<tr>
<td>35048</td>
<td>用户合约正在爆仓冻结</td>
<td></td>
</tr>
<tr>
<td>35049</td>
<td>订单类型不合适</td>
<td></td>
</tr>
<tr>
<td>35050</td>
<td>档位配置为空</td>
<td></td>
</tr>
<tr>
<td>35052</td>
<td>全仓保证金不足</td>
<td></td>
</tr>
<tr>
<td>35053</td>
<td>账户风险过高</td>
<td></td>
</tr>
<tr>
<td>35055</td>
<td>账户余额不足</td>
<td></td>
</tr>
<tr>
<td>35057</td>
<td>无最新成交</td>
<td></td>
</tr>
<tr>
<td>35058</td>
<td>无限价</td>
<td></td>
</tr>
<tr>
<td>30023</td>
<td>必传参数不能为空</td>
<td>传的参数有空值时</td>
</tr>
<tr>
<td>30024</td>
<td>参数错误</td>
<td>参数不合法时</td>
</tr>
</tbody>
</table>
<h3 id="ett-README">ETT API</h3>
<p>组合交易的组合成分查询，账户信息，订单操作，订单查询，账单明细查询。</p>
<h3 id="ett-account_information">组合账户信息</h3>
<p>获取组合账户资产列表，查询各币种的余额、冻结和可用等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/accounts</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">currency</td>
<td style="text-align:center">币种或ett名称</td>
</tr>
<tr>
<td style="text-align:center">balance</td>
<td style="text-align:center">余额</td>
</tr>
<tr>
<td style="text-align:center">holds</td>
<td style="text-align:center">冻结(不可用)</td>
</tr>
<tr>
<td style="text-align:center">available</td>
<td style="text-align:center">可用于交易或资金划转的数量</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>当你下申购单或赎回单时，订单所需的资金将被冻结。这部分数量将不能被用于其他订单或者资金划转。资金将一直被冻结直至订单被成交或者取消。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "currency": "USDT", // 币种名
        "balance": 0.27124022, // 余额
        "available": 231.23432 // 可用
        "holds": 0, // 冻结
    }
]
</code></pre></div></div></div>












<h3 id="ett-query">单一币种账户信息</h3>
<p>获取组合账户单个币种的余额、冻结和可用等信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/accounts/&lt;currency&gt;</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">balance</td>
<td style="text-align:center">余额</td>
</tr>
<tr>
<td style="text-align:center">holds</td>
<td style="text-align:center">冻结(不可用)</td>
</tr>
<tr>
<td style="text-align:center">available</td>
<td style="text-align:center">可用于交易或资金划转的数量</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "balance": 0.27124022, // 余额
    "available": 231.23432 // 可用
    "holds": 0, // 冻结
}
</code></pre></div></div></div>

























<h3 id="ett-singleness">账单流水查询</h3>
<p>列出帐户资产流水。帐户资产流水是指导致帐户余额增加或减少的行为。流水会分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/accounts/&lt;currency&gt;/ledger</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ledger_id</td>
<td style="text-align:center">账单ID</td>
</tr>
<tr>
<td style="text-align:center">currency</td>
<td style="text-align:center">币种或ett名称</td>
</tr>
<tr>
<td style="text-align:center">balance</td>
<td style="text-align:center">余额</td>
</tr>
<tr>
<td style="text-align:center">amount</td>
<td style="text-align:center">变动数量</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">流水来源</td>
</tr>
<tr>
<td style="text-align:center">created_at</td>
<td style="text-align:center">账单创建时间</td>
</tr>
<tr>
<td style="text-align:center">details</td>
<td style="text-align:center">如果类型是交易产生的，则该details字段将包含该交易的关联信息</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">流水来源类型</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">transfer</td>
<td style="text-align:center">资金转入/转出</td>
</tr>
<tr>
<td style="text-align:center">match</td>
<td style="text-align:center">交易产生的资金变动</td>
</tr>
<tr>
<td style="text-align:center">fee</td>
<td style="text-align:center">手续费</td>
</tr>
<tr>
<td style="text-align:center">rebate</td>
<td style="text-align:center">返佣</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">transfer</td>
<td style="text-align:center">Funds transfer</td>
</tr>
<tr>
<td style="text-align:center">match</td>
<td style="text-align:center">Funds moved as a result of a trade</td>
</tr>
<tr>
<td style="text-align:center">fee</td>
<td style="text-align:center">Fee as a result of a trade</td>
</tr>
<tr>
<td style="text-align:center">rebate</td>
<td style="text-align:center">Fee reate as per our fee schedule</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[
    {
        "ledger_id": 1,
        "currency": "USDT",
        "balance": 99988.587,
        "amount": -5.151,
        "type": "transfer", // 账单类型 transfer 划转 match 交易 fee 手续费
        "created_at": "2018-03-23T07:41:35.019Z",
        "details": 20
    },
    {  
        "ledger_id": 1,
        "currency": "USDT",
        "balance": 99988.587,
        "amount": -5.151,
        "type": "match",
        "created_at": "2018-03-23T07:41:35.019Z",
        "details": 20
    }
</code></pre></div></div></div>





























<h3 id="ett-orders">下单</h3>
<p>OKEx组合交易提供申购和赎回两种下单模式。只有当您的账户有足够的资金才能下单。一旦下单，您的账户资金将在订单生命周期内被冻结。被冻结的资金以及数量取决于订单指定的类型和参数。</p>
<h5 id="http请求">HTTP请求</h5>
<p>POST /api/ett/v3/orders</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">client_oid</td>
<td style="text-align:center">[非必填]由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">订单类型(0：组合申购 1:用USDT申购 2:赎回USDT 3:立即赎回ett成分)</td>
</tr>
<tr>
<td style="text-align:center">quote_currency</td>
<td style="text-align:center">申购/赎回币种</td>
</tr>
<tr>
<td style="text-align:center">amount</td>
<td style="text-align:center">申购金额，usdt申购必填参数</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">赎回数量，赎回和组合申购必填参数</td>
</tr>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">申购/赎回ett名称</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order_id</td>
<td style="text-align:center">订单ID</td>
</tr>
<tr>
<td style="text-align:center">client_oid</td>
<td style="text-align:center">由您设置的订单ID来识别您的订单</td>
</tr>
<tr>
<td style="text-align:center">result</td>
<td style="text-align:center">下单结果。若是下单失败，将给出错误码提示</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>currency</p>
<p>currency必须是有效的ett名称。ett列表可通过/ constituents接口获取。</p>
<p>client_oid</p>
<p>可选字段client_oid是您的交易程序自行生成的UUID。您可以使用此字段在系统返回给你的信息中识别订单。</p>
<p>client_oid与服务器分配的订单ID不同。如果您使用client_oid在系统返回的信息中发现对应订单，同样需要记录order_id，因为它将用于未来的订单状态更新查询。消息返回之后，client_oid就没有任何作用了。</p>
<p>type</p>
<p>申购单是申购ett时使用的订单类型。用户需要指定申购ett所使用的数字货币总量amount，不能指定size。</p>
<p>赎回单是赎回ett时使用的订单类型。用户需要指定所赎回ett的数量size，不能指定amount。用户可以选择按某种数字货币赎回，或者按ett成分立即赎回。</p>
<p>订单生命周期</p>
<p>HTTP请求将在订单被拒绝（资金不足，参数无效等）或下单成功时作出响应。一个200响应表示该订单被接收。等待订单完成申购/赎回时，将进入已成交状态。下单成功后，用户可通过获取订单信息接口查询订单状态。</p>
<p>监听行情数据的用户建议使用client_oid字段以便在接受到的信息中标识对应的数据。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "888845120785408",
    "client_oid": "2235679",
    "result": true
}
</code></pre></div></div></div>





<h3 id="ett-revocation">撤销指定订单</h3>
<p>撤销之前下的未完成订单。</p>
<h5 id="http请求">HTTP请求</h5>
<p>DELETE /api/ett/v3/orders/&lt;order_id&gt;</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order_id</td>
<td style="text-align:center">订单ID</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>这order_id是服务器分配的订单ID，而不是用户传的的client_oid。</p>
<p>如果订单无法取消(已经成交或已取消)，那么返回的报错内容里将显示相应的原因。</p>
<h3 id="ett-list">获取订单列表</h3>
<p>列出您当前所有的订单信息。这个请求支持分页，并且按时间倒序排序和存储，最新的排在最前面。请参阅分页部分以获取第一页之后的其他纪录。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/orders</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">status</td>
<td style="text-align:center">仅列出相应状态的订单列表。(0:所有状态 1:等待成交 2:已成交 3:已撤销)</td>
</tr>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">[必填]列出指定ett的订单</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">[必填]（1:申购 2:赎回）</td>
</tr>
<tr>
<td style="text-align:center">from</td>
<td style="text-align:center">请求此id之后(更新的数据)的分页内容（举例一列数：1，2，3，4，5。from 4 只有5，to 4有1，2，3）</td>
</tr>
<tr>
<td style="text-align:center">to</td>
<td style="text-align:center">请求此id之前(更旧的数据)的分页内容</td>
</tr>
<tr>
<td style="text-align:center">limit</td>
<td style="text-align:center">分页返回的结果集数量，默认为100，最大为100(具体参见分页处的描述)</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order_id</td>
<td style="text-align:center">订单ID</td>
</tr>
<tr>
<td style="text-align:center">price</td>
<td style="text-align:center">价格</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">ett数量</td>
</tr>
<tr>
<td style="text-align:center">amount</td>
<td style="text-align:center">申购/赎回币种总量</td>
</tr>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">ett名称</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">订单类型</td>
</tr>
<tr>
<td style="text-align:center">created_at</td>
<td style="text-align:center">订单创建时间</td>
</tr>
<tr>
<td style="text-align:center">status</td>
<td style="text-align:center">订单状态(open 新订单 process 申赎中 done 已完成 cancel 已撤销)</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除，则响应可能因为没有相应的匹配而返回状态码404。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[{
    "order_id": "888845120785408",
    "price": "0.10000000",
    "size": “0.01000000",
    "amount": “0.0000000000000000",
    "quote_currency": "USDT",
    "ett": "OK06",
    "type": 1,
    "created_at": "2016-12-08T20:02:28.53864Z",
    "status": "open"
},{
    "order_id": "885845120785408",
    "price": "0.10000000",
    "size": “0.01000000",
    "amount": “0.0000000000000000",
    "quote_currency": "USDT",
    "ett": "OK06",
    "type": 1,
    "created_at": "2016-12-08T20:02:28.53864Z",
    "status": "open"
},{
    "order_id": "888845120785308",
    "price": "0.10000000",
    "size": “0.01000000",
    "amount": “0.0000000000000000",
    "quote_currency": "USDT",
    "ett": "OK06",
    "type": 1,
    "created_at": "2016-12-08T20:02:28.53864Z",
    "status": "done"
}]
</code></pre></div></div></div>







<h3 id="ett-order_information">获取订单信息</h3>
<p>通过订单ID获取单个订单信息。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/orders/<order-id></order-id></p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order_id</td>
<td style="text-align:center">订单ID</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">order_id</td>
<td style="text-align:center">订单ID</td>
</tr>
<tr>
<td style="text-align:center">price</td>
<td style="text-align:center">价格</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">ett数量</td>
</tr>
<tr>
<td style="text-align:center">amount</td>
<td style="text-align:center">申购/赎回币种总量</td>
</tr>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">ett名称</td>
</tr>
<tr>
<td style="text-align:center">type</td>
<td style="text-align:center">订单类型</td>
</tr>
<tr>
<td style="text-align:center">created_at</td>
<td style="text-align:center">订单创建时间</td>
</tr>
<tr>
<td style="text-align:center">status</td>
<td style="text-align:center">订单状态</td>
</tr>
</tbody>
</table>
<h5 id="解释说明">解释说明</h5>
<p>本接口只能查询最近两天的已成交和已撤销订单信息。</p>
<p>如果订单在其生命周期内没有任何成交，其记录可能被清除，则响应可能因为没有相应的匹配而返回状态码404。</p>
<p>未成交的订单可能会根据市场情况在你发起请求和服务器响应之间改变状态。</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
    "order_id": "888845020785408",
    "price": "0.10000000",
    "size": “0.01000000",
    "amount": “0.0000000000000000",
    "quote_currency": "USDT",
    "ett": "OK06",
    "type": 1,
    "created_at": "2016-12-08T20:02:28.53864Z",
    "status": "done"
}
</code></pre></div></div></div>









<h3 id="ett-combination">获取组合成分</h3>
<p>获取ett的组合成分信息。此接口为公共接口，不需要身份验证。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/constituents/&lt; ett &gt;</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">[非必填]ett名称如ok06ett</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">net_value</td>
<td style="text-align:center">ett美元净值</td>
</tr>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">ett名称</td>
</tr>
<tr>
<td style="text-align:center">amount</td>
<td style="text-align:center">每份ett包含币种成分数量</td>
</tr>
<tr>
<td style="text-align:center">currency</td>
<td style="text-align:center">ett包含币种成分</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{

"net_value": 100,

"ett": “OK06",

"constituents": [


    {

        "amount": 0.14353453,
        "currency": "btc"
    },

    {
        "amount": 0.14353453,
        "currency": "ltc"

    },

    {

        "amount": 0.14353453,
        "currency": "eth"
    }
 ]
}
</code></pre></div></div></div>











<h3 id="ett-history_price">获取ETT清算历史定价</h3>
<p>获取ETT的清算历史定价。此接口为公共接口，不需要身份验证。</p>
<h5 id="http请求">HTTP请求</h5>
<p>GET /api/ett/v3/define-price/&lt;ett&gt;</p>
<h5 id="请求参数">请求参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ett</td>
<td style="text-align:center">基金名称，当前只有ok06ett</td>
</tr>
</tbody>
</table>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th style="text-align:center">参数名</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">date</td>
<td style="text-align:center">该基金产品清算时间</td>
</tr>
<tr>
<td style="text-align:center">price</td>
<td style="text-align:center">该基金产品清算时价格</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>[

{
    "date": 1523874826000,

    "price": 0.883423

},
{

    "date": 1523874826000,

    "price": 0.883423

},

{
    "date": 1523874826000,

    "price": 0.883423
}
]
</code></pre></div></div></div>










<h3 id="error-Error_Code">这里是RestAPI 错误码</h3>
<h4 id="error-public">公共错误码（30000-31000）</h4>
<p>v3API将使用统一30000开头的错误码</p>
<p>公共错误码包括签名以及各个业务线统一的错误码</p>
<table>
<thead>
<tr>
<th>错误提示</th>
<th>错误码</th>
<th>http状态码</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求头"OK_ACCESS_KEY"不能为空</td>
<td>30001</td>
<td>400</td>
</tr>
<tr>
<td>请求头"OK_ACCESS_SIGN"不能为空</td>
<td>30002</td>
<td>400</td>
</tr>
<tr>
<td>请求头"OK_ACCESS_TIMESTAMP"不能为空</td>
<td>30003</td>
<td>400</td>
</tr>
<tr>
<td>请求头"OK_ACCESS_PASSPHRASE"不能为空</td>
<td>30004</td>
<td>400</td>
</tr>
<tr>
<td>无效的OK_ACCESS_TIMESTAMP</td>
<td>30005</td>
<td>400</td>
</tr>
<tr>
<td>无效的OK_ACCESS_KEY</td>
<td>30006</td>
<td>400</td>
</tr>
<tr>
<td>无效的Content_Type，请使用“application/json”格式</td>
<td>30007</td>
<td>400</td>
</tr>
<tr>
<td>请求时间戳过期</td>
<td>30008</td>
<td>400</td>
</tr>
<tr>
<td>系统错误</td>
<td>30009</td>
<td>500</td>
</tr>
<tr>
<td>api 校验失败</td>
<td>30010</td>
<td>401</td>
</tr>
<tr>
<td>无效的ip</td>
<td>30011</td>
<td>400</td>
</tr>
<tr>
<td>无效的授权</td>
<td>30012</td>
<td>401</td>
</tr>
<tr>
<td>无效的sign</td>
<td>30013</td>
<td>401</td>
</tr>
<tr>
<td>请求太频繁</td>
<td>30014</td>
<td>429</td>
</tr>
<tr>
<td>请求头"OK_ACCESS_PASSPHRASE"错误</td>
<td>30015</td>
<td>400</td>
</tr>
<tr>
<td>您使用的是v1的apiKey，请调用v1接口。若您希望调用v3接口，请注册v3的apiKey。</td>
<td>30016</td>
<td>400</td>
</tr>
<tr>
<td>apikey所属broker ID不匹配</td>
<td>30017</td>
<td>400</td>
</tr>
<tr>
<td>apikey所属域名不匹配</td>
<td>30018</td>
<td>400</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>描述</th>
<th>错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>body 不能为空</td>
<td>30020</td>
<td>400</td>
<td>Post 请求body不能为空</td>
</tr>
<tr>
<td>json数据格式错误</td>
<td>30021</td>
<td>400</td>
<td>非法的json数据</td>
</tr>
<tr>
<td>{0}参数不能为空 必填参数不能为空</td>
<td>30023</td>
<td>400</td>
<td>（各个业务接口返回各个接口的参数）</td>
</tr>
<tr>
<td>{0}参数不能为空 参数值填写错误</td>
<td>30024</td>
<td>400</td>
<td>（各个业务接口返回各个接口的参数）</td>
</tr>
<tr>
<td>{0}参数类型错误</td>
<td>30025</td>
<td>400</td>
<td>（各个业务接口返回各个接口的参数）</td>
</tr>
<tr>
<td>用户请求频率过快，超过该接口允许的限额</td>
<td>30026</td>
<td>429</td>
<td>掉用时超过频率限制</td>
</tr>
<tr>
<td>登录失败</td>
<td>30027</td>
<td>401</td>
<td>操作了别人的订单</td>
</tr>
<tr>
<td>非本人操作</td>
<td>30028</td>
<td>400</td>
<td>Userid错误等</td>
</tr>
<tr>
<td>用户被冻结</td>
<td>30029</td>
<td>400</td>
<td>用户被冻结</td>
</tr>
<tr>
<td>请求接口失败，请您重试</td>
<td>30030</td>
<td>400</td>
<td>请求接口失败，请您重试</td>
</tr>
<tr>
<td>币种不存在</td>
<td>30031</td>
<td>400</td>
<td>请求的币种不存在</td>
</tr>
<tr>
<td>币对不存在</td>
<td>30032</td>
<td>400</td>
<td>请求的币对不存在</td>
</tr>
<tr>
<td>券商域名不存在</td>
<td>30033</td>
<td>400</td>
<td>验证apikey所属交易所，为空，报这个错误</td>
</tr>
<tr>
<td>券商ID不存在</td>
<td>30034</td>
<td>400</td>
<td>验证apikey所属交易所ID，为空，报这个错误</td>
</tr>
<tr>
<td>该网站暂不支持交易</td>
<td>30035</td>
<td>400</td>
<td>该交易所请求，交易时，如果该交易已关闭，则提示报这个错误</td>
</tr>
<tr>
<td>没有相应数据</td>
<td>30036</td>
<td>400</td>
<td>查询接口时，没有相应数据可以返回（各个接口返回各个接口的内容）</td>
</tr>
<tr>
<td>用户不存在（新增）</td>
<td>30038</td>
<td>400</td>
<td>无法找到用户的信息</td>
</tr>
<tr>
<td>接口已下线或无法使用</td>
<td>30037</td>
<td>400</td>
<td>接口已下线或无法使用</td>
</tr>
<tr>
<td>成功</td>
<td>0</td>
<td>200</td>
<td>下单成功，撤单成功，操作成功等</td>
</tr>
</tbody>
</table>
<h4 id="error-futures">交割合约错误码（32000-33000）</h4>
<table>
<thead>
<tr>
<th>描述</th>
<th>错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>合约账户被冻结</td>
<td>32001</td>
<td>400</td>
<td>当用户合约账户被冻结时</td>
</tr>
<tr>
<td>用户合约账户不存在</td>
<td>32002</td>
<td>400</td>
<td>当用户只是注册了账号没有开通合约</td>
</tr>
<tr>
<td>撤单中，请耐心等待</td>
<td>32003</td>
<td>400</td>
<td>当用户撤单时，进行其他操作</td>
</tr>
<tr>
<td>您当前没有未成交的订单</td>
<td>32004</td>
<td>400</td>
<td>当用户查询未成交订单时</td>
</tr>
<tr>
<td>超过最大下单量</td>
<td>32005</td>
<td>400</td>
<td>当用户下单量超过规定数量会出现该异常</td>
</tr>
<tr>
<td>委托价格或触发价格超过100万美元</td>
<td>32006</td>
<td>400</td>
<td>下单当用户委托价格或触发价格超过100万美元</td>
</tr>
<tr>
<td>合约相同方向只支持一个杠杆</td>
<td>32007</td>
<td>400</td>
<td>当用户有10倍杠杆的持仓，在开20倍的时候等</td>
</tr>
<tr>
<td>当前最多可开仓位（全仓）</td>
<td>32008</td>
<td>400</td>
<td>当用户开仓(全仓)的时候大于最多可开仓位</td>
</tr>
<tr>
<td>当前最多可开仓位（逐仓）</td>
<td>32009</td>
<td>400</td>
<td>当用户开仓(逐仓)的时候大于最多可开仓位</td>
</tr>
<tr>
<td>当前有持仓，无法设置杠杆</td>
<td>32010</td>
<td>400</td>
<td>例如当用户10倍杠杆开空持仓，在设置杠杆时，不能在改成20 倍杠杆</td>
</tr>
<tr>
<td>虚拟合约状态错误</td>
<td>32011</td>
<td>400</td>
<td>使用了过期的合约</td>
</tr>
<tr>
<td>合约订单更新错误</td>
<td>32012</td>
<td>400</td>
<td>撤单完订单状态更新</td>
</tr>
<tr>
<td>币种类型为空</td>
<td>32013</td>
<td>400</td>
<td>币种类型为空</td>
</tr>
<tr>
<td>您的平仓张数大于该仓位的可平张数</td>
<td>32014</td>
<td>400</td>
<td>您的平仓张数大于该仓位的可平张数</td>
</tr>
<tr>
<td>开仓前保证金率低于100%</td>
<td>32015</td>
<td>400</td>
<td>开仓的是保证金率低于100%</td>
</tr>
<tr>
<td>开仓后保证金率低于100%</td>
<td>32016</td>
<td>400</td>
<td>开仓后的是保证金率低于100%</td>
</tr>
<tr>
<td>暂无对手价</td>
<td>32017</td>
<td>400</td>
<td>没有对手价格</td>
</tr>
<tr>
<td>下单数量不足1张，请重新选择</td>
<td>32018</td>
<td>400</td>
<td>下单size 小于1</td>
</tr>
<tr>
<td>下单价格高于前一分钟的103%或低于97%</td>
<td>32019</td>
<td>400</td>
<td>开多的时候超过103% 开低的时候低于97%</td>
</tr>
<tr>
<td>价格不在限价范围内</td>
<td>32020</td>
<td>400</td>
<td>价格不在限价范围内</td>
</tr>
<tr>
<td>杠杆比率错误</td>
<td>32021</td>
<td>400</td>
<td>设置杆杆的时候不是设置的10倍或者20倍</td>
</tr>
<tr>
<td>根据相关法律，您所在的国家或地区不能使用该功能</td>
<td>32022</td>
<td>400</td>
<td>有的地区不能开合约</td>
</tr>
<tr>
<td>账户存在借款</td>
<td>32023</td>
<td>400</td>
<td>账户存在借款</td>
</tr>
<tr>
<td>合约交割中，无法下单</td>
<td>32024</td>
<td>400</td>
<td>交割的时候无法下单</td>
</tr>
<tr>
<td>合约清算中，无法下单</td>
<td>32025</td>
<td>400</td>
<td>清算的时候无法下单</td>
</tr>
<tr>
<td>您的账户已被限制开仓操作</td>
<td>32026</td>
<td>400</td>
<td>禁止开仓</td>
</tr>
<tr>
<td>订单信息不存在</td>
<td>32029</td>
<td>400</td>
<td>重复撤单，撤的订单不对等</td>
</tr>
<tr>
<td>用户被爆仓冻结</td>
<td>32028</td>
<td>400</td>
<td>用户爆仓冻结</td>
</tr>
<tr>
<td>撤单超过20</td>
<td>32027</td>
<td>400</td>
<td>撤单的时候数量超过限制</td>
</tr>
</tbody>
</table>
<h4 id="error-spot">币币和杠杆错误码（33000-34000）</h4>
<table>
<thead>
<tr>
<th>描述</th>
<th>错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>您尚未开通此币种对应杠杆业务</td>
<td>33001</td>
<td>400</td>
<td>没有开通该币种杠杆业务时调接口会报错</td>
</tr>
<tr>
<td>您的此币种对应杠杆账号已被冻结</td>
<td>33002</td>
<td>400</td>
<td>杠杆账户被冻结</td>
</tr>
<tr>
<td>没有借款余额</td>
<td>33003</td>
<td>400</td>
<td>没有足够的余额进行借币</td>
</tr>
<tr>
<td>借币数量不能小于最小借币数</td>
<td>33004</td>
<td>400</td>
<td>借币时借币的数量</td>
</tr>
<tr>
<td>还款金额不能小于等于0</td>
<td>33005</td>
<td>400</td>
<td>还款金额不对</td>
</tr>
<tr>
<td>没有该借币订单</td>
<td>33006</td>
<td>400</td>
<td>还币或者查询的时候没有借币订单会报此错误</td>
</tr>
<tr>
<td>不存在该状态</td>
<td>33007</td>
<td>400</td>
<td>没有该状态值</td>
</tr>
<tr>
<td>借币数量不能大于您的可借数量</td>
<td>33008</td>
<td>400</td>
<td>借币的数量不合法</td>
</tr>
<tr>
<td>用户ID为空</td>
<td>33009</td>
<td>400</td>
<td>user ID为空</td>
</tr>
<tr>
<td>价格发现第二阶段您不可撤单</td>
<td>33010</td>
<td>400</td>
<td>集合竞价时候不可以撤单</td>
</tr>
<tr>
<td>没有最新行情信息</td>
<td>33011</td>
<td>400</td>
<td>没有行情数据</td>
</tr>
<tr>
<td>撤单失败</td>
<td>33012</td>
<td>400</td>
<td>撤单失败</td>
</tr>
<tr>
<td>下单失败</td>
<td>33013</td>
<td>400</td>
<td>下单失败</td>
</tr>
<tr>
<td>订单不存在</td>
<td>33014</td>
<td>400</td>
<td>重复撤单，订单号不对等</td>
</tr>
<tr>
<td>批量操作超过最大数量限制</td>
<td>33015</td>
<td>400</td>
<td>批量下单，批量撤单时候会出现</td>
</tr>
<tr>
<td>该币对没有开通杠杆业务</td>
<td>33016</td>
<td>400</td>
<td>币对没有开通杠杆业务</td>
</tr>
<tr>
<td>下单大于最大可用余额</td>
<td>33017</td>
<td>400</td>
<td>下单余额不足</td>
</tr>
<tr>
<td>该参数值填写错误，要填写小于1的数值</td>
<td>33018</td>
<td>400</td>
<td>获取深度接口时参数不对</td>
</tr>
<tr>
<td>暂不支持该请求</td>
<td>33020</td>
<td>400</td>
<td>有些交易所不支持杠杆业务</td>
</tr>
<tr>
<td>币与币对不匹配</td>
<td>33021</td>
<td>400</td>
<td>还币时币与币对不匹配</td>
</tr>
<tr>
<td>币对与订单不匹配</td>
<td>33022</td>
<td>400</td>
<td>还币时币与订单不匹配</td>
</tr>
<tr>
<td>价格发现期间您只可下市价单</td>
<td>33023</td>
<td>400</td>
<td>集合竞价时只可以下市价单</td>
</tr>
<tr>
<td>交易金额小于最小交易值</td>
<td>33024</td>
<td>400</td>
<td>下单时交易金额不对</td>
</tr>
<tr>
<td>没有基准币数量</td>
<td>33025</td>
<td>400</td>
<td>下单时上币时候币对配置不全</td>
</tr>
<tr>
<td>订单已完成交易</td>
<td>33026</td>
<td>400</td>
<td>撤单时完成交易的订单不能撤单</td>
</tr>
<tr>
<td>订单已撤销或者撤销中</td>
<td>33027</td>
<td>400</td>
<td>撤单时已经撤销和撤销中的订单不能撤单</td>
</tr>
<tr>
<td>交易价格小数位数超过限制</td>
<td>33028</td>
<td>400</td>
<td>下单时金额小数位超过限制</td>
</tr>
<tr>
<td>交易数量小数位数超过限制</td>
<td>33029</td>
<td>400</td>
<td>下单时数量小数位超过限制</td>
</tr>
</tbody>
</table>
<h4 id="error-account">钱包错误码（34000-35000）</h4>
<table>
<thead>
<tr>
<th>描述</th>
<th>错误码</th>
<th>http状态码</th>
<th>场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>提现冻结</td>
<td>34001</td>
<td>400</td>
<td>提现接口，账户被冻结</td>
</tr>
<tr>
<td>请先添加提现地址</td>
<td>34002</td>
<td>400</td>
<td>提现接口，地址未添加</td>
</tr>
<tr>
<td>该币种暂不支持提现至XX，敬请谅解</td>
<td>34003</td>
<td>400</td>
<td>提现接口，地址不正确</td>
</tr>
<tr>
<td>提现手续费小于最小值</td>
<td>34004</td>
<td>400</td>
<td>提现接口，手续费输入有误</td>
</tr>
<tr>
<td>提现手续费大于最大值</td>
<td>34005</td>
<td>400</td>
<td>提现接口，提现手续费输入有误</td>
</tr>
<tr>
<td>提现金额小于最小提现金额</td>
<td>34006</td>
<td>400</td>
<td>最小提现金额提现接口，提现金额输入有误</td>
</tr>
<tr>
<td>提现金额大于单笔提现最大金额</td>
<td>34007</td>
<td>400</td>
<td>单笔提现最大金额提现接口，提现金额输入有误</td>
</tr>
<tr>
<td>您的余额不足</td>
<td>34008</td>
<td>400</td>
<td>划转和提现接口，余额不足</td>
</tr>
<tr>
<td>今日提现金额累计超过每日限额</td>
<td>34009</td>
<td>400</td>
<td>提现接口，提现金额超限</td>
</tr>
<tr>
<td>转账金额必须大于零</td>
<td>34010</td>
<td>400</td>
<td>划转接口，金额输入不正确</td>
</tr>
<tr>
<td>不符合条件</td>
<td>34011</td>
<td>400</td>
<td>划转提现接口，不符合条件，如kyc等级不够</td>
</tr>
<tr>
<td>NEO最小提现数量为1，且提现数量必须为整数</td>
<td>34012</td>
<td>400</td>
<td>提现接口，某些币特殊限制</td>
</tr>
<tr>
<td>需要传</td>
<td>34013</td>
<td>400</td>
<td>划转接口，转入或转出是币币杠杆时instrument ID未传</td>
</tr>
<tr>
<td>划转受限</td>
<td>34014</td>
<td>400</td>
<td>划转接口，划转资金受限</td>
</tr>
<tr>
<td>子账户不存在</td>
<td>34015</td>
<td>400</td>
<td>划转接口，转入或转出是子账户时，子账户不存在</td>
</tr>
<tr>
<td>划转冻结</td>
<td>34016</td>
<td>400</td>
<td>划转接口，源或目的不允许划转</td>
</tr>
<tr>
<td>账户冻结</td>
<td>34017</td>
<td>400</td>
<td>划转和提现接口，源或目的不允许划转</td>
</tr>
<tr>
<td>交易密码错误</td>
<td>34018</td>
<td>400</td>
<td>交易密码错误</td>
</tr>
<tr>
<td>您需要绑定邮箱后，才能提现</td>
<td>34019</td>
<td>400</td>
<td>提现接口，需要先绑定邮箱</td>
</tr>
<tr>
<td>您需设置资金密码后，才能提现</td>
<td>34020</td>
<td>400</td>
<td>提现接口，需要先设置资金密码</td>
</tr>
<tr>
<td>不是认证地址</td>
<td>34021</td>
<td>400</td>
<td>提现接口，不是认证的地址</td>
</tr>
<tr>
<td>子账号不允许提现</td>
<td>34022</td>
<td>400</td>
<td>提现接口，子账号不允许提现</td>
</tr>
</tbody>
</table>
<h3 id="swap_ws-README">WebsocketAPI</h3>
<h3 id="swap_ws-all">永续合约</h3>
<p>以下是永续合约V3 WebscoketAPI，后续会陆续上线现货和交割合约V3 WebscoketAPI， 敬请期待。</p>
<h3 id="swap_ws-general">概述</h3>
<p>WebSocket是HTML5一种新的协议(Protocol)。它实现了客户端与服务器全双工通信，
使得数据可以快速地双向传播。通过一次简单的握手就可以建立客户端和服务器连接，
服务器根据业务规则可以主动推送信息给客户端。其优点如下：</p>
<ul>
<li>客户端和服务器进行数据传输时，请求头信息比较小，大概2个字节。</li>
<li>客户端和服务器皆可以主动地发送数据给对方。</li>
<li>不需要多次创建TCP请求和销毁，节约宽带和服务器的资源。</li>
</ul>
<p><strong>强烈建议开发者使用WebSocket API获取市场行情和买卖深度等信息。</strong></p>
<p>地址：<em>wss://real.okex.com:10442/ws/v3</em></p>
<p>访问时需要科学上网</p>
<p>连接说明：</p>
<p> 所有返回数据都进行了压缩，需要用户将接收到的数据进行解压。解压缩请参考<a href="https://github.com/okcoin-okex/API-docs-OKEx.com/tree/master/demo" target="_blank">demo</a> </p>
<p> 连接上ws后30s未订阅或订阅后30s内服务器未向用户推送数据，系统会自动断开连接</p>
<h3 id="swap_ws-format">指令格式</h3>
<p>请求格式：</p>
<pre><code class="lang-json">{<span class="hljs-string">"op"</span>: <span class="hljs-string">"&lt;value&gt;"</span>, <span class="hljs-string">"args"</span>: [<span class="hljs-string">"&lt;value1&gt;"</span>,<span class="hljs-string">"&lt;value2&gt;"</span>]}
</code></pre>
<p>其中 op 的取值为   1--subscribe 订阅； 2-- unsubscribe 取消订阅 ；3--login 登录</p>
<p>args: 取值为频道名，可以定义一个或者多个频道</p>
<p>成功响应格式:</p>
<pre><code class="lang-json">  {<span class="hljs-string">"event"</span>: <span class="hljs-string">"&lt;value&gt;"</span>,<span class="hljs-string">"channel"</span>:<span class="hljs-string">"&lt;value&gt;"</span>}
  {<span class="hljs-string">"table"</span>:<span class="hljs-string">"channel"</span>,<span class="hljs-string">"data"</span>:<span class="hljs-string">"[{"</span>&lt;value1&gt;<span class="hljs-string">","</span>&lt;value2&gt;<span class="hljs-string">"}]"</span>}
</code></pre>
<p>其中swap/depth 频道为了区分是首次全量和后续的增量返回格式将会是</p>
<pre><code class="lang-json">{<span class="hljs-string">"table"</span>:<span class="hljs-string">"channel"</span>, <span class="hljs-string">"action"</span>:<span class="hljs-string">"&lt;value&gt;"</span>,<span class="hljs-string">"data"</span>:<span class="hljs-string">"[{"</span>&lt;value1&gt;<span class="hljs-string">","</span>&lt;value2&gt;<span class="hljs-string">"}]"</span>}
</code></pre>
<p>失败响应格式:</p>
<pre><code class="lang-json">{<span class="hljs-string">"event"</span>:<span class="hljs-string">"error"</span>,<span class="hljs-string">"message"</span>:<span class="hljs-string">"&lt;error_message&gt;"</span>,<span class="hljs-string">"error_code"</span>:<span class="hljs-string">"&lt;error_code&gt;"</span>}
</code></pre>
<h3 id="swap_ws-sub">订阅</h3>
<p>  用户可以选择订阅一个或者多个频道，</p>
<pre><code class="lang-json">{<span class="hljs-string">"op"</span>: <span class="hljs-string">"subscribe"</span>, <span class="hljs-string">"args"</span>: [<span class="hljs-string">"&lt;SubscriptionTopic&gt;"</span>]}
</code></pre>
<p>说明 ： op  的取值是   subscribe </p>
<p>args 数组内容为频道名称  ：<code>&lt;channelname&gt;:&lt;filter&gt;</code></p>
<p>其中channelname 是以 business/channel组成</p>
<p>永续推送业务business为swap， channel为此业务下每个具体的名称，如果channel的名字不能以一个字母区分将会以 " _ " 进行连接</p>
<p>例：  </p>
<pre><code class="lang-json"><span class="hljs-string">"swap/ticker:BTC-USD-SWAP"</span>or <span class="hljs-string">"swap/ price_range: BTC-USD-SWAP"</span>
</code></pre>
<p>filter 是可筛选数据，具体参考每个频道说明</p>
<p>示例：</p>
<p>send: </p>
<pre><code> {"op": "subscribe", "args": ["swap/ticker:BTC-USD-SWAP", "swap/candle60s:BTC-USD-SWAP"]}
</code></pre><p>response:</p>
<pre><code> {"event": subscribe,"channel":"swap/ticker:BTC-USD-SWAP"}
 {"event": subscribe,"channel":"swap/candle60s:BTC-USD-SWAP"}
 {"table":"swap/ticker","data":[{"high_24h":"24711","instrument_id":"BTC-USD-SWAP","last":"22621","low_24h":"22478.92",
 "timestamp":"2018-11-22T09:27:31.351Z","volume_24h":"85"}]}
 {"table":"swap/candle60s","data":[{"instrument_id":"BTC-USD-SWAP","candle":
[1542881280000,"22391.96","22391.96","22391.96","22391.96","0","0"]}]}
</code></pre><h3 id="swap_ws-unsub">取消订阅</h3>
<p>可以取消一个或者多个频道</p>
<pre><code>{"op": "unsubscribe", "args": [&lt;SubscriptionTopic&gt;]}
</code></pre><p>例如：</p>
<p>请求：</p>
<pre><code>{"op": "unsubscribe", "args": ["swap/ticker: BTC-USD-SWAP"]}
</code></pre><p>返回：</p>
<pre><code>{"event":"unsubscribe","channel":"swap/ticker: BTC-USD-SWAP"}
</code></pre><h3 id="swap_ws-login">登录</h3>
<p> 签名方式说明参考API概述里的<a href="https://www.okex.com/docs/zh/#summary-limit">验证</a>部分</p>
<p> 登录订阅格式：</p>
<pre><code class="lang-json">{<span class="hljs-string">"op"</span>:<span class="hljs-string">"login"</span>,<span class="hljs-string">"args"</span>:[<span class="hljs-string">"&lt;api_key&gt;"</span>,<span class="hljs-string">"&lt;passphrase&gt;"</span>,<span class="hljs-string">"&lt;timestamp&gt;"</span>,<span class="hljs-string">"&lt;sign&gt;"</span>]
</code></pre>
<p>响应：</p>
<pre><code class="lang-json">{<span class="hljs-string">"event"</span>:<span class="hljs-string">"login"</span>,<span class="hljs-string">"success"</span>:<span class="hljs-string">"true"</span>}
</code></pre>
<p>例：</p>
<pre><code class="lang-json">{<span class="hljs-string">"op"</span>:<span class="hljs-string">"login"</span>,<span class="hljs-string">"args"</span>:[<span class="hljs-string">"985d5b66-57ce-40fb-b714-afc0b9787083"</span>,<span class="hljs-string">"123456"</span>,<span class="hljs-string">"1538054050.975"</span>,
<span class="hljs-string">"7L+zFQ+CEgGu5rzCj4+BdV2/uUHGqddA9pI6ztsRRPs="</span>]}
</code></pre>
<p><strong>api_key</strong>:为用户申请的APIKEY</p>
<p><strong>passphrase</strong>:为申请v3 api时所填写</p>
<p><strong>timestamp</strong>:为时间戳（是unit时间戳，单位是秒， 时间戳30秒后会过期， 推荐使用time endponit 查询api 服务器的时间，如果你的服务器时间和api 服务器时间有偏差的话）</p>
<p><strong>sign</strong>:为签名字符串，签名规则参照请求说明（API概述验证部分）</p>
<p><strong>其中timestamp示例</strong>：const timestamp = ‘’ + Date.now() / 1000</p>
<p><strong>其中sign 示例</strong> ：  sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp +'GET'+ '/users/self/verify', secret)) </p>
<p><strong>method</strong>一律默认为'GET。</p>
<p><strong>requestPath</strong> 一律默认为'/users/self/verify'</p>
<p>如果登录失败会自动断开链接</p>
<h3 id="swap_ws-limit">连接限制</h3>
<p><strong>连接限制</strong>：1次/s</p>
<p><strong>订阅限制</strong>：每小时40次</p>
<p>   连接上ws后如果一直没有数据返回，30s 后自动断开链接， 建议用户进行以下操作:</p>
<p>   1，每次接收到消息后，用户设置一个定时器 ，定时N秒。</p>
<p>   2，如果定时器被触发（N 秒内没有收到新消息），发送字符串 'ping'。</p>
<p>   3，期待一个文字字符串'pong'作为回应。如果在 N秒内未收到，请发出错误或重新连接。</p>
<p>   出现网络问题会自动断开连接</p>
<h3 id="swap_ws-checksum">校验和机制</h3>
<p>此功能可以帮助用户校验深度数据的准确性</p>
<p> 每次推送depth频道的深度数据都有时间戳，且有checksum 校验（即checksum值）。
 用户订阅depth 频道首次会接收到200档深度，后续推送的都是增量数据。checksum值为：每次增量更新后此200档深度的前 25档 bids 和 asks组成的字符串的crc32值，
 用户可以拿自己的checksum的值和订阅的checksum值进行比较，如果不匹配可以重新订阅。</p>
<p> 深度合并规则说明：
 首次发送200档深度数据，后续每次发送增量的数据。去遍历200档中的ask和bids的price ,如果发现有相同价格 则看数量，数量为0删除此深度，数量有变化则替换此数据； 无相同价格则按照顺序排序。</p>
<p>计算说明: </p>
<p>checksum的字符串都是以冒号连接的ask和bid中的price和数量，例如：</p>
<p>例子1：bid和ask成对档的情况下，要校验的字符串为：bid:ask:bid:ask:... </p>
<pre><code>
"data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [["4000", "9", 10, 3],[ "5000","8",3,4 ],....],
        "bids": [
            ["2000", "7", 0, 3],[ "3000","6",3,4 ]....
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": 200119424
    }]
</code></pre><p>该例子对应的checksum字符串为：2000:7:4000:9:3000:6:5000:8</p>
<p>例子2：bid和ask不成对档的情况 ，要校验的字符串为：bid:ask:ask:ask:... </p>
<pre><code>"data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [["4000", "9", 10, 3],[ "5000","8",3,4 ],[ "6000","8",3,4 ]....],
        "bids": [
            ["2000", "7", 0, 3]
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": -1200119424
    }]
</code></pre><p>此例子对应的checksum string 将会是 2000:7:4000:9:5000:8:6000:8</p>
<p>depth 频道用户收到推送数据为：</p>
<p>首次200档</p>
<pre><code>
{
    "table": "swap/depth",
    "action": "partial",
    "data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [["3983", "888", 10, 3],....],
        "bids": [
            ["3983", "789", 0, 3],....
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": 200119424
    }]
}
</code></pre><p>增量：</p>
<pre><code>{
    "table": "swap/depth",
    "action": "update",
    "data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [],
        "bids": [
            ["3983", "789", 0, 3]
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": -1200119424
    }]
}
</code></pre><h3 id="swap_ws-channel">频道说明</h3>
<p>无需登录的频道包括：行情频道，K线频道，交易数据频道，资金费率频道，限价范围频道，深度数据频道，标记价格频道</p>
<p>需登录的频道包括：用户账户频道，用户交易频道，用户持仓频道</p>
<p>无需登录的频道名称如下：</p>
<p>swap/ticker  // 行情数据频道</p>
<p>swap/candle60s  // 1分钟k线数据频道</p>
<p>swap/candle180s // 3分钟k线数据频道</p>
<p>swap/candle300s // 5分钟k线数据频道</p>
<p>swap/candle900s // 15分钟k线数据频道</p>
<p>swap/candle1800s // 30分钟k线数据频道</p>
<p>swap/candle3600s // 1小时k线数据频道</p>
<p>swap/candle7200s // 2小时k线数据频道</p>
<p>swap/candle14400s // 4小时k线数据频道</p>
<p>swap/candle21600 //  6小时k线数据频道</p>
<p>swap/candle43200s // 12小时k线数据频道</p>
<p>swap/candle86400s // 1day k线数据频道</p>
<p>swap/candle604800s  // 1week k线数据频道</p>
<p>swap/trade // 交易信息频道</p>
<p>swap/funding_rate//资金费率频道</p>
<p>swap/price_range//限价范围频道</p>
<p>swap/depth  //深度数据频道，首次200档，后续增量</p>
<p>swap/depth5 //深度数据频道，每次返回前5档</p>
<p>swap/mark_price// 标记价格频道</p>
<p>需登录的频道如下</p>
<p>swap/account  //用户账户信息频道</p>
<p>swap/positon  //用户持仓信息频道</p>
<p>swap/order    //用户交易数据频道</p>
<h3 id="swap_ws-ticker">ticker频道</h3>
<p> 获取平台全部永续合约的最新成交价、买一价、卖一价和24交易量</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/ticker:BTC-USD-SWAP”}
</code></pre><p>其中swap/ticker为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>参数名</strong></td>
<td><strong>参数类型</strong></td>
<td><strong>描述</strong></td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>high_24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>volume_24h</td>
<td>String</td>
<td>24小时成交量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/ticker”,
        ”data”: [{
                ”high_24h”: “24711”,
                ”instrument_id”: “BTC-USD-SWAP”,
                ”last”: “22621”,
                ”low_24h”: “22478.92”,
                ”timestamp”: “2018-11-22T09:27:31.351Z”,
                ”volume_24h”: “85”
        }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-candel">K线频道</h3>
<p>获取合约的K线数据</p>
<p>频道列表：   </p>
<p> swap/candle60s  // 1分钟k线数据频道</p>
<p> swap/candle180s // 3分钟k线数据频道</p>
<p> swap/candle300s // 5分钟k线数据频道</p>
<p> swap/candle900s // 15分钟k线数据频道</p>
<p> swap/candle1800s // 30分钟k线数据频道</p>
<p> swap/candle3600s // 1小时k线数据频道</p>
<p> swap/candle7200s // 2小时k线数据频道</p>
<p> swap/candle14400s // 4小时k线数据频道</p>
<p> swap/candle21600 //  6小时k线数据频道</p>
<p> swap/candle43200s // 12小时k线数据频道</p>
<p> swap/candle86400s // 1dayk线数据频道</p>
<p> swap/candle604800s  // 1week k线数据频道</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/candle60s:BTC-USD-SWAP”}
</code></pre><p>其中swap/candle60s为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>String</td>
<td>开始时间</td>
</tr>
<tr>
<td>open</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>high</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>low</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>close</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>交易量(张)</td>
</tr>
<tr>
<td>currency_volume</td>
<td>String</td>
<td>按币折算的交易量</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/candle60s”,
        ”data”: [{
                ”instrument_id”: “BTC-USD-SWAP”,
                ”candle”: [1542881280000, “22391.96”, “22391.96”, “22391.96”,
“22391.96”, “0”, “0”]
        }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-trade">交易频道</h3>
<p>获取最近的成交明细列表。</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/trade:BTC-USD-SWAP”}
</code></pre><p>其中swap/trade为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>trade_id</td>
<td>String</td>
<td>成交id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>成交价格</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>成交方向（buy or sell）</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>成交时间</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>BTC-USD-SWAP</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/trade”,
        ”data”: [
                [{
                        ”instrument_id”: “BTC-USD-SWAP”,
                        ”price”: “22888”,
                        ”side”: “buy”,
                        ”size”: “7”,
                        ”timestamp”: “2018-11-22T03:58:57.709Z”,
                        ”trade_id”: “108223090144493569”
                }]       ]
}
</code></pre></div></div></div>














<h3 id="swap_ws-fee">资金费率频道</h3>
<p>获取合约资金费率</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/funding_rate:BTC-USD-SWAP”}
</code></pre><p>其中swap/funding_rate为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>interest_rate</td>
<td>String</td>
<td>利率</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>funding_time</td>
<td>String</td>
<td>结算时间</td>
</tr>
<tr>
<td>funding_rate</td>
<td>String</td>
<td>资金费率</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/funding_rate”,
        ”data”: [{
                ”funding_rate”: “0.0025”,
                ”funding_time”: “2018-11-22T10:12:59.253Z”,
                ”instrument_id”: “BTC-USD-SWAP”,
                ”interest_rate”: “0.0001”
        }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-range">限价频道</h3>
<p>获取合约当前开仓的最高买价和最低卖价。</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/price_range:BTC-USD-SWAP”}
</code></pre><p>其中swap/ price_range为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
<tr>
<td>lowest</td>
<td>String</td>
<td>最低卖价</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>highest</td>
<td>String</td>
<td>最高买价</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/price_range”,
        ”data”: [{
                ”highest”: “22391.96”,
                ”instrument_id”: “BTC-USD-SWAP”,
                ”lowest”: “20583.40”,
                ”timestamp”: “2018-11-22T08:46:45.016Z”
        }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-depth5">深度5频道</h3>
<p>每次返回前五档的深度数据</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/depth5:BTC-USD-SWAP”}
</code></pre><p>其中swap/ depth5为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>asks</td>
<td>String</td>
<td>卖方深度</td>
</tr>
<tr>
<td>bids</td>
<td>String</td>
<td>买方深度</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>时间戳</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID</td>
</tr>
</tbody>
</table>
<p>[411.8,10,8,4]
411.8为深度价格，10为此价格数量，8为此价格的爆仓单数量，4为此深度由几笔订单组成</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
     "table": "swap/depth5",
     "data": [{
         "asks": [
             ["3986", "7", 0, 1],
             ["3986.9", "198", 0, 2],
             ["3987", "9499", 0, 2],
             ["3987.5", "6455", 0, 5],
             ["3987.8", "501", 0, 1]
         ],
         "bids": [
             ["3983", "12790", 0, 4],
             ["3981.9", "2907", 0, 3],
             ["3981.6", "7963", 0, 1],
             ["3981.5", "9800", 0, 2],
             ["3981", "700", 0, 3]
         ],
         "instrument_id": "BTC-USD-SWAP",
         "timestamp": "2018-12-04T09:51:56.500Z"
     }]
 }
</code></pre></div></div></div>














<h3 id="swap_ws-depth">深度频道</h3>
<p>首次返回200档，后续为增量</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/depth:BTC-USD-SWAP”}
</code></pre><p>其中swap/depth为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>asks</td>
<td>String</td>
<td>卖方深度</td>
</tr>
<tr>
<td>bids</td>
<td>String</td>
<td>买方深度</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>时间戳</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约ID</td>
</tr>
</tbody>
</table>
<p>[411.8,10,8,4]
411.8为深度价格，10为此价格数量，8为此价格的爆仓单数量，4为此深度由几笔订单组成</p>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>首次200档
{
    "table": "swap/depth",
    "action": "partial",
    "data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [["3983", "888", 10, 3],....],
        "bids": [
            ["3983", "789", 0, 3],....
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": 200119424
    }]
}

增量：
{
    "table": "swap/depth",
    "action": "update",
    "data": [{
        "instrument_id": "BTC-USD-SWAP",
        "asks": [],
        "bids": [
            ["3983", "789", 0, 3]
        ],
        "timestamp": "2018-12-04T09:38:36.300Z",
        "checksum": -1200119424
    }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-mark">标记价格频道</h3>
<p>获取标记价格</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/mark_price:BTC-USD-SWAP”}
</code></pre><p>其中swap/ mark_price为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>mark_price</td>
<td>String</td>
<td>标记价格</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
        ”table”: “swap/mark_price”,
        ”data”: [{
                ”instrument_id”: “BTC-USD-SWAP”,
                ”mark_price”: “22616.58”,
                ”timestamp”: “2018-11-22T10:09:31.541Z”
        }]
}
</code></pre></div></div></div>














<h3 id="swap_ws-position">用户持仓频道</h3>
<p>获取用户持仓信息，需用用户登录</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/position:BTC-USD-SWAP”}
</code></pre><p>其中swap/ position为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>liquidation_price</td>
<td>String</td>
<td>预估爆仓价</td>
</tr>
<tr>
<td>position</td>
<td>String</td>
<td>持仓数量</td>
</tr>
<tr>
<td>avail_position</td>
<td>String</td>
<td>可平数量</td>
</tr>
<tr>
<td>avg_cost</td>
<td>String</td>
<td>开仓平均价</td>
</tr>
<tr>
<td>settlement_price</td>
<td>String</td>
<td>结算基准价</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>leverage</td>
<td>String</td>
<td>杠杆</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>side</td>
<td>String</td>
<td>方向（long/short）</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>保证金</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>fixed:逐仓crossed:全仓</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“table”:”swap/position”,
“data”:[
{
“holding”:[
{
“avail_position”:”1.000”,
“avg_cost”:”48.0000”,
“leverage”:”11”,
“liquidation_price”:”52.5359”,
“margin”:”0.018”,
“position”:”1.000”,
“realized_pnl”:”-0.001”,
“settlement_price”:”48.0000”,
“side”:”short”,
“timestamp”:”2018-11-29T02:37:01.963Z”
}],
“instrument_id”:”LTC-USD-SWAP”,
“margin_mode”:”fixed”
}]
}
</code></pre></div></div></div>














<h3 id="swap_ws-account">用户账户频道</h3>
<p>获取账户信息，需用用户登录</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/account:BTC-USD-SWAP”}
</code></pre><p>其中swap/account为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>equity</td>
<td>String</td>
<td>账户权益</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称</td>
</tr>
<tr>
<td>margin</td>
<td>String</td>
<td>已用保证金</td>
</tr>
<tr>
<td>margin_frozen</td>
<td>String</td>
<td>开仓冻结保证金</td>
</tr>
<tr>
<td>margin_ratio</td>
<td>String</td>
<td>保证金率</td>
</tr>
<tr>
<td>realized_pnl</td>
<td>String</td>
<td>已实现盈亏</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>total_avail_balance</td>
<td>String</td>
<td>账户余额</td>
</tr>
<tr>
<td>unrealized_pnl</td>
<td>String</td>
<td>未实现盈亏</td>
</tr>
<tr>
<td>fixed_balance</td>
<td>String</td>
<td>逐仓账户余额</td>
</tr>
<tr>
<td>margin_mode</td>
<td>String</td>
<td>账户类型：逐仓fixed 全仓crossed</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“table”:”swap/account”,
“data”:[
{
“equity”:”333378.858”,
“fixed_balance”:”555.649”,
“instrument_id”:”LTC-USD-SWAP”,
“margin”:”554.017”,
“margin_frozen”:”7.325”,
“margin_mode”:”fixed”,
“margin_ratio”:”0.000”,
“realized_pnl”:”-1.633”,
“timestamp”:”2018-11-26T07:43:52.303Z”,
“total_avail_balance”:”332774.283”,
“unrealized_pnl”:”50.556”
}]
}
</code></pre></div></div></div>














<h3 id="swap_ws-order">用户交易频道</h3>
<p>获取用户交易数据，需用用户登录</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”swap/order:BTC-USD-SWAP”}
</code></pre><p>其中swap/ order为频道名，BTC-USD-SWAP为instrument_id</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>合约名称，如BTC-USD-SWAP</td>
</tr>
<tr>
<td>size</td>
<td>String</td>
<td>委托数量</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>创建时间</td>
</tr>
<tr>
<td>filled_qty</td>
<td>String</td>
<td>成交数量</td>
</tr>
<tr>
<td>fee</td>
<td>String</td>
<td>手续费</td>
</tr>
<tr>
<td>order_id</td>
<td>String</td>
<td>订单id</td>
</tr>
<tr>
<td>price</td>
<td>String</td>
<td>委托价格</td>
</tr>
<tr>
<td>price_avg</td>
<td>String</td>
<td>成交均价</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>订单状态(-1:撤销成功 0:等待成交 1:部分成交 2:完全成交)</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>1:开多 2:开空 3:平多 4:平空</td>
</tr>
<tr>
<td>contract_val</td>
<td>String</td>
<td>合约面值</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{
“table”:”swap/order”,
“data”:[
{
“size”:”1”,
“filled_qty”:”0”,
“price”:”46.1930”,
“fee”:”0.000000”,
“contract_val”:”10”,
“price_avg”:”0.0000”,
“type”:”1”,
“instrument_id”:”LTC-USD-SWAP”,
“order_id”:”65-6e-2e904c43d-0”,
“status”:”0”,
“timestamp”:”2018-11-26T08:02:18.618Z”
}]
}
</code></pre></div></div></div>














<h3 id="index-README">WS公共指数频道</h3>
<p>websocket API 公共指数频道</p>
<h3 id="index-ticker">指数行情</h3>
<p>公共指数频道无需登录，现货，交割合约，永续合约都可参考此频道</p>
<p>获取公共指数行情</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”index/ticker:BTC-USD”}
</code></pre><p>其中index/ticker为频道名，BTC-USD 币对</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>BTC-USD</td>
</tr>
<tr>
<td>last</td>
<td>String</td>
<td>最新成交价</td>
</tr>
<tr>
<td>high_24h</td>
<td>String</td>
<td>24小时最高价</td>
</tr>
<tr>
<td>low_24h</td>
<td>String</td>
<td>24小时最低价</td>
</tr>
<tr>
<td>timestamp</td>
<td>String</td>
<td>系统时间戳</td>
</tr>
<tr>
<td>open_24h</td>
<td>String</td>
<td>24h开盘价</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>{"table":"index/ticker","data":[{"last":"3649.76","high_24h":"3955.4","low_24h":"10","instrument_id":"BTC-USD","open_24h":"3888.68","timestamp":"2018-11-27T10:01:23.341Z"}]}
</code></pre></div></div></div>














<h3 id="index-candel">指数K线</h3>
<p>获取指数的K线数据</p>
<p>频道列表： </p>
<p>index/candle60s //1分钟k线数据频道</p>
<p>index/candle180s //3分钟k线数据频道</p>
<p>index/candle300s //5分钟k线数据频道</p>
<p>index/candle900s //15分钟k线数据频道</p>
<p>index/candle1800s //30分钟k线数据频道</p>
<p>index/candle3600s //1小时k线数据频道</p>
<p>index/candle7200s //2小时k线数据频道</p>
<p>index/candle14400s //4小时k线数据频道</p>
<p>index/candle21600  //6小时k线数据频道</p>
<p>index/candle43200s //12小时k线数据频道</p>
<p>index/candle86400s //1day小时k线数据频道</p>
<p>index/candle604800s //1 week k线数据频道</p>
<h5 id="send示例">send示例</h5>
<pre><code>{“op”:”subscribe”,”args”:”index/candle60s:BTC-USD”}
</code></pre><p>其中index/ticker为频道名，BTC-USD 币对</p>
<div class="api-method"><div class="api-method-definition"><h5 id="返回参数">返回参数</h5>
<table>
<thead>
<tr>
<th><strong>参数名</strong></th>
<th><strong>参数类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>timestamp</td>
<td>String</td>
<td>开始时间</td>
</tr>
<tr>
<td>open</td>
<td>String</td>
<td>开盘价格</td>
</tr>
<tr>
<td>high</td>
<td>String</td>
<td>最高价格</td>
</tr>
<tr>
<td>low</td>
<td>String</td>
<td>最低价格</td>
</tr>
<tr>
<td>close</td>
<td>String</td>
<td>收盘价格</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>交易量(张)</td>
</tr>
<tr>
<td>instrument_id</td>
<td>String</td>
<td>BTC-USD</td>
</tr>
</tbody>
</table>
</div><div class="api-method-code"><div class="api-method-example"><h5 id="返回示例">返回示例</h5>
<pre><code>
{"table":"index/candle60s","data":[{"instrument_id":"BTC-USD","candle":[1543371480000,"3811.31","3811.31","3811.31","3811.31","0"]}]}
</code></pre></div></div></div>














<h3 id="WebSocketAPI">现货和交割合约 WebSocket API 说明</h3>
<p>WebSocket API 所有返回数据都进行了 Deflate 压缩，需要用户将接收到的数据进行解压，请根据自身情况选用合适的解压缩技术，
请参考我们的<a href="https://github.com/okcoin-okex/API-docs-OKEx.com/tree/master/demo" target="_blank">demo</a> </p>
<p><strong>强烈建议开发者使用WebSocket API获取市场行情和买卖深度等信息。</strong></p>
<p><strong>说明：现货和交割合约websocket接口暂时未升级到v3，但已经支持使用v3签名验证请求
（即支持使用v3新的数字签名方式登录及调取ws v1接口，
详情可以参考API概述验证说明及以下文档），
以下文档还标注了部分字段与v3的对应，尽请期待后续升级。</strong></p>
<p>1.<a href="https://ok-public-hk.oss-cn-shenzhen.aliyuncs.com/cdn/assets/broker/apifile/doc/websocket-api-future.docx" target="_blank">WebSocket API for FUTURES 点击下载</a></p>
<p>2.<a href="https://ok-public-hk.oss-cn-shenzhen.aliyuncs.com/cdn/assets/broker/apifile/doc/websocket-api-spot.docx" target="_blank">WebSocket API for SPOT 点击下载</a></p>
<h3 id="swap_ws-error_code">错误码</h3>
<p>error message 格式：</p>
<p>{“event”:”error”,” message”:” <error_message>“,”error_code”:”<error_code>“}</error_code></error_message></p>
<h5 id="错误码示例">错误码示例</h5>
<table>
<thead>
<tr>
<th>错误描述</th>
<th></th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>“OK_ACCESS_KEY”不能为空</td>
<td>OK_ACCESS_KEY  cannot be blank</td>
<td>30001</td>
</tr>
<tr>
<td>“OK_ACCESS_SIGN”不能为空</td>
<td>OK_ACCESS_SIGN  cannot be blank</td>
<td>30002</td>
</tr>
<tr>
<td>“OK_ACCESS_PASSPHRASE”不能为空</td>
<td>OK_ACCESS_PASSPHRASE cannot be blank</td>
<td>30004</td>
</tr>
<tr>
<td>无效的OK_ACCESS_TIMESTAMP</td>
<td>Invalid OK_ACCESS_TIMESTAMP</td>
<td>30005</td>
</tr>
<tr>
<td>无效的OK_ACCESS_KEY</td>
<td>Invalid OK_ACCESS_KEY</td>
<td>30006</td>
</tr>
<tr>
<td>请求时间戳过期</td>
<td>Timestamp request expired</td>
<td>30008</td>
</tr>
<tr>
<td>无效的sign</td>
<td>Invalid sign</td>
<td>30013</td>
</tr>
<tr>
<td>用户请求频率过快，超过该接口允许的限额</td>
<td>Requested too frequent; endpoint limit exceeded</td>
<td>30026</td>
</tr>
<tr>
<td>不合法的请求</td>
<td>Login failure</td>
<td>30027</td>
</tr>
<tr>
<td>不合法的请求</td>
<td>Unrecognized request</td>
<td>30039</td>
</tr>
<tr>
<td>频道不存在</td>
<td>{0} Channel : {1}  doesn't exist</td>
<td>30040</td>
</tr>
<tr>
<td>用户需要登录</td>
<td>User not logged in / User must be logged in</td>
<td>30041</td>
</tr>
<tr>
<td>重复登录</td>
<td>Already logged in</td>
<td>30042</td>
</tr>
<tr>
<td>内部系统错误</td>
<td>Internal system error</td>
<td>30043</td>
</tr>
</tbody>
</table>
<h3 id="change-README">更新日志</h3>
<h4 id="change-summarize">API概述</h4>
<p>【2018-11-06】</p>
<p>内容修改：RestAPI如果传入有效的API Key用user ID限速。如果没有则拿公网IP限速</p>
<h4 id="change-wallet">钱包</h4>
<p>【2018-11-27】</p>
<p>功能新增：资金划转接口请求参数from和to 新增8 余币宝类型，以及限速规则</p>
<p>【2018-10-24】</p>
<p>功能新增：资金划转接口instrument_id参数修改成支持币对</p>
<h4 id="change-token_trading">币币</h4>
<p>【2018-11-16】</p>
<p>功能新增：获取成交明细side增加点卡费类型并修改示例</p>
<p>【2018-11-14】</p>
<p>功能新增：币币各接口限速规则</p>
<p>【2018-11-08】</p>
<p>功能新增：深度数据加时间戳</p>
<p>功能新增：获取订单列表查询支持多状态：status=filled|open</p>
<p>【2018-11-06】</p>
<p>内容修改：批量下单，下单接口 签名示例：市价单type=market</p>
<p>【2018-10-19】</p>
<p>功能新增：获取所有未成交订单接口，支持按instrument_id查询未成交订单</p>
<h4 id="change-margin_trading">币币杠杆</h4>
<p>【2018-11-27】</p>
<p>修改：币币杠杆账户信息接口：返回的币对链接符'_ '改成'-' ，两种格式现货都支持</p>
<p>修改：获取某个杠杆配置信息：修改了返回示例</p>
<p>【2018-11-27】</p>
<p>功能新增：获取借币记录和获取借币记录接口增加强制还息和利率字段</p>
<p>【2018-11-16】</p>
<p>功能新增：批量下单功能返回每个订单的下单状态</p>
<p>【2018-11-14】</p>
<p>功能新增：币币杠杆各接口限速规则</p>
<p>【2018-11-08】</p>
<p>功能新增：获取订单列表查询支持多状态：status=filled|open</p>
<p>【2018-11-06】</p>
<p>内容修改：批量下单，下单接口 签名示例：市价单type=market</p>
<p>【2018-10-22】</p>
<p>功能新增：借币接口：borrowed：已借币；lending_fee：利息</p>
<p>【2018-10-19】</p>
<p>功能新增：获取所有未成交接口 支持按instrument_id查询未成交订单</p>
<h4 id="change-futures_trading">交割合约</h4>
<p>【2018-11-14】</p>
<p>功能新增：合约各接口限速规则</p>
<p>【2018-10-24】</p>
<p>功能新增：status状态增加-1撤单成功</p>
<p>【2018-10-19】</p>
<p>功能新增：支持按order_id撤销订单</p>
<p>功能新增：深度数据返回加时间戳</p>
<h4 id="change-ett">ETT</h4>
<p>【2018-10-24】</p>
<p>功能新增：下单接口：Type: "加0"："组合申购"；Amount：usdt 申购必填；Size：赎回和组合申购必填</p>
<h4 id="change-error_code">错误码</h4>
<p>【2018-11-30】</p>
<p>功能新增：钱包接口新增34021和34022错误码</p>
<p>内容修改：舍弃错误码30036，如果没有数据，将返回空</p>
<p>【2018-11-01】</p>
<p>功能新增：公共错误码的使用场景</p>
<p>【2018-10-31】</p>
<p>内容修改：合约和钱包错误码</p>
<p>【2018-10-29】</p>
<p>内容修改：币币和币币杠杆错误码</p>
<h3 id="change-README">Websocket更新日志</h3>
<h3 id="change-swap">永续合约</h3>
<p>【2018-12-6】</p>
<p>功能新增：新增文档</p>
<h3 id="change-swap_errorcode">错误码</h3>
<p>【2018-12-6】</p>
<p>功能新增：新增文档</p>
<h3 id="support-README">问题反馈</h3>
<p class="support-section">如果您有任何api相关问题，意见或者建议，请点此<a class="with-root" href="https://www.okex.com/account/users/support" target="_blank">链接</a>反馈：(请标明是API v3 ),  我们会及时处理您的问题。</p>



                                

                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class="search-results-count"></span> results matching "<span class="search-query"></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class="search-query"></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"入门指引","level":"1.1","depth":1,"next":{"title":"API概述","level":"1.2","depth":1,"anchor":"#summary-README","path":"README.md","ref":"README.md#summary-README","articles":[{"title":"撮合引擎","level":"1.2.1","depth":2,"anchor":"#summary-match","path":"README.md","ref":"README.md#summary-match","articles":[]},{"title":"费用","level":"1.2.2","depth":2,"anchor":"#summary-fees","path":"README.md","ref":"README.md#summary-fees","articles":[]},{"title":"服务器","level":"1.2.3","depth":2,"anchor":"#summary-servers","path":"README.md","ref":"README.md#summary-servers","articles":[]},{"title":"请求","level":"1.2.4","depth":2,"anchor":"#summary-requests","path":"README.md","ref":"README.md#summary-requests","articles":[]},{"title":"分页","level":"1.2.5","depth":2,"anchor":"#summary-pages","path":"README.md","ref":"README.md#summary-pages","articles":[]},{"title":"标准规范","level":"1.2.6","depth":2,"anchor":"#summary-rules","path":"README.md","ref":"README.md#summary-rules","articles":[]},{"title":"接口类型","level":"1.2.7","depth":2,"anchor":"#summary-ports","path":"README.md","ref":"README.md#summary-ports","articles":[]},{"title":"访问限制","level":"1.2.8","depth":2,"anchor":"#summary-limit","path":"README.md","ref":"README.md#summary-limit","articles":[]},{"title":"验证","level":"1.2.9","depth":2,"anchor":"#summary-yan-zheng","path":"README.md","ref":"README.md#summary-yan-zheng","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","theme-api","alerts","todo","customize-ok"],"styles":{"website":"website.css","pdf":"pdf.css"},"pluginsConfig":{"todo":{},"customize-ok":{"grid-columns":3},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"show-lang-switcher":"summary-yan-zhen","fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"replace":{"substitutes":[{"pattern":"{{filePath}}","substitute":"https://ok-public-hk.oss-cn-shenzhen.aliyuncs.com/cdn/assets/broker/apifile","flags":"g"},{"pattern":"{{projectName}}","substitute":"OKEx","flags":"g"},{"pattern":"{{projectNameEn}}","flags":"g","substitute":"OKEX"}]},"theme-api":{"languages":[],"split":true,"theme":"light"},"alerts":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"url":"../static/img/logo.png","style":"","mainSite":"/"}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"OKEx | API Reference","language":"zh-hans","gitbook":"*","description":"API Reference - V3"},"file":{"path":"README.md","mtime":"2018-12-07T10:44:52.461Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-07T10:44:54.071Z"},"basePath":".","book":{"language":"zh"}});
        });
    </script>
</div>

        
    
    <script src="./OKEx _ API Reference_files/gitbook.js"></script>
    <script src="./OKEx _ API Reference_files/theme.js"></script>
    
        
        <script src="./OKEx _ API Reference_files/plugin.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/expand-chapter-anchor.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/language-picker.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/search-engine.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/search.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/lunr.min.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/search-lunr.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/fontsettings.js"></script>
        
    
        
        <script src="./OKEx _ API Reference_files/theme-api.js"></script>
        
    

    <script>
        localStorage.setItem('lang', 'zh');
    </script>

    


</body></html>